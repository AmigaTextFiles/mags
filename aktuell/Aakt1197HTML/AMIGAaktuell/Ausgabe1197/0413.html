<HTML>
<HEAD>
<TITLE>Amiga-Aktuell 11/97 PowerUp-to Date</TITLE>
</HEAD>

<BODY BACKGROUND="../gfx/newbg.gif" BGCOLOR="#75BAFF" TEXT="#000000" LINK="#0000FF" VLINK="#000088">


<TABLE>
<TR>
<TD VALIGN=TOP COLSPAN=2 WIDTH=100><IMG WIDTH=491 HEIGHT=86 SRC="../gfx/amipu.gif" ALT="Amiga-Aktuell 10/97 - PowerUp-to-Date" BORDER=0></TD>
<TD WIDTH=100 VALIGN=TOP>
</TD>
</TR>
<TR>
<TD VALIGN=TOP><IMG WIDTH=51 HEIGHT=351 SRC="../gfx/akt.gif" ALT="Logo">
<CENTER><BR><BR>
<IMG WIDTH=100 HEIGHT=1 SRC="../gfx/spc.gif" BORDER=0 ALT="">
<BR><BR>Powered by <BR><A HREF="http://www.clearlight.com/~dietmar">GoldED</A>
</CENTER>
</TD>
<TD WIDTH=391 VALIGN=TOP>
 <A NAME="Top"></A>
<BR><BR><BR>
<H1 ALIGN=CENTER>Weiterer Test der CyberstormPPC (von Steffen H&auml;user)</H1>
Der bekannte AMIGA-Software-Programmierer Steffen H&auml;user hat AMIGA aktuell
einen Testbericht zu seiner neuen CyberstormPPC zur Verf&uuml;gung gestellt:<P><BR>
&#171;1. Zunaechst mal das Formale:<P>
"PowerUP" ist eine neue Prozessorkarte fuer den Amiga3000/4000 (bald auch
A1200/2000), die einen 68k Prozessor und einen PPC Prozessor enthaelt.
Bisher sind erhaeltlich:<P>
50 MHz 68060 + 150 MHz PowerPC = (ohne den 68060) 1200 DM<BR>
50 MHz 68060 + 180 MHz PowerPC = (ohne den 68060) 1500 DM<BR>
50 MHz 68060 + 200 MHz PowerPC = (ohne den 68060) 1750 DM<P>
Angekuendigt sind auch Prozessorkarten, die einen 68040 als "Companion CPU"
vertragen, ebenso wie spezielle Karten fuer den A1200 und A2000. Die A1200
Karten verwenden den PowerPC 603e (waehrend die A2000/3000/4000 Karten den
schnelleren PowerPC 604e verwenden) und sind billiger.<P><BR>
Zuzueglich hat PowerUP an Hardware zu bieten:<P>
Einen Ultra Wide SCSI Controller (40 MB/sec.), bzw. in der A1200 Version
einen (billigeren) FastSCSI II Controller.<P>
Eine mit PCI vergleichbare Highspeed-Schnittstelle fuer die Anfang
naechsten Jahres erscheinenden Grafikkarten CyberVisionPPC bzw. BVisionPPC.
(10-15fache Busgeschwindigkeit vom Zorro 3 Bus des Amiga 4000).<P>
Man mag meinen, dass das eine Menge Geld ist, aber: ein 150 MHz PowerPC
604e entspricht in etwa einem 200 MHz Pentium !!! PowerUP bietet die
Performance eines modernen PC (die 200 MHz Versionen entsprechen
PentiumPro-Systemen...) in Verbindung mit dem Amiga Betriebssystem. Es
steht zu erwarten, dass in der Zukunft auch 350 MHz Versionen erscheinen
werden (der PowerPC ist momentan bei 150-350 MHz, fuer Sommer '98 sind 566
MHz Varianten angekuendigt).<P><BR>
<H2>Nun zum eigentlichen Testbericht:</H2>
<B>1. Die Hardware</B><P>
Die PowerUP Karte laesst sich genauso einfach wie eine Cyberstorm-Karte in
einen Amiga 3000/4000 einbauen. Zwei Jumper muessen gesetzt werden. Beim
Amiga 3000 muss auf der Platine etwas umgeloetet werden (Hardware Bug des
A3000). Beim A4000 ist dies zum Glueck nicht noetig.<P>
Ungewohnt fuer Amiga-Besitzer duerfte der Support fuer EDO-RAM sein, sowie
der 64 Bit Memory-Bus. Ein 64 Bit Memory-Bus bedeutet auch (wie beim
Pentium), dass man immer paarweise gleiche RAM-Module einstecken muss, der
Hersteller Phase 5 empfiehlt sogar, Module des gleichen Herstellers zu
verwenden. Ich selber bin da gleich reingefallen, da ich auf einer Bank ein
EDO und ein Nicht-EDO habe. Das laeuft auf der Karte nicht (ebensowenig wie
es auf einem Pentium-PC laufen wuerde), ich muss nochmal RAM kaufen. Die
Software konnte ich daher noch nicht "voll" testen, da die Karte derzeit
nur 7.5 MB Fastram erkennt, aufgrund der RAM-Modul-Probleme. Als RAM-Module
werden ganz normale PS/2 verwendet, wie auf dem PC, bis zu maximal 32 MB
Modulen (der Endausbau waere also maximal 128 MB fuer einen Amiga).<P>
Ein Kritik-Punkt ist, dass der UW-SCSI Controller nicht terminiert ist. Der
Nutzer muss sich zwei aktive Terminatoren und einen UW-SCSI->FastSCSI
Converter dazu kaufen. Das finde ich nicht so toll. Bei einer derart teuren
Karte haette das im Lieferumfang sein koennen.<P><BR>
<B>2. Die Software</B><P>
Derzeit gibt es zwei verschiedene Treibersysteme fuer PowerUP, die
mitgelieferte ppc.library und WarpOS von Haage&amp;Partner. Egal, welches man
verwendet, zunaechst muss man die 68040.library und die 68060.library von
den Installationsdisks installieren, und zwar BEVOR man die Karte einbaut,
sonst laeuft sie nicht richtig. Eine "alte" 68040.library funktioniert
nicht.<BR>
Mac-Emulator-Besitzer sollten weiterhin darauf achten, dass "Prepareemul"
oder aehnliches erst NACH dem Setpatch gestartet wird. Auch muessen nach
dem Setpatch die Caches neu gesetzt werden, da die libs diese abzuschalten
scheinen. Die Anleitung geht hierauf leider nicht ein. (Die korrekte
Installation kostete mich einen Abend...)<P><BR>
<H2>Nun zu den Treibersystemen</H2>
<B>a) ppc.library</B><BR>
ppc.library basiert auf dem ELF-Format, das u.a. in Linux Verwendung
findet. Ein komplettes Entwickler-Paket wird auf CD mitgeliefert. Auf der
CD finden sich auch:<P>
<UL>
<LI>Ein Mandelbrot-Programm (das aber auf dem PPC nicht viel schneller laeuft
als auf dem 68k)
<LI>Ein MPEG-Viewer mit Sound- und Video-Unterstuetzung (sehr eindrucksvoll,
unterstuetzt auch den "Overlay" der CV/3D Grafikkarte (optional). Ein
MPEG, das auf einem 40 MHz 040 mit 7-8 fps lief, laeuft nun mit ganzen
52 fps (150 MHz Karte).
<LI>MPEG Audio Support: Leider ist der beigefuegte MP3-Encoder nur in einer
68k Version vorhanden, ein Decoder fuer PPC ist jedoch dabei. MP3s liefen
bisher selbst auf einem 68060 nur hoechst ruckelig. Nun laufen sie in
allerhoechster Qualitaet (Soundkarten werden optional auch unterstuetzt),
und auf dem 68060 sind nur etwa 6% Rechenbelastung feststellbar (is ja
klar...). Fuer den PPC habe ich leider noch kein Programm, die
Rechenbelastung festzustellen. Der MPEG Player (der auf der CD ein wenig
"versteckt" im Contrib/Demos Verzeichnis zu finden ist) ist sehr
eindrucksvoll.
<LI>Einige weitere weniger interessante Demos
</UL><BR>
Entgegen Behauptungen im Netz konnte ich keine Instabilitaeten der
ppc.library feststellen. Jedoch stuerzte sie mir ab, als ich versuchte,
*zwei* PPC Programme gleichzeitig zu starten. Entweder das liegt an 'nem
Bug in der ppc.library (Geruechten zufolge soll sie ja VIELE Bugs haben),
oder daran, dass bei mir die Speichereinbindung noch nicht sauber ist
(morgen muss ich DRINGEND ein 8 MB PS/2 EDO kaufen...)<P><BR>
<B>b) WarpOS</B><P>
WarpOS ist entgegen seinem etwas verwirrenden Namen kein OS, sondern
lediglich eine Betriebssystemerweiterung fuer den Amiga, die PowerPC-
Support ohne Verwendung des "Amiga-fremden" ELF-Formats ermoeglicht.
Sprich: Man kann mit einem ganz normalen Amiga C-Compiler arbeiten (sofern
er PPC Support anbietet, was die Wahl momentan auf den StormC von
Haage&amp;Partner, den Hersteller von WarpOS, festlegt). WarpOS ersetzt
ppc.library und Teile der exec.library. WarpOS ist nahezu 100% PPC Native,
laeuft also nahezu "nur" auf dem PowerPC. Dies ist anscheinend bei
ppc.library nicht der Fall. Dadurch kann WarpOS im Betrieb scheinbar
deutliche Geschwindigkeitsvorteile bringen.<P>
Es zeigte sich auch, dass WarpOS fuer Entwickler deutlich komfortabler ist.
Big/Fat Binaries und PPC Native Libraries werden unterstuetzt, und ein
"Kontextswitch" (ein Prozessorwechsel) wird automatisch vom Compiler
gehandhabt, ohne dass der Entwickler diesen manuell durchfuehren muss. Der
produzierte Source ist dadurch deutlich portabler, das Executable besitzt
eine hoehere Ablaufgeschwindigkeit. Dazu noch gibt es fuer WarpOS auch
einen PPC Assembler, den es fuer ppc.library (ausser dem GNU Assembler)
nicht gibt.<BR>
Ausserdem vereinfacht WarpOS stark das Parallelentwickeln von 68k+PPC
Versionen.<P><BR>
WarpOS ist frei kopierbar und kommt mit einigen Demos:<P>
<UL>
<LI>Cybermand, ein Mandelbrotprogramm, mit dem man in ECHTZEIT in die
Mandelbrotmenge reinzoomen kann. Sehr eindrucksvoll.
<LI>Ein Voxelgrafikdemo, das mit >50 fps in Fullscreen laeuft und ein wenig
zeigt, wie Spiele auf dem Amiga in Zukunft aussehen koennen. Der
Programmierer von WarpOS hat WarpOS urspruenglich, als er noch nichts
mit Haage&amp;Partner zu tun hatte, ganz aus dem Grund angefangen zu
programmieren, damit es eine Software gibt, mit der man schnelle Spiele
machen kann (er hat Erfahrungen auf dem Gebiet Demo/3D/Spiele-
Programmierung und weiss, was noetig ist).
<LI>Ein Benchmarkprogramm (c2p,
Speicherkopieren/lesen/schreiben/Contextswitch...)
<LI>Einige weniger interessante Programme
</UL><BR>
<B>c) ppc.library vs. WarpOS</B><P>
Wie bereits ersichtlich ist, gibt es nun ZWEI Treibersysteme fuer PowerUP,
zwei Kernels. Die Problematik ist folgende:<P>
<UL>
<LI>Wenn man ein WarpOS Programm gestartet hat, ist ein ppc.library Programm
erst nach einem Reset wieder startbar.
<LI>Wenn man ein ppc.library Programm gestartet hat, ist ein WarpOS Programm
erst nach einem Reset wieder startbar.
</UL><BR>
Alternativ gibt es noch WarpOS V7. WarpOS V7 ist ein Wrap-Around um die
ppc.library, sprich: Man kann WarpOS und ppc.library parallel laufen
lassen. Der Nachteil: Man erhaelt nicht die verbesserte Geschwindigkeit von
WarpOS (ich selber habe aus diesem Grunde WarpOS V12 installiert... wenn
ich denn einen Reset machen muss, dann mach' ich halt 'nen Reset).<P>
Die viel diskutierten Kontextswitchwerte
(auf dem 150 MHz Board, auf dem 200er sind sie
scheinbar eine Spur schneller):<P>
WarpOS V12.2: 0.57-0.59 Millisekunden<BR>
WarpOS V7 und ppc.library (beide ergeben exakt die gleichen Testwerte !!!):
2.1-2.4 Millisekunden<P>
Irgendwelche Sprueche ueber 0.1 Millisekunden Switch-Werte fuer
ppc.library, wie sie einige Phase 5 nahestehende Quellen im Netz
verkuendeten, koennen also ins Reich der Fabel verwiesen werden. Ebenso
muss aber gesagt werden, dass die angeblichen "100 Millisekunden" nur eine
sehr alte Beta-Version betrafen.<P>
Vor einiger Zeit kursierte im Netz ein "Benchmark", der einen Wert von 0.2
Millisekunden zu beweisen suchte. Der Programmierer hatte schlichtweg
vergessen, die Caches zu flushen, was bei einem "echten" Kontext-Switch
unbedingt erforderlich ist.<P>
Ein etwas umstrittener Geschwindigkeitsvergleich ist es, das Voxeldemo von
Haage&amp;Partner einmal auf WarpOS V12.2 und einmal auf WarpOS V7
laufenzulassen.<BR>
Haage&amp;Partner sagen, dies wuerde dann exakt der Geschwindigkeit von WarpOS
entsprechen, Phase 5 hingegen sagt, dies waere "nicht vergleichbar". Ich
will die Vergleichswerte einfach mal "so stehen lassen" (wobei aufgrund der
Wrap-Around-Natur von WarpOS V7 Haage&amp;Partners Ansicht wahrscheinlich
korrekt ist):<P>
WarpOS V12.2: 50-55 fps in 320*256<BR>
WarpOS V7: 28-32 fps in 320*256<BR>
Intern laeuft das Programm auf 68k, fuehrt jedoch die komplette
Voxelberechnung und Grafikdarstellung (bei Option "warp") auf PowerPC
durch.<BR>
Ein Kontextswitch pro Schleifendurchlauf ist erforderlich, was einem
Slowdown von etwa 1-3% auf WarpOS V12.2 entspricht (geschaetzt).<P>
Die Behauptung Phase 5s, ein asynchrones Ansteuern des PPC (PPC+68k)
gleichzeitig, wuerde Geschwindigkeitsgewinne bringen, kann ich (da ich noch
nichts derartiges programmiert habe und wohl auch nicht werde) nicht be-
oder widerlegen.<P>
Es bleibt jedoch anzumerken, dass Phase 5 bisher kein entsprechendes
Beispiel veroeffentlicht hat. Sam Jordan auf der anderen Seite hat es
bereits ausprobiert, und es war anscheinend langsamer als auf einem 68060,
da sich die beiden Prozessoren "in die Quere kamen".<P>
Abschliessend moechte ich einen Ausblick in die zu erwartende
Software-Entwicklung geben: (P) bedeutet: Teil der PowerUP CD, (W): Teil
der WarpOS CD.<P>
<PRE>
Programm       Benutzte Software Art     Release-Datum
========       ================= ===     =============

IrisPPC(P)     ppc.library       MPEG+      ERSCHIENEN
                                 VideoCD

CyberGL(P)     ppc.library       OpenGL     ERSCHIENEN
                                 Port

MPEGPLAYER(P)  ppc.library       MP3 Player ERSCHIENEN

Benoit(P)      ppc.library       Mandelbrot ERSCHIENEN

Cybermand(W)   WarpOS            Mandelbrot ERSCHIENEN

Tornado3D      WarpOS            Raytracer  Nov. (???)

Reflections    WarpOS            Raytracer  Nov. (???)

Wildfire       ppc.library       Effekt-Pr. Okt./Nov.

Fusion         WarpOS (????)     PowerMac-  ???
                                 Emu

StormC         WarpOS            Compiler   ERSCHIENEN

Storm          WarpOS            PPC        Nov. (???)
PowerASM                         Assembler

Diverse        WarpOS            Spiele      ???
Spiele

Superview      ppc.library (???) Grafiksoftware ???

SAS/C          ppc.library       Compiler    ???

???            WarpOS            Compiler    ???

Linux          Direkt-Hardware   OS          ???

rtg-           WarpOS            Support-Lib Nov. (???)
master.library
</PRE><BR>
Ausserdem sind PPC-Versionen geplant von:<P>
PCX, PictureManagerPro, Turboprint, Imagine6.0, PC-Task.<P>
PPC-Spiele sind vor allem von ClickBOOM und Vulcan Software zu erwarten,
vermutlich auch von Titan Computer. Denkbar ist auch eine Umsetzung von
diversen ProDAD-Produkten (inkl. p-OS) und Lightwave (!!!). Genauere
Informationen duerften auf der Messe erhaeltlich sein. Ich nehme auch an,
dass eine Menge "Freeware-Dinge" wie z.B. MPEG/AVI-Zeugs fuer beide Systeme
in ausreichender Menge erscheinen wird. (Ich werde wohl, wenn mein Rechner
es wieder tut, versuchen, MusicIN, das bisher nur fuer 68k verfuegbar ist,
fuer PPC zu compilieren.)<P>
Was sich durchsetzen wird, ist sicher noch unklar, jedoch werden beide
sicher - ehe die Entscheidung faellt -, aehnlich wie damals CyberGraphX und
EGS parallel existieren. Ich rechne auch mit mancher Software, die fuer
beide Software erscheint (kann sein, dass dies bei Superview der Fall sein
wird, Andreas Kleinert denkt darueber nach...)<P>
Letzten Endes, denke ich, wird sich WarpOS - einfach wegen seiner besseren
Portabilitaet, einfacherer Bedienung, hoeherer Effizienz/Geschwindigkeit,
besserer Stabilitaet (?) und leichterer Anpassbarkeit an eventuelle PPC-
Karten anderer Hersteller durchsetzen.<P>
Wer sich dafuer interessiert, kann auf der Page<P>
<A HREF="http://hem.passagen.se/studiox/powerup/index.html">http://hem.passagen.se/studiox/powerup/index.html</A><P>
eine Vote abgeben, ob er sich wuenschen wuerde, dass Phase 5 sich aus der
"Softwareseite" zurueckzieht, oder das Gegenteil... u.a. sind Microcode
Solutions (Fusion PowerMac-Emulation und PCX...) *sehr* an den Ergebnissen
dieser Auswertung interessiert. Eine zweite Frage ist, welches Programm man
sich fuer PowerUP wuenschen wuerde... moeglichst viele Leute bitte Fusion
angeben... Naeheres ist auch auf der Homepage von Microcode Solutions zu
sehen (Einfach auf <A HREF="http://www.cucug.org/amiga.html">www.cucug.org/amiga.html</A> mit Suchbegriff Microcode oder
Fusion suchen...)<P>
Was noch zu sagen ist:<P>
Irgendwelche Berichte aus dem Internet, dass "alle 68k Programme anhalten
wuerden, waehrend ein PPC Programm laeuft" sind absoluter Unsinn. Waehrend
ich das MP3-Programm getestet hatte, wurden gerade eben 6% CPU-Belastung
angezeigt, und die kamen wohl zum groessten Teil durch Festplattenzugriffe
und derartiges... auch bremst der PPC nicht 68k-Tasks aus, wie hin und
wieder behauptet wurde (solange nicht massiv rechenintensive Programme auf
beiden Prozessoren laufen, was wieder das Problem des gemeinsamen
Speicherbusses aufbringen wuerde), sprich man kann sein System ganz normal
laufen lassen. Auch Berichte ueber Instabilitaeten der 68k-Seite durch den
PPC kann ich zum Glueck nicht bestaetigen.<P>
Steffen Haeuser&#187;
<CENTER><BR><A HREF="0412.html"><IMG SRC="../gfx/prev.gif" BORDER=0 WIDTH=11 HEIGHT=21></A>
&nbsp;
<A HREF="#Top"><IMG WIDTH=20 HEIGHT=20 SRC="../gfx/top.gif" ALT="[TOP]" BORDER=0></A>
&nbsp;
<A HREF="0414.html"><IMG SRC="../gfx/nxt.gif" BORDER=0 WIDTH=11 HEIGHT=21></A>
</TD>
<TD VALIGN=TOP>
<A HREF="../index.htm"><IMG WIDTH=98 HEIGHT=23 SRC="../gfx/home0.gif" ALT="Homepage" BORDER=0></A><BR>
<A HREF="../hot.html"><IMG WIDTH=98 HEIGHT=23 SRC="../gfx/letzm0.gif" ALT="letzte Meldung" BORDER=0></A><BR>
<H3><B>Ausgabe 11/97</B></H3>
<A HREF="0000.html"><IMG WIDTH=98 HEIGHT=23 SRC="../gfx/int0.gif" ALT="Intern" BORDER=0></A><BR>
<A HREF="0100.html"><IMG WIDTH=98 HEIGHT=23 SRC="../gfx/test0.gif" ALT="Test" BORDER=0></A><BR>
<A HREF="0200.html"><IMG WIDTH=98 HEIGHT=23 SRC="../gfx/games0.gif" ALT="Spiele" BORDER=0></A><BR>
<A HREF="0300.html"><IMG WIDTH=98 HEIGHT=23 SRC="../gfx/anews0.gif" ALT="Amiga News" BORDER=0></A><BR>
<A HREF="0400.html"><IMG WIDTH=98 HEIGHT=23 SRC="../gfx/powup1.gif" ALT="[PowerUp-to-date]" BORDER=0></A><BR>
<A HREF="0500.html"><IMG WIDTH=98 HEIGHT=23 SRC="../gfx/messe0.gif" ALT="Messe News" BORDER=0></A><BR>
<A HREF="0600.html"><IMG WIDTH=98 HEIGHT=23 SRC="../gfx/prod0.gif" ALT="Produktvorstellungen" BORDER=0></A><BR>
<A HREF="0700.html"><IMG WIDTH=98 HEIGHT=23 SRC="../gfx/div0.gif" ALT="diverse News" BORDER=0></A><BR>
<A HREF="0800.html"><IMG WIDTH=98 HEIGHT=23 SRC="../gfx/nflash0.gif" ALT="Newsflash" BORDER=0></A><BR>
<A HREF="0900.html"><IMG WIDTH=98 HEIGHT=23 SRC="../gfx/gerk0.gif" ALT="Ger&uuml;chtek&uuml;che" BORDER=0></A><BR>
<A HREF="1000.html"><IMG WIDTH=98 HEIGHT=23 SRC="../gfx/abschl0.gif" ALT="Absclie&szlig;end" BORDER=0></A><BR>
<BR><BR>
<A HREF="../archiv.html"><IMG WIDTH=98 HEIGHT=23 SRC="../gfx/archiv0.gif" ALT="Archiv" BORDER=0></A><BR>
<A HREF="../abo.html"><IMG WIDTH=98 HEIGHT=23 SRC="../gfx/abo0.gif" ALT="Abo" BORDER=0></A><BR>
<A HREF="../kontakt.html"><IMG WIDTH=98 HEIGHT=23 SRC="../gfx/kont0.gif" ALT="Kontakt" BORDER=0></A><BR>
</TD>
</TR>
</TABLE>
</BODY>
</HTML>

