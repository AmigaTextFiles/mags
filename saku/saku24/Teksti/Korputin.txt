2
1
9 Korputin_1.IFF 124 0
11 Korputin_2.IFF 193 72*

{3                            Erään korputtimen tarina
{3                            ------------------------

       eli tietoa PC:n HD-levykeaseman käyttämisestä Amigassa DD-asemana


Seuraa tositarina Panasonicin JU-257A606P-levykeaseman  muuttamisesta  Amiga-yh-
teensopivaksi. Yleistä tietoa pitäisi olla sisällytettynä  siinä  määrin,  ettei
soveltaminen muidenkaan mallien ja merkkien kanssa liene mahdotonta. Huomaa, et-
tei ohjeita ole tarkoitettu kokemattomille.  Ellet  täysin  ymmärrä,  mitä  itse
asiassa pitäisikään tehdä, on viisainta perääntyä hyvässä järjestyksessä.  (Neu-
vo, mikä pitää varmasti paikkansa elämässä yleisemminkin.)  Juottokolvin  tulisi
tässä vaiheessa olla jo tuttu työkalu. Huomaa lisäksi, ettei  jutun  kirjoittaja
ota vastuuta tietojen paikkansapitävyydestä, talven rospuuttokeleistä eikä  itse
asiassa mistään muustakaan - kukin siis töppäilköön omalla vastuullaan!

{3                                   * * *

Niin ikävää kuin se onkin, tietokoneet eivät ole ikuisia. Vaan  vielä  huonommin
menee mekaanisia osia kuoriensa alle kätkeneillä laitteilla. Eräs tällainen, ka-
verini (itsehän olen huolellisuuden perikuva...) tiensä päähän  tullut  ulkoinen
SupraDrive-levykeasema joutui taannoin hyllylleni pelastaessani sen  ennenaikai-
selta viimeiseltä matkaltaan paikalliselle kaatopaikalle.

Pitkään asema saikin hyllyssäni lojua. Olin ajatellut  säästää  sen  varaosiksi,
sillä laite näytti olevan hyvässä kunnossa lukuunottamatta tiettyä helposti  ar-
vattavaa seikkaa: se ei yksinkertaisesti toiminut. Koska  omat  laitteeni  näyt-
tivät sekä olevan hyvässä kunnossa että myös toimivan, ei varaosille tullut tar-
vetta ja ehdinkin jo miltei unohtaa koko aseman. Ennen lähes onnistunutta  unoh-
tamisyritystäni olin jo avannut levykeaseman  kotelonkin,  mutta  mitään  löyhiä
ruuveja  tai  muita  ilmeisiä  vikalähteitä  ei  silmiin  osunut.  Korjausyritys
päättyikin siihen, että pettyneenä kokosin kaiken ennalleen.

Sitten eräänä päivänä satuin puolihuolimattomasti kääntämään katseeni erään naa-
purustossa sijaitsevan PC-liikkeen seittisivulle. Silmiini pisti PC:n HD-korput-
timien halpa hinta, vaivaiset 140 markkaa. Amigallahan jopa DD-asemien vaihtoar-
vo on 300 markan paremmalla puolella, ja myyjälle parempi puoli on  sitä  tuskin
asiakkaalle. Muistini mukaan Supran sisällä majaili Amiga-spesifisen liitäntälo-
giikan lisäksi aivan tavalliselta vaikuttanut korputin, joten aloin pohtia  mah-
dollisuutta korvata rikkinäinen DD-asema uudella ja ehommalla. Ja näin se kävi:


{3Yleistä
{3-------

Amigan 3,5-tuumaiset levykeasemat ovat käytännössä joko perinteisiä 880  kilota-
vua levykkeelle kirjoittavia DD-asemia tai uudempia 1760  kilotavun  HD-malleja.
Myös joitakin eksoottisia XD-asemia vajaan neljän  megatavun  tallennusmahdolli-
suudella lienee olemassa, mutta nämä eivät varmastikaan ole kovin yleisiä (saati
sitten XD-levykkeet, joiden kappalehinta esimerkiksi Suomalaisessa kirjakaupassa
pyöri viimeksi katsoessani yli viidessä kympissä).

Toisin kuin PC-maailmassa, useimmat Amigoissa  käytettävät  levykkeet  ovat  yhä
DD-mallisia. Asia johtunee pitkälti siitä,  että  A4000-koneita  lukuunottamatta
uudet Amigat on yleensä varustettu  ainoastaan  DD-tyypin  levykeasemilla.  Nämä
DD-asemat lienevät kaikki uusimpia Amiga Technologiesin tai Amiga  Internationa-
lin valmistamia koneita lukuunottamatta yleisten standardien  mukaisia,  tunnus-
merkkinään muun muassa 34-pinninen ns. Shubart-liitin. Tällainen oli  myös  Sup-
raDriven sisältä löytynyt asema ja tällaisilta näyttävät myös uudet PC:n HD-ase-
mat. Ainakin eräissä matalissa slimline-asemissa käytetään muunkin näköisiä lii-
tinratkaisuja, joten poikkeuksetta ei tätäkään sääntöä voi mainita.

Siirtyminen DD-levykkeistä HD-levykkeisiin on  PC-ympäristössä  poikkeuksellisen
yksinkertaista. Ainoastaan luku- ja kirjoitusnopeus tuplataan  levykkeen  pyöri-
misnopeuden ja liki kaiken muun säilyessä ennallaan. Tällöin levykkeen  kullekin
uralle mahtuvan tiedon määrä kaksinkertaistuu. Koska  levykeasema  periaatteessa
suorittaa kirjoitettaessa vain muunnoksen sähköisestä  pulssista  magneettiseksi
(ja vastaavasti luettaessa magneettisesta sähköiseksi), ei sen sinällään tarvit-
se välittää lainkaan käytettävästä tiedonsiirtonopeudesta.

Amigassa levykkeen pinnassa olevien MFM-koodattujen  pulssien  tulkkaus  tehdään
kuitenkin oheispiireiltä löytyvällä blitterillä, jonka suorituskyky ei  valitet-
tavasti riitä toimimaan tällä suuremmalla nopeudella. Niinpä Commodore  keksikin
aikoinaan tilata Chinonilta erikoisvalmisteisia puolinopeusasemia, jotka  HD-le-
vykkeen  havaitessaan  puolittavat  pyörimisnopeutensa.  Näin  tietoa  saatetaan
siirtää samalla nopeudella kuin aina ennenkin. Ratkaisu sallii HD-asemien käytön
vanhoissakin koneissa, mutta on ehdottoman  epästandardi.  Tästä  syystä  tiesin
varmasti, että vaikka kaupan olevat PC:n asemat  ovat  säännöstään  HD-mallisia,
vain DD-tila olisi käytettävissä. Rakennusohjeita näiden asemien kierrosnopeuden
laskemiseen HD-levykkeiden kanssa on toki olemassa, mutta  toteutukset  kärsivät
epäluotettavuudesta etenkin levykkeille kirjoitettaessa (epäluotettava laite  on
ainakin minulle käyttökelvoton laite).

Kun ensimmäiset Amigat tulivat uunista ulos, olivat niin niistä kuin  myös  ajan
PC-koneista löytyvät levykeasemat aikansa suositusten ja säännösten mukaisia. PC
ei kuitenkaan tuolloin tarvinnut kaikkia liittimeen määriteltyjä signaaleita, ja
tilanteen myöhemmin muuttuessa IBM:n insinöörit päättivät tuntemattomasta syystä
ottaa käyttöön omat standardinsa. Siispä nykyiset PC:n asemat eivät enää käykään
Amigaan sellaisenaan - syy, minkä vuoksi tämäkin juttu tuli  kirjoitettua.  Mai-
nittakoon, että uusimmissa A1200:ssa käytetään nimenomaan PC:n asemia, joita  ei
ole aina edes tässä  esitetyssä  laajuudessa  "amigaltaistettu",  mikä  selittää
niissä ilmenneet yhteensopivuusongelmat  eräiden  pelien  ja  kopiointiohjelmien
kanssa. Tämä pulma lienee nyttemmin korjattu.

PC-myynnin muodostaessa leijonanosan levykeasemien markkinoista ei liene  vaikea
ymmärtää, miksi valmistajat ovat viitanneet kintaalla olemassaoleville  standar-
deille  ja  räätälöineet  tuotteensa   nimenomaan   PC-koneissa   käytettäväksi.
Ylimääräiset ominaisuudet näkyisivät kuitenkin ikävästi hinnassa. Nykyaikaisissa
levykeasemissa on toisaalta onneksemme muun muassa lähes kaikki logiikka  mahdu-
tettu hinnoittelusyistä yhdelle erityisesti juuri tähän tarkoitukseen suunnitel-
lulle ns. ASIC-piirille. Näiden piirien yksikkökustannukset ovat  verraten  pie-
net, mutta suunnittelu vaatii aikaa ja rahaa. Onni on siinä, ettei ainakaan  Pa-
nasonic ole vielä päättänyt optimoida tätä  piiriä  vain  PC-koneita  ajatellen,
vaan heidän levykeasemansa on edelleen mahdollista muuttaa kutakuinkin Amiga-yh-
teensopivaksi.


{3Amiga vs. PC
{3------------

Tärkeimmät erot Amigan DD-asemien ja PC:n HD-asemien välillä ovat  laskettavissa
jopa Black&Decker-esittelijän sormin; niitä on kolme kappaletta:

1) Select-signaali

Jotta mahdollisesti useammalle levykeasemille menevä yhteinen kaapeli ei lihoisi
liikoja, ovat useimmat siinä kulkevat signaalit jaettuja, ts. samat  tiedot  me-
nevät aina samanaikaisesti kaikille koneeseen kytketyille asemille.  Toivottavaa
kuitenkin olisi, että vaikkapa kirjoituskomentoa toteltaisiin vain yhdessä  pai-
kassa kerrallaan. Tämän mahdollistamiseksi tietokone ilmoittaa kulloinkin komen-
tamansa aseman ns. valintasignaalia käyttäen.

Levykeasemissa käytettävään Shubart-liittimeen on varattu neljä valintasignaalia
Select0:sta  Select3:een.  Vaikka  luku  on  sama  kuin   Amigan   levykeasemien
enimmäismäärä, ei näillä asioilla ole yhteyttä. Amigassa lisälevykeasemien  ase-
manumerot määrää niiden koteloissa  oleva  erillinen  oheislogiikka,  joka  muun
muassa huolehtii aseman  ja  sen  mallin  tunnistamisessa  virtoja  päälle  kyt-
kettäessä. Kaikki näkemäni Amigan asemat on säädetty toimimaan Select0:lla,  jo-
hon oheislogiikka siis yhdistää oikean Amigalta tulevan valintasignaalin. Amigan
alkuperäisasemissa käytettävä valintasignaali voidaan yleensä valita siltauksil-
la tai pienellä kytkimellä, mikä sinänsä on Amigan yhteydessä turha  ominaisuus,
oheislogiikka kun joka tapauksessa olettaa aseman toimivan Select0:lla.

PC:n asemat käyttävät kiinteästi valintasignaalia Select1. Mahdollisuus  muuttaa
tämä joksikin muuksi on yleensä jätetty toteuttamattomien ideoiden joukkoon, eli
heittämällä Amigaan asennettu PC:n asema ei tunnu toimivan ollenkaan, koska  oi-
keaa valintasignaalia ei ole saatavilla! PC-koneissa levykeasemien  liittämiseen
käytettävässä kaapelissa menevätkin  Select0-  ja  Select1-signaaleille  varatut
johtimet ristiin asemien välillä,  jotta  mahdolliset  kaksi  asemaa  voitaisiin
erottaa toisistaan.

2) DiskChange-signaali

Tälle signaalille huomattavasti parempi nimi olisi DiskPresent, sillä se ilmoit-
taa, onko asemassa levykettä vai ei. Alun perin PC ei tarvinnut signaalia ollen-
kaan ja myöhemmin sille varattiin pinni, joka jo aiemmin oli  määritelty  Ready-
signaalille.  Niinpä  PC:n  asemat  eivät  kykene  tarjoamaan  tietoa  levykkeen
läsnäolosta sellaisenaan Amigalle lainkaan. Asiaan mitenkään  puuttumatta  Amiga
luulee levykkeen olevan aina läsnä PC:n asemissa.
3) Ready-signaali

Ready on levykkeen pyörimiseen tahdistettu signaali, jota PC:ssä ei käytetä  ol-
lenkaan (mikä olisikin hieman hankalaa, koska ko.  liittimen  pinni  on  jo  en-
nestään epästandardin DiskChange-signaalin käytössä) ja jota Amigassakin  vaati-
vat   ainoastaan   eräät   trackloader-pelit   ja   tietyt    kopiointiohjelmat.
Käyttöjärjestelmä ei siis signaalia kaipaa. Kuten edellä mainitusta voineekin jo
päätellä, ei kaupasta haettu PC-asema signaalia Amigalle luovuta.  Juuri  Ready-
signaalin puuttumista on syyttäminen uudehkoissa Amigoissa ilmenneistä yhteenso-
pivuusongelmista.

Tarkennuksena huomattakoon, että kaikkien kolmen signaalin jännite  on  luonnos-
taan sama kuin koneen käyttöjännite  eli  +5  volttia  (niin  kutsuttu  looginen
ykköstila).  Signaalien  aktivoituessa  jännite  pudotetaan   0   volttiin   eli
maajännitteeseen (looginen nollatila). Tällaisista nurinkurisesti käyttäytyvistä
signaaleista käytetään nimitystä alhaalla  aktiivinen  ja  oikeaoppisesti  tämän
merkiksi signaalin nimen päällä pitäisi olla viiva.  Koska  merkintä  on  hieman
hankala  toteuttaa  perusmerkistöllä,  myös  vinoviivaa  ennen  signaalin  nimeä
nähdään käytettävän asiaa selventämään (esimerkkinä vaikkapa  "/Ready").  Käytän
tällaista merkintää vastedes tässäkin artikkelissa.


{3Toimintaa
{3---------

Olemme nyt vaiheessa, jossa minä, jutun kirjoittaja, olen  juuri  vaihtanut  140
markkaani  Panasonicin  uudenkarheaan   levykeasemaan   mistään   vielä   mitään
tietämättä.  Seuranneessa  kokeiluvaiheessa  onnistuin  mm.  repäisemään  aseman
yläpinnalle liimatun lappusen pois tiukkaa SupraDrive-kotelon kantta paikoilleen
liu'uttaessani. Muiden strategisten tietojen  lisäksi  läystäke  kantoi  (huomaa
mennyt aikamuoto) mukanaan tiedon myös tyyppinumerosta, joten  ingressissä  mai-
nittuihin epävarmuustekijöihin voi vielä lisätä nollakelien rinnalle  levykease-
man tarkan mallin. Kyseisen PC-kauppiaan  hinnastosta  löytyy  joka  tapauksessa
maininta "Panasonic JU-257A606P", joten uskokaamme sitä paremman puutteessa.

Olin kaukaa viisaana perehtynyt Aminetin hard/hack-hakemiston viritelmiin jo en-
nen ostopäätökseen päätymistäni ja tiesin ongelmia olevan odotettavissa.  Niinpä
en pettynytkään pahasti, vaikka paikoilleen asentamani levykeasema tyytyikin en-
sikokeilemalla pysymään inahtamatta. Pikkuhiljaa hyvä  tulee,  varmasti  tulisi,
ajattelin... Sitä paitsi savutkin olivat vielä pysyneet laitteen sisällä,  joten
toivo pysyi korkealla.

Valitettavasti  ainakaan  löytämiäni  ohjeita  ei  ollut   kuitenkaan   kokeiltu
käytännössä, joten seurasi  pitkä  yritys-erehdys-uusyritys-vaihe.  Alkuperäinen
ajatukseni oli korjata valintasignaaliongelma ja korvata  puuttuva  /DiskChange-
signaali kolmella itse lisätyllä logiikkapiirillä sekä levykeaseman sisälle  so-
pivaan paikkaan liimatulla pienellä kytkimellä, jonka  tehtävänä  olisi  huomata
asemaan työnnetyt levykkeet. Tällainen viritys jäisi hinnaltaan  vielä  alle  20
markan, joten pahasta lisämenoerästä ei ollut  kyse.  /Ready-signaalia  en  edes
ajatellut toteuttaa, sillä ainoa näkemäni ehdotus signaalin luomiseksi  perustui
siihen, että "oikea" signalointihetki haettiin summittaisesti käsin säätötrimme-
rillä. Sillä ei siis olisi ollut mitään tekemistä levykkeen pyörimisen kanssa.

Jotain tämän kokeiluvaiheen pituudesta kertoo se, että ennenkuin sain  kytkennän
täysin toimimaan Amigani toivomalla tavalla  (joka  siis  osoittautui  eriäväksi
löytämissäni ohjeissa kerrotusta), ehdin jo päätyä erään Internetin  keskustelu-
ryhmässä näkemäni vinkin perusteella kokonaan toiseen, paljon yksinkertaisempaan
ja itse asiassa parempaankin ratkaisuun, missä ylimääräisiä piirejä tai kytkimiä
ei vaadita.

Siltä varalta, ettei tämä parempi ratkaisu toimi kuin tiettyjen Panasonicin  le-
vykeasemien kanssa, esitän myös oikeaksi uskomani mutta kokeilematta jääneen mo-
nimutkaisemman, lisäkomponentteihin perustuvan tavan /DiskChange-signaalin  luo-
miseksi. Panasonicin omistajat voivat suosiolla ohittaa seuraavan kappaleen.


{3DiskChange - vaikeampi versio
{3-----------------------------

Huomautettakoon jo tässä vaiheessa, että  tässä  monimutkaisemmassa  ratkaisussa
viime kädessä ulostulona toimivan piirin TULEE OLLA AVOKOLLEKTORITYYPPINEN,  tai
muuten vaarana on oikosulku ja jopa sitä seuraava tulipalo. Käytännössä oikosul-
ku tietokoneessa harvoin taloa - tai mitään muutakaan - polttaa (mm. verkkolait-
teessa eli muuntajassa on yleensä tiettyjä suojauksia), mutta tulipalolla pelot-
telu tapaa estää noviiseja yrittämästä ylittää itseään sillä ensimmäisellä  ker-
ralla. Avokollektoriulostulon tarjoaa esimerkiksi 7438-piiri.

Oletettakoon, että levykeasema on aluksi tyhjä, siis  levykkeetön.  Koska  asema
toimii orjallisesti vain asianomaisen /Select-signaalin käskemänä, se  ei  luon-
nollisestikaan kykene automaattisesti ilmoittamaan, milloin  mahdollinen  levyke
asemaan laitetaan. Tämän havaitsemiseksi Amiga säännöllisin väliajoin  tarkistaa
tilanteen kunkin levykeaseman kohdalla. Tarkistus alkaa sillä, että Amiga  akti-
voi ko. levykeaseman valintasignaalin (Amigan korputtimiin liittyvän oheislogii-
kan jälkeen tämä siis näkyy itse asemalle aina  valintasignaalina  /Select0)  ja
antaa komennon siirtää luku/kirjoituspäätä signaalilla /Step. Tämä naksahduksena
kuultava tapahtuma kellottaa samalla asemassa olevaa kiikkua (yhden bitin  muis-
tia), johon tallennetaan levykkeen silloinen status (oliko  levykettä  vai  ei).
Kiikun ulostulo  johdetaan  sitten  kaikkien  levykeasemien  jakamaan  yhteiseen
/DiskChange-signaaliin.  On  sovittu,  että  muut  paitsi  valittu   levykeasema
yrittävät ylösvetää /DiskChange-signaalin käyttöjännitteeseen.  Valitulla  levy-
keasemalla on valta päättää, tekeekö se samalla tavalla vai pakottaako  se  sig-
naalin maihin. Maatettu /DiskChange on merkki levykkeen läsnäolosta.

Kuten huomataan, asemat saattavat olla eri mieltä jännitteestä, johon /DiskChan-
gen pitäisi asettua. Tällainen tilanne  aiheuttaa  normaalisti  oikosulkuvaaran,
mikä hyvin pian muuttuu oikosuluksi, ellei vaaran aiheuttavia piirejä ole  suun-
niteltu  moinen  mielessä.  Avokollektorityypiset  piirit  kykenevät  ainoastaan
vetämään ulostulonsa maihin ylösvedon käyttöjännitteeseen tapahtuessa  erillisen
käyttöjännitteeseen kytketyn ylösvetovastuksen kautta. Tämän vuoksi samaan  joh-
timeen kytketyissä levykeasemien ulostuloissa käytetään vain ja ainoastaan  avo-
kollektorisia piirejä. Suuriohminen ylösvetovastus lisäksi varmistaa  sen,  että
ulostuloa maihin ajava piiri aina "voittaa",  jos  signaalin  jännitetasosta  on
erimielisyyksiä.

Kun levyke sitten otetaan asemasta pois, vaikuttaa tämä muistina toimivan kiikun
tilaan välittömästi. Ulostulossa tilanne toki näkyy vasta /Select-signaalin seu-
raavan kerran aktivoituessa, mutta levykkeen  havaitsemisessa  tarvittua  /Step-
signaalia ei nyt käytetä lainkaan. Tämän ansiosta ei ole mahdollista, että levy-
kettä voitaisiin vaihtaa niin nopeasti, ettei tietokone sitä huomaisi.

Ylläkuvattu toiminta-ajatus on iskostettu logiikkapiirein toimivaksi  kuvaan  1.
Kytkentää ei ole täysin kokeiltu käytännössä, joten pieneen hienosäätöön kannat-
taa mahdollisesti varautua. Muutenkin kuva on tarkoitettu ainoastaan osviitaksi;
esimerkiksi levykeaseman sisälle sijoitettavan oman kytkimen rakenne on auki sa-
moin kuin tarvittavien piirien tyyppinumerot (7438:aa lukuunottamatta).  Ylösve-
tovastuksen suuruuttakaan ei ole ilmoitettu.  Tämä  on  mielestäni  oikeutettua,
sillä mahdollisen rakentelijan on kuitenkin itse ratkaistava minne ja miten kyt-
kennän sijoittaa (se on itse  asiassa  juuri  ja  juuri  mahdutettavissa  aseman
sisällekin),  jolloin  käytännön  seikat  sanelevat  muun  muassa   sen,   mistä
käyttöjännite piireille kannattaa ottaa ja tarvitaanko suotokondensaattoria  ta-





























{3                                                                          Kuva 1
saisen jännitteen takeeksi. Toisin sanoen aihepiirin perustietämyksen tulisi jo-
ka tapauksessa olla jo ennestään hanskassa.


{3/DiskChange ja /Ready - kaikki kerralla kuntoon
{3-----------------------------------------------

Keskusteluryhmästä nappaamani idea perustui siis siihen,  etteivät  /DiskChange-
ja /Ready-signaalitkaan ole tyystin tuntemattomia  Panasonicin  asemalle.  Koska
kaikki mielenkiintoinen sattui sijaitsemaan levykeaseman  pohjan  piirilevyn  ja
valurautaisen rungon välissä, täytyi piirilevyä paikallaan pitävät ruuvit  ensin
avata. Oma asemani vaati lisäksi levykeaseman päältä löytyvän peltikuoren irrot-
tamista, jotta luku/kirjoituspäille menevät ja ikävästi tiellä olevat johdelius-
kat saattoi varovasti vetää irti liittimistään (olivat onneksi irrotettavaa mal-
lia). Samoin onnekseni liuskat oli numeroitu, sillä ilman muistiinpanojen  teke-
mistä oikeasta järjestyksestä olisin voinut päätyä juuri  siihen  väärään  vaih-
toehtoon niitä takaisin asettaessani. Koska pienten  työkalujen  valikoimani  on
kovin rajoittunut, kolvia ja tinanimunauhaa hyväksi käyttäen irrotin  vielä  as-
kelmoottorille (pyöreä sylinteri aseman peräpäässä) menevän liuskan lisätyötilaa
saadakseni. Liuska oli itse asiassa kiinni myös liimalla, mutta pientä  väkival-
taa käyttäen se viimein irtosi. Nyt piirilevyn  saattoi  kääntää  kunnolla  irti
aseman rungosta - olihan se enää paikoillaan  taipuisan  lattakaapelin  välityk-
sellä.

Ennen enempiä tuli levykeasema ensin saada vastaamaan Amigalta  tuleviin  komen-
toihin. Ongelmahan oli, että komennot  käyttivät  valintasignaalia  /Select0  ja
asema vastaisi ainoastaan signaaliin /Select1. Ratkaisu on  yksinkertainen.  Ky-
seiset signaalit sattuvat  sijaitsemaan  vierekkäisissä  Shubart-liittimen  pin-
neissä 10 ja 12. Nämä pinnit kytketään yhteen ja siinähän se. Viimeistään  tässä
vaiheessa tulisi olla selvillä, mikä Shubart-liittimen pinni vastaa mitäkin  nu-
{Emeroa. Numerot on usein merkattu myös piirilevyyn,  mutta  merkinnöistä  saattaa
{Esilti olla hankala päätellä, onko parillinen rivi ylhäällä vai alhaalla.  Omassa
{Elevykeasemassani parilliset pinnit muodostavat ylemmän rivin, kun asemaa tarkas-
{Etellaan sen ollessa "oikein päin" (luonnollisessa asennossaan). Lisäksi pinnit 1
{Eja 2 sijaitsevat lähinnä ulkolaitaa. Koska parittomat pinnit on yhdistetty  maa-
{Ehan, pitäisi asian selvitä myös yleismittaria käyttäen.  "Varma"  maatasohan  on
{Etarjolla kahdessa  virtaliittimen  keskimmäisessä  pinnissä,  joten  resistanssi
{Enäiden (virtaliittimen maa ja parittomat pinnit) välillä pitäisi lähennellä nol-
{Elaa.









{3                                                                          Kuva 2

{ETämän jälkeen päästäänkin /Ready- ja /DiskChange-signaalien kimppuun. Aloitetaan
{Evalmiussignaalista, johon edellisen kappaleen monimutkaisempi tapa ei  puuttunut
{Emitenkään. Samalla selviää heti sekin, onko tämä yksinkertaisempi tapa mahdolli-
{Enen itse kunkin aseman kanssa. Nyt nimittäin oman  asemani  piirilevyn  pohjasta
{Elöytyivät toisiaan likellä olevat merkinnät "DC" (DiskChange) ja  "RY"  (Ready).
{EPiirilevyn varsinaista komponenttipuolta samalta kohdalta katsoen selvisi,  että
{Ekyseessä on kuvan kaksi mukainen ratkaisu, jossa pintaliitossiltauksella voidaan
{Evalita Shubart-liittimen pinniin 34 yhdistetty  signaali  (tämä  kannattaa  toki
{Evielä varmistaa yleimittarilla mittaamalla siltauksen ja pinnin 34  välinen  re-
{Esistanssi).
PC-ympäristön vaatimuksesta siltaus on  tehtaan  jäljiltä  asetettu  niin,  että
ulostuloon on yhdistetty /DiskChange-signaali.  Vaihtamalla  siltauksen  paikkaa
saadaan pinniin 34 viimein yhdistymään signaali, joka sinne  kuuluukin:  /Ready.
Alkuperäinen pintaliitossiltauspalikka on kylläkin siksi  pieni  käsiteltäväksi,
että itse pidin parhaimpana ratkaisuna koko  palikan  poistamista  ja  korvaavan
siltauksen tekemistä pelkästään "vetämällä" kolvin kärjellä sulaa tinaa  ulostu-
loon yhdistetyn ja RY:ksi nimetyn siltaustäplän väliin.

Enää pitäisi saada /DiskChange jotenkin kuntoon. Signaalihan on  tarjolla  juuri
käsitellyn siltausrykelmän vastapaljastuneessa täplässä (DC:ksi nimetty  täplä).
Signaali pitäisi viedä Shubart-liittimen pinniin 2, joka on toistaiseksi kytket-
ty ties minne. Koska ainakin omassa asemassani pinni numero 2 sijaitsi mukavasti
ylemmän liitinrivin reunassa, sen saattoi helposti katkaista sivuleikkureilla ja
yhdistää jäljelle jääneen liittimen  puoleisen  pään  hyppylangalla  DC-täplään.
Tämän jälkeen kaikki olikin tältä osin valmista, ja  aseman  kokoaminen  saattoi
alkaa.


{3Hienosäätöä
{3-----------

Kun  viimeinenkin  ruuvi  oli  paikoillaan,  oli  tullut  aika  kokeilla  asemaa
käytössä. Niin kauan kuin käytetään DD-levykkeitä, kaiken pitäisi toimia normaa-
listi. Sen sijaan HD-levykkeiden kanssa tuli  esiin  yllättävä  ongelma.  Vaikka
aseman ei luulisi reagoivan tietokoneen kannalta mitenkään  käytettävien  levyk-
keiden malliin, oma Panasonic-asemani teki syystä tai toisesta tenän tietokoneen
yrittäessä käsitellä HD-levykkeitä DD-muodossa. Tämähän piti välittömästi korja-
ta!

HD-asema pitää sisällään kolme tunnistinta levykkeiden varalle.  Yksi  tunnistaa
itse levykkeen läsnäolon, toinen tarkistaa kirjoitussuojan ja kolmas  havaitsee,
käytetäänkö DD- vai HD-levykettä. Idea  olisi  uskotella  asemalle  DD-levykkeen
läsnäolo, oli asemaan  syötetyn  levykkeen  malli  todellisuudessa  sitten  mikä
hyvänsä. Vaikeus on siinä, että useimmat asemat on suunniteltu siten, että  esi-
merkiksi DD/HD-tunnistimen lukitseminen DD-asentoon saa aseman luulemaan  levyk-
keenkin olevan läsnä, vaikka varsinainen levykkeen havaitsemisesta vastaava tun-
nistin muuta väittäisi.

Mekaanisten tunnistimien tarkempi syynäys paljasti, että toinen kunkin tunnisti-
men kahdesta metallijalasta oli kytketty maahan (jälleen  mittailua  yleismitta-
rilla jalkojen ja virtaliittimen välillä). Toinen jalka oli luonnollisesti  kyt-
ketty jonnekin tunnistinta havainnoivan piirin sisäänmenoon. Tunnistimen ollessa
rauhassa (ei levykettä, kirjoitussuoja päällä tai HD-levyke asemassa) pieni jou-
si komponentin sisällä nostaa tunnistimessa olevan nastan ylös ja samalla yhteys
jalkojen välillä katkeaa. Kun sitten  vaikkapa  levykettä  asemaan  syötettäessä
nasta painuu alas, jalat kytkeytyvät toisiinsa.

Ratkaisu löytyy jälleen hyppylangasta. Kytkemällä levykkeen läsnäolosta  huoleh-
tivan  tunnistiminen  ei-maahan-kytketty  jalka   levykkeen   mallista   (DD/HD)
päättävän tunnistimen jälleen ei-maahan-kytkettyyn  jalkaan  päästään  tilantee-
seen, missä DD-levykkeestä kertova signaali aktivoituu aina kun  levyke  asemaan
työnnetään. Kannattaa olla tarkkana hyppylangan sijoittamisen kanssa,  ettei  se
vahingossa pääse myöhemmin pullahtamaan levykkeen tielle. Itse käytin sinitarraa
tämän varmistamiseksi.

Viimeisenä silauksena vaihdoin vielä aseman LEDin eriväriseksi. Oikeaoppinen le-
vykeaseman merkkivalon värihän on tietysti keltainen, eikä mikään  virtavaloista
tuttu vihreä. Kaikkea ne PC-käyttäjät sietävätkin!


{3Loppu hyvin, kaikki hyvin?
{3--------------------------

Yksityiskohtien loksahdettua lopulta kohdalleen oli koittanut aika suorittaa pe-
rinpohjainen testaus. Tavalliset käyttöjärjestelmän alaiset toiminnot, levykkei-
den alustamiset, kirjoittamiset, lukemiset ja kopioinnit onnistuivat  ongelmitta
niin DD- kuin HD-levykkeilläkin (DD-tilassa siis), aivan kuten  arvata  saattoi.
Ainoa havaittava ero Amigan omiin asemiin oli tulokkaan silmiinpistävä  tai  pi-
kemminkin korvinkuultava hiljaisuus. Siinä missä muut asemani  pahimmillaan  va-
littavat kuin kissa kidutuspenkissä esimerkiksi virheellisten  levykkeiden  koh-
dalla, tyytyi Panasonic rutisemaan mukavan vaimealla ja pehmeällä äänellä.

Hintakaan ei päätä huimaa. 140 markkaa ja vaivan palkka päälle ei ole paha  raha
uudesta asemasta. Ei tuolla hinnalla nyt niin  tuhottoman  monta  puhdistuslevy-
kettäkään ostaisi.

Mutta kun nyt hakemalla haetaan, niin löytyihän sitä sentään jotain  valittamis-
ta. Vaikka /Ready-signaalin pitäisi muutosten jälkeen täysin toimia,  on  totuus
toisenlainen. Yksi Amigan historian ensimmäisistä klassikkopeleistä, vuonna 1987
tehty Backlash, käyttää kaiketikin tätä signaalia latausrutiineissaan. Pelin la-
taus onnistuu loppujen lopuksi, mutta vertaamalla latausaikaa tavallisen  Amiga-
aseman vastaavaan tai vaikka vain kuuntelemalla  aseman  äännähdyksiä  latauksen
kuluessa voi vakuuttua, että useampi kuin yksi ura joudutaan lukemaan  useampaan
kertaan latausvirheiden vuoksi.

Backlash on myös siitä erikoinen alkuperäispeli,  että  sen  kopiointi  onnistuu
XCopyn nibbler-toiminnolla. Tai onnistuu siis Amigan  alkuperäisasemien  kanssa.
Kun kopioinninvarmennus on päällä, osoittautuu,  että  Panasonic  kopioi  suurin
piirtein joka kolmannen uran väärin. Tästä voikin päätellä, että vaikka asemasta
/Ready-signaali irtoaa, ei sitä ole kunnolla tahdistettu muuhun toimintaan.  On-
neksi - tai epäonneksi - tämä ei aiheuta ongelmia kuin muutamien  erikoisia  la-
tausrutiineja käyttävien ohjelmien kanssa. Minkään  käyttöjärjestelmän  alaisuu-
dessa toimivan ohjelman kanssa vaikeuksia ei pitäisi tulla.

Yhteenvetona voisi todeta, että kakkosasemaksi näin saatu  asema  on  edullisena
enemmän kuin omiaan. Ainokaisen levykeaseman rikkoutuessa kannattanee  kuitenkin
ennemmin harkita uutta (tai käytettyä) aitoa Amiga-asemaa kuin tyytyä  alle  100
%:en yhteensopivuuden tarjoavaan korvikkeeseen. Samalla voi sitten hankkia saman
tien Amigaansa kunnollisen HD-aseman, jolloin tiedonvaihto naapurin PC-koneenkin
kanssa käy kelvommin.

{3                                     * * *

Juttuun olisi luonnollisena osana kuulunut kuva Shubart-liittimestä  ja  sen  34
pinnistä, mutta valitettavasti löytämistäni kaavioista paljastui  eroavaisuuksia
joidenkin pinnien toiminnoissa. Syynä lienee PC-koneiden kirjava käytäntö, mutta
yhtä kaikki en halunnut esittää kaaviota, joka ei  välttämättä  täysin  vastaisi
todellista tilannetta tai alkuperäistä pinnimäärittelyä. 
