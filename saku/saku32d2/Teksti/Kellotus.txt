2
1*

{3                         Kokemuksia ylikellottamisesta
{3                         -----------------------------
 
                                 Jaakko Oranen
 
 
{5HUOMIO! Saku ja artikkelin kirjoittaja eivät vastaa artikkelin ohjeiden  noudat-
{5tamisesta laitteistolle mahdollisesti koituneita vaurioita.
 

Artikkeli kertoo Phase5:n MC68060-pohjaisten turbokorttien, Blizzard 1260:n sekä
CyberStorm MK2:n ylikellottamisesta. Kokemuksia muiden  valmistajien  060-turbo-
korttien tai P5:n PPC-turbojen ylikellottamisesta artikkelin  kirjoittajalla  ei
ole. Phase5 suunnitteli 060-turbonsa niin että niiden muistiväylä voi toimia jo-
pa 80 MHz:lla, sillä P5 odotti, että Motorolalta tulisi 060:sta nopeampia malle-
ja.  Motorola  kyllä  teki/tekee  60,  66  ja  75  MHz:n  060:ia,  mutta  P5  ei
käsittääkseni niitä ikinä turboissaan käyttänyt. (Apollon 060-turbosta  sen  si-
jaan on olemassa LC060/75 MHz:n versio.)
 
P5:n turboissa on kideoskillaattori, joka määrittää kuinka suurella kellotaajuu-
della prosessori toimii. P5:n tapauksessa ne olivat aina 50 MHz:n kiteitä,  joko
neliön tai suorakaiteen muotoisia ja aina nelijalkaisia. Enemmän P5  käytti  ne-
liönmuotoisia kiteitä,  joita  on  vaikeampi  saada  suomalaisilta  elektroniik-
kajälleenmyyjiltä  kuin  suorakaiteen  muotoisia.  Onneksi  P5:n  turboissa   on
ylimääräiset reiät myös suorakaiteen  muotoisille  kiteille.  Kideoskillaattorin
päältä näkee suoraan, millä kellotaajuudella se toimii, joten kiteen  löytäminen
turboa tutkailemalla ei ole vaikeaa.
 
 
{3Blizzard 1260
{3-------------
 
Minulla oli ensimmäisiä P5:n valmistamia Blizzard 1260-turboja, sarjanumero  18.
Yleensä P5:n turboissa  kide  on  juotettu  suoraan  turbon  emolevylle.  Omassa
B1260:ssani oli kuitenkin kiteen jalkojen alla tapit, joten kiteen sai pois  il-
man juottamista. Kide oli  myös  suorakaiteen  muotoinen.  Ylikellottaminen  oli
helppoa, koska juottamista ei tarvittu. Olin ottanut vanhasta 486 DX2:sta 66,667
MHz:n kiteen. 50 MHz:n 060 kuumenee 66 MHz:lla jo niin paljon,  että  jäähdytys-
siilin sekä tuulettimen laittaminen 060:n päälle on suositeltavaa.
 
Koska B1260:ssa ei ole jäähdytyssiiliä eikä tuuletinta, ripustin  tornissa  ole-
vaan A1200:aani turbon kohdalle ison 12  watin  muuntajan  tuulettimen  pitämään
prosessoria ja logiikkapiirejä viileänä. Muistipiirinä minulla oli 16  megatavun
(60 ns) SIMM-kampa. Yleensäkään 060-turboissa ei minusta tulisi käyttää 70  ns:n
muistipiirejä, vaan nopeampia 60 ns:n muisteja. Varsinkin ylikellotettaessa  tu-
lisi ehdottomasti olla 60 ns:n muistia, jotta muisti  varmasti  pysyy  vauhdissa
mukana.
 
Käynnistin koneen 66,667 MHz:n kiteellä. Kone boottasi vähän matkaa ja jäi  sit-
ten jumiin. Ilman startup-sequencea sain käynnistettyä TRSI:n Rise-demon.  Sekin
meni vähän matkaa eteenpäin ja jumiutui sitten aina samaan kohtaan. Jotkut sano-
vat, ettei 50 MHz:n 060:aa voi kellottaa yli 66 MHz:n, koska FPU ei pysyisi enää
mukana. Tuo käyttämäni kide meni hieman  yli  66  MHz:n,  joten  saattoi  johtua
siitä, ettei kone toiminut vakaasti.
 
Seuraavaksi kokeilin 64 MHz:n kidettä. Sillä kone boottasi ihan  normaalisti  ja
toimi täysin. Mitään omituisia kaatumisia tai jumahteluja ei esiintynyt. Mielen-
kiintoista kuitenkin oli, että heti jos  käytin  A1200:n  omassa  IDE-ohjaimessa
kiintolevyn lisäksi toista laitetta kuten CD-ROM-asemaa tai toista  kiintolevyä,
alkoi kone kaatuilla omituisesti. MCP:n NoGuru ilmoitti exec.libraryn  kaatuneen
ja syyksi "corrupt memorylist detected in freemem". A1200:ssahan on  puskuroima-
ton IDE-väylä. Epäilen syyksi, ettei se enää  pysynyt  mukana  vauhdissa.  Tosin
tiedän B1260:n omistajia, jotka käyttävät turbojaan 66 MHz:lla ja heillä on kak-
si laitetta A1200:n IDE-ohjaimessa ilman mitään ongelmia. Joka  tapauksessa  kun
käytin vain yhtä kiintolevyä kone toimi todella hyvin.
 
 
{3CyberStorm MK2
{3--------------
 
Vähän myöhemmin myin A1200:ni pois ja ostin tilalle pöytämallisen A4000:n, jossa
oli CyberStorm MK1 060. CSMK1 on siinä mielessä erikoinen P5:n  060-turbo,  että
siihen on valmiiksi tehtaalla asennettu jäähdytyssiili sekä  prosessorituuletin.
Sain eräältä PPC:hen päivittäneeltä henkilöltä CyberStorm MK2:n  ilman  060-pro-
sessoria. Siirsin CSMK1:stä 060:n CSMK2:een, ja hyvin toimi.
 
Sitten  mielessäni  jäi  pyörimään  ajatus  myös   CSMK2:n   ylikellottamisesta.
CSMK2:ssa on kide juotettu suoraan emolevylle. Lisäksi se on  neliön  muotoinen.
Kuten aikaisemmin mainitsin, on P5:n turboissa myös paikka suorakaiteen  muotoi-
sille kiteille. Kiteen voi  helposti  juottaa  irti,  kunhan  on  varovainen  ja
käyttää pieniteräistä kolvia sekä tinaimuria. Itse juotin vanhan kiteen  tilalle
kannan suorakaiteen muotoisille kiteille, kanta on kätevä, sillä siihen voi hel-
posti vaihtaa erinopeuksisia kiteitä.
 
Kokeilin ensin 64 MHz:n kiteellä. Kone  toimi  normaalisti.  Myöskään  se,  että
A4000:n IDE-ohjaimella ajoi kahta laitetta, ei kaatanut konetta  samalla  lailla
kun A1200:ssa. Pitempään käynnissä oltuaan kone alkoi kaatuilla.  Varsinkin  oh-
jelmia suljettaessa kone kaatui herkästi. Erityisesti sellaiset ohjelmat,  jotka
lopetettaessa tallentavat levylle jotain, olivat herkkiä kaatumaan. MCP:n NoGuru
ilmoitti taas exec.libraryn kaatuneen ja syyksi "corrupt memorylist detected  in
freemem".
 
Syynä oli lämpö. Pöytämallisen A4000:n kotelo ei ole erityisen iso  ja  pienessä
tilassa olevat laitteet kuumenevat paljon. Sain tässä välissä tasan 66 MHz:n ki-
teen ja kokeilin sillä. Olin huomannut, että vaikka prosessorin pitää  viileänä,
niin se ei ole ainoa kuumeneva komponentti, vaan sen ympäristössä olevat logiik-
kapiirit kuumenevat myös paljon. Laitoin prosessorin yläpuolelle saman 12  watin
muuntajan tuulettimen, jota olin A1200:ssakin käyttänyt.  Se  pitää  prosessorin
ympäristönkin piirit mukavan viileinä. Boottaus, ja kaikki tuntui  toimivan  hy-
vin. Mitään omituisia kaatumisia ei ole sen jälkeen esiintynyt. Jossain vaihees-
sa tornitin A4000:ni, eikä tuota  12  watin  tuuletinta  enää  tarvinnut,  koska
CSMK2:n ympärille jäi mukavasti tilaa, joten muut piirit eivät  enää  kuumenneet
niin paljon.
 
Ei kannata hätääntyä, jos ensimmäinen boottaus ylikellotetuna ei  menekään  ihan
loppuun asti. Varsinkin rankasti  patchattu  systeemi  on  herkkä  siitä,  missä
järjestyksessä ohjelmat käynnistyvät. Aikaisemmin 50 MHz:lle säädetyssä  systee-
missä saattavat ohjelmien ajoitukset mennä 66 MHz:lla niin, että tietyt  patchit
saattavat lukkiuttaa koneen, koska käynnistyvät  nyt  nopeammin.  Eri  ohjelmien
käynnistysjärjestystä  saattaa  joutua  Startup-sequencessa   ja   WBStartupissa
säätämään. Jos jumiutumisia ilmenee, kannattaa bootata muutaman kerran  ja  kat-
soa, jos joku käynnistys menee loppuun asti. Sitten vain säätämään.
 
 
{3Onko ylikellottamisesta hyötyä?
{3-------------------------------
 
Yksinkertaisesti siirtyminen 50 MHz:sta 66  MHz:iin  antaa  koneeseen  noin  24%
lisää raakaa tehoa. Prosessoritehoa paljon vaativat tehtävät kuten MP3-purku no-
peutuvat. Kun 50  MHz:lla  soitin  Amplifierilla  AHI:n  Delfina  hifi  -tilassa
MP3:ia, ei koneella voinut tehdä samaan aikaan mitään. Jopa stop-nappulan paina-
misessa oli useiden sekuntien viive. 66 MHz:lla kone ei mene  jumiin  ollenkaan,
vaan MP3:ia soittaessa voi tehdä kaikkea muuta pienimuotoista. Tosin  MPEGA.lib-
raryn  FPU-versiolla  Delfinan  kautta  toistamiseen  pätkimättä   eivät   tehot
vieläkään riitä. Tavallisessa käytössä kuten ikkunoiden siirtelyssä ja ohjelmien
käynnistämisessä tehonlisäystä ei juurikaan  huomaa.  Tosin  MCP:n  Opaque  Move
-toiminto on jonkin verran nopeampi.
 
Ohessa on SysSpeedillä tehty mittaus, josta näkyy 50 ja 66 MHz:n välinen  nopeu-
sero eri tilanteissa. 


{5                CSMK2/060/50    CSMK2/060/66

{3Memory          Results         in MB/s
{3---------------------------------------
Cache read      189.05          249.66
ReadROMb        19.27           25.46
ReadROMw        31.10           41.05
ReadROMl        37.51           49.16
ReadFastb       20.77           27.49
ReadFastw       26.59           35.05
ReadFastl       31.12           40.85
WriteFastb      17.44           23.05
WriteFastw      21.81           28.88
WriteFastl      21.81           28.88
Fast2Fastb      9.80            13.02
Fast2Fastw      13.26           17.50
Fast2Fastl      13.48           17.86
Fast2Fastm      12.77           16.90
Fast2Fast16     16.98           22.43
ReadChipb       1.11            1.11
ReadChipw       2.23            2.23
ReadChipl       4.45            4.45
WriteChipb      1.68            1.68
WriteChipw      3.36            3.36
WriteChipl      6.71            6.71
Chip2Chipb      0.67            0.67
Chip2Chipw      1.34            1.34
Chip2Chipl      2.67            2.67
Chip2Chipm      2.68            2.68
Chip2Chip16     3.16            3.17
Fast2Chipb      1.63            1.68
Fast2Chipw      3.16            3.35
Fast2Chipl      5.94            6.70
Fast2Chipm      5.74            5.98
Fast2Vhip16     5.94            6.70

{3Cruncher        Results         in Sec.
{3---------------------------------------
LhaCrunch       2.19            1.64
LhaTest         0.23            0.17
LhaDeCrunch     0.33            0.21
XPKCrunch       5.52            4.13
XPKDeCrunch     0.82            0.58
PPKCrunch       4.32            3.24
PPDecrunch      0.20            0.12


{3CPU/FPU         Results         in MioOp/s
{3------------------------------------------
MIPS            65.86           86.94
MFLOPS          26.33           34.77

Tuloksista huomaa, että cachesta luku ja Fast-muistin käsittely nopeutuvat melko
paljon. Myös noin 21 mipsin lisäys näyttää melko isolta. Sen sijaan Amigan  pul-
lonkaula, Chip-muistin käsittely ei nopeudu yhtään. Tosin sillä ei  ole  nykyään
oikeastaan mitään merkitystä, koska  ainakin  itselläni  Chip-muistia  käytetään
vain demojen katselussa. Testasin myös, kuinka nopeasti Visage näyttää kuvia:

JPG             1.555s          1.199s
640x480x24
181317 kt

PNG             4.948s          3.855s
1024x768x24
956725 kt

Pegase-mittaus osoittaa FPU:nkin nopeutuneen noin 24%. Pakkasin 2 minuuttia ja 6
sekuntia kestävän 22,3 Mt:n AIFF-tiedoston MP2:ksi.

Pegase060+FPU   00:04:56        00:03:46

Blizzard 1260:n mittaustuloksia en voi valitettavasti  esittää,  koska  en  enää
sellaista omista. Mielenkiintoista kuitenkin on, että  A1200:ssa  tuntuu  olevan
hieman nopeampi Chip-muistinkäsittely kuin A4000:ssa. Kun demoja katselin,  niin
samalla kellotaajuudella A1200:ssa samat demot pyörivät hieman  sulavammin  kuin
A4000:lla. Vastaavasti taas CyberStormilla varustettu A4000 on  hieman  nopeampi
prosessoriteholtaan kuin samalla kellotaajuudella toimiva Blizzard 1260. Sen voi
huomata esimerkiksi käyttämällä WhichAmigaa A4000:ssa. Ohjelma laskee  prosesso-
rin kellotaajuuden jostain syystä A4000:lla hieman väärin.  Ohjelma  näyttää  50
MHz:n CyberStormin olevan 49,5 MHz ja 66 MHz:n CyberStormin 65,4 MHz, mutta itse
asiassa  tuo  osoittaa  CyberStormien  olevan  juuri  tuon   verran   nopeampia.
Käytännössä nopeuseroa on mahdoton huomata.
 
Blizzardeissa on maprom-toiminto jumpperilla  säädettävissä.  Maprom  tarkoittaa
sitä, että ROM-piirien sisältö kopioidaan turbon Fast-muistiin. Se nopeuttaa RO-
Mista lukemista huomattavasti. Haittana on puolen megatavun  Fast-muistin  mene-
tys. CyberStormeissa (ainakaan MK1:ssä ja MK2:ssa, MK3:sta ja PPC:stä en  tiedä)
ei voi maprom-toimintoa valita jumpperilla. Siihen täytyy käyttää CyberMap-  tai
Rom2Fast-ohjelmia. CyberMapin ero Rom2Fastiin on se, että CyberMapilla voi  Ami-
gaan "kickata" jonkun muun Kickstart-ROMin kuin mikä fyysisesti on  koneen  ROM-
piireissä. CyberMap ja Rom2Fast löytyvät Phase5:n 68k-kirjastojen kanssa samasta
paketista. Aminetissä on MMULib.lha-niminen paketti, jonka  MuFastROM-ohjelmalla
myös saa ROMin kopioitua Fastiin.
 
Nopeuden kannalta tärkeää on myös se, että exec.library menee Fast-muistiin. Cy-
berStormeissa tämä tapahtuu automaattisesti, Blizzardeissa ei. Blizzardien kans-
sa suosittelen käytettäväksi BlizKickiä. Mittauksien aikana ROM sekä exec.libra-
ry olivat Fast-muistissa. CMQ060-ohjelma oli myös ajettu. Se optimoi  muistinko-
piointikäskyt 060:lle. Executive ei ollut mittausten aikana käytössä. Visage- ja
Pegase-mittauksissa käytetyt tiedostot olivat RAM-levyllä. Näin kiintolevyn  lu-
kunopeus ei päässyt vaikuttamaan mittaustuloksiin.
 
Olen käyttänyt tämän artikkelin kirjoittamishetkellä  A4000:ani  ylikellotettuna
66 MHz:iin noin kaksi kuukautta. Mitään outoja kaatumisia en  ole  tuona  aikana
huomannut, ja A4000:ni on ihan yhtä  vakaa  kuin  50  MHz:llakin.  Itse  asiassa
lisääntynyt prosessoriteho voi tietyissä tilanteissa estää koneen kaatumisen.
 
Sain käsiini artikkelin kirjoittamisen aikoihin rikkinäisen Blizzard 2060  -tur-
bokortin. Onneksi sen 060-prosessori oli kuitenkin ehjä, ja näin sain kumpaankin
CyberStormeistani prosessorin. Mielenkiintoista on,  että  WhichAmiga  ilmoittaa
CSMK1:n alkuperäisen 060:n olevan revision 1 ja B2060:n  060:n  revision  5.  En
tiedä mitä eroa noitten revisioiden välillä on, mutta samalla lailla ne  kuiten-
kin toimivat. Molemmat kestävät myös yhtä hyvin ylikellotusta 66 MHz:iin.
 
Internetistä kun  olen  ylikellottamisjuttuja  lukenut,  niin  osalla  ihmisistä
CSMK2:n ja B1260:n CyberSCSI- ja SCSIKit-laajennukset eivät enää toimi, kun tur-
bo on ylikellotettu 66 MHz:iin. Osa kuitenkin toimii. Omia kokemuksiani  en  voi
kertoa, koska en ole kumpaakaan noista SCSI-laajennuksista ikinä omistanut.  Cy-
berStorm MK1:n ylikellottamista en suosittele.  Se  on  modulaarisuutensa  takia
melko hurjan näköinen ilmestys. En ole kuullut kenenkään sellaista  ylikellotta-
neen, joten toimivuudesta ylikellotettuna ei voi  sanoa  mitään.  Nopeuseroa  50
MHz:lla CSMK1:n ja MK2:n välillä ei ole käytännössä lainkaan.
 
Sitä, kannattaako ylikellottamiseen ryhtyä, on hyvä miettiä,  varsinkin  jos  ei
ole mitään ikinä juottanut. Amigan turbokorteissa on monikerrosemolevyt, ja kol-
vin kanssa saa olla varovainen. Tosin varovasti ja rauhallisesti kiteen  juotta-
minen ei ole vaikea tehtävä. Mahdollista kuitenkin on,  että  laitteistolle  voi
aiheutua vaurioita. Amigan kiihdytinkortteja ei tavallisista atk-liikkeistä saa.
Varsinkin kalliin ja harvinaisen PPC-turbon ylikellottamisen järkevyys on kysee-
nalaista, koska rikkimenneen tilalle voi olla vaikea löytää uutta, ja  muutenkin
monet paljon prosessoritehoa vaativat ohjelmat on  jo  käännetty  PPC:lle.  Myös
turbon jälleenmyyntiarvo voi laskea.
 
Omalla kohdallani ylikellottaminen oli perusteltua, koska tehtävät  joihin  pro-
sessoritehoa   tarvitsen   nopeutuivat   ylikellottamisen    riskeihin    nähden
riittävästi. Noin 24% nopeuslisä on jo kuitenkin melko huomattava paljon proses-
soritehoa vaativissa tehtävissä.
Jos ylikellottamiseen ryhdyt, niin muista nämä kolme asiaa:
 
{51. Riittävästä jäähdytyksestä on ehdottomasti huolehdittava.
 
{52. Muistin on oltava riittävän nopeata. Suosittelen ehdottomasti 60 ns:n SIMMien
{5käyttöä. Sillä onko muisti EDO- vai FPM-tyyppistä ei ole väliä, koska P5:n  tur-
{5bot käyttävät EDO-simmejä kuitenkin FPM-moodissa.
 
{53. Mahdollista on, että käsiisi jää todella epävakaa Amiga. :)
 

{3        Mittauksissa käytetty laitteisto:

        Amiga 4000D AT-tornissa
        CyberStorm MK2 060-A-rev5 + 64 Mt (4x16 Mt 60 ns EDO)
        15,2 Gt IBM IDE
        Samsung 48x IDE CD-ROM
        CyberVision 64/3D
        Delfina Lite
        ProView PK-722 17"
        OS 3.5 + BoingBag1 + CGX 4.2 pre 1

Kirjoittajan tavoittaa sähköpostitse osoitteesta jackson@mbnet.fi  sekä  arkisin
klo 8-16 välisenä aikana #amigafin-irc-kanavalta kutsumanimellä Pasis.
