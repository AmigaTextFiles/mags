<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>

<head>
<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
<meta name="generator" content="Adobe GoLive 6">
<title>Saku #47 (1/2005) | Muut &gt; Tinygl-kurssi, osat 1 ja 2</title>
<link href="../GeneratedItems/saku_tyyli.css" rel="stylesheet" media="screen">
<meta http-equiv="imagetoolbar" content="no">
<link href="../GeneratedItems/saku_tyyli.css" rel="stylesheet" media="screen">
<script type="text/javascript" src="../GeneratedItems/CSScriptLib.js"></script>
<script type="text/javascript"><!--
CSAct[/*CMP*/ '16C99F1'] = new Array(CSSetImageURL,/*CMP*/ 'muut',/*URL*/ '../media/ulkoasu/linkkipalkki/muut_f2.gif');

// --></script>

</head>

<body background="../media/tausta2.gif" bgcolor="#ffffff" link="#000099" vlink="#000099" alink="red" leftmargin="0" marginheight="0" marginwidth="0" topmargin="0">
<div align="center">
<a name="top"></a>
<table width="746" border="0" cellspacing="0" cellpadding="0">
<tr height="86">
<td width="239" height="86"><img src="../media/ulkoasu/logo.jpg" alt="" height="86" width="239" usemap="#logo" border="0"></td>
<td height="86"><img src="../media/ulkoasu/ylabanneri.jpg" alt="" width="507" height="86" border="0"></td>
</tr>
</table>
<table width="746" border="0" cellspacing="0" cellpadding="0" background="../media/ulkoasu/linkkipalkki/linkkirivin_tausta.jpg" height="25">
<tr>
<td valign="middle">
<div align="center">
<table border="0" cellspacing="0" cellpadding="0" background="#">
<tr>
<td><a href="../index.html"><img src="../media/ulkoasu/linkkipalkki/etusivu.gif" alt="" name="etusivu" width="51" height="11" border="0" hspace="20" vspace="7"></a></td>
<td><a href="../ajankohtaiset/index.html"><img src="../media/ulkoasu/linkkipalkki/ajankohtaiset.gif" alt="" name="ajankohtaiset" width="87" height="11" border="0" hspace="20" vspace="7"></a></td>
<td>
<div align="center">
<a href="../testit/index.html"><img src="../media/ulkoasu/linkkipalkki/testit.gif" alt="" name="testit" width="44" height="11" border="0" hspace="20" vspace="7"></a></div>
</td>
<td>
<div align="center">
<a href="../pelit/index.html"><img src="../media/ulkoasu/linkkipalkki/pelit.gif" alt="" name="pelit" width="36" height="11" border="0" hspace="20" vspace="7"></a></div>
</td>
<td>
<div align="center">
<a href="index.html"><img src="../media/ulkoasu/linkkipalkki/muut.gif" alt="" name="muut" width="41" height="11" border="0" hspace="20" vspace="7"></a></div>
</td>
<td>
<div align="center">
<a href="../vakiot/index.html"><img src="../media/ulkoasu/linkkipalkki/vakiot.gif" alt="" name="vakiot" width="46" height="11" border="0" hspace="20" vspace="7"></a></div>
</td>
<td>
<div align="right">
<a href="../sivukartta/index.html"><img src="../media/ulkoasu/linkkipalkki/sivukartta.gif" alt="" name="sivukartta" width="67" height="11" border="0" hspace="20" vspace="7"></a></div>
</td>
</tr>
</table>
</div>
</td>
</tr>
</table>

<table width="746" border="0" cellspacing="0" cellpadding="0">
<tr>
<td colspan="2" width="376"><img src="../media/juttu/juttu_osa.jpg" alt="" width="376" height="50" border="0"></td>
<td colspan="2" valign="middle" width="370">
<p><img src="../media/ulkoasu/otsikkopalkit/muut.jpg" alt="" width="370" height="50" border="0"></p>
</td>
</tr>
</table>
<table width="746" border="0" cellspacing="0" cellpadding="0">
<tr>
<td rowspan="5" bgcolor="#048ce2" width="62">&nbsp;</td>
<td valign="top" width="314" background="../media/juttu/juttu_otsikon_tausta.jpg"><img src="../media/juttu/juttu_osa_1.jpg" alt="" width="314" height="24" border="0"></td>
<td valign="top" width="308" background="../media/juttu/juttu_otsikon_tausta.jpg"><img src="../media/juttu/juttu_osa_2.jpg" alt="" width="308" height="24" border="0"></td>
<td rowspan="5" bgcolor="#cc0000" width="62">&nbsp;</td>
</tr>
<tr>
<td colspan="2" valign="top" width="622" background="../media/juttu/juttu_otsikon_tausta.jpg">
<table width="100%" border="0" cellspacing="0" cellpadding="0" background="#">
<tr height="42">
<td width="10" height="42"><img src="../media/spacer.gif" alt="" width="10" height="10" border="0"></td>
<td valign="bottom" width="602" height="42">
<p><font size="2" color="#000088" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b>Juha-Pekka Jokela | </b><a href="mailto:jpjokela@surfeu.fi">jpjokela@surfeu.fi</a></font><font size="2"><br>
</font><font size="4" color="#cc0000" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b>Tinygl-kurssi, osat 1 ja 2</b></font></p>
</td>
<td width="10" height="42"><img src="../media/spacer.gif" alt="" width="10" height="10" border="0"></td>
</tr>
<tr>
<td width="10"><img src="../media/spacer.gif" alt="" width="10" height="5" border="0"></td>
<td width="602"></td>
<td width="10"></td>
</tr>
</table>
</td>
</tr>
<tr>
<td colspan="2" valign="top" width="622" background="../media/juttu/juttu_otsikon_tausta.jpg"><img src="../media/juttu/juttu_viiva.gif" alt="" width="622" height="1" border="0"></td>
</tr>
<tr>
<td colspan="2" valign="top" width="622" background="../media/juttu/juttu_tausta.gif">
<div align="left">
<table border="0" cellspacing="0" cellpadding="0" background="#">
<tr>
<td colspan="3" valign="top" width="444" height="10"><img src="../media/spacer.gif" alt="" width="10" height="10" border="0"></td>
<td rowspan="2" valign="top" width="178">
<div align="right">
<table width="178" border="0" cellspacing="0" cellpadding="0">
<tr>
<td background="../media/palkit/palkki_muut.gif">
<div align="right">
<a href="index.html"><img src="../media/spacer.gif" alt="Ajankohtaiset" width="178" height="20" border="0"></a></div>
</td>
</tr>
<tr>
<td><img src="../media/spacer.gif" alt="" width="178" height="6" border="0"></td>
</tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" background="#">
<tr>
<td valign="middle" background="../media/jutun_otsikon_tausta.jpg">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" bgcolor="#78c2ef" width="14"><img src="../media/bullet.gif" alt="" height="6" width="6" border="0" hspace="6" vspace="6"></td>
<td width="100%">
<p><font size="2" color="#000088" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b><span class="12px"><span class="12px_korkea"><a href="boogie.html">Boogien palsta</a></span></span></b></font></p>
</td>
</tr>
</table>
</td>
</tr>
<tr height="24">
<td valign="top" height="24" background="#">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="middle" width="14"><img src="../media/spacer.gif" alt="" width="14" height="10" border="0" hspace="2"></td>
<td width="100%">
<p><font size="1" color="#000066" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><span class="12px"><span class="12px_korkea">Boogie</span></span></font></p>
</td>
</tr>
</table>
</td>
</tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" background="#">
<tr>
<td valign="middle" background="../media/jutun_otsikon_tausta.jpg">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" bgcolor="#78c2ef" width="14"><img src="../media/bullet.gif" alt="" height="6" width="6" border="0" hspace="6" vspace="6"></td>
<td width="100%">
<p><font size="2" color="#000088" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b><span class="12px"><span class="12px_korkea"><a href="koneenlumo.html">Kirjakatsauksessa Koneen lumo</a></span></span></b></font></p>
</td>
</tr>
</table>
</td>
</tr>
<tr height="24">
<td valign="top" height="24" background="#">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="middle" width="14"><img src="../media/spacer.gif" alt="" width="14" height="10" border="0" hspace="2"></td>
<td width="100%">
<p><font size="1" color="#000066" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><span class="12px"><span class="12px_korkea">Janne Sir&eacute;n</span></span></font></p>
</td>
</tr>
</table>
</td>
</tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" background="#">
<tr>
<td valign="middle" background="../media/jutun_otsikon_tausta.jpg">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" bgcolor="#78c2ef" width="14"><img src="../media/bullet.gif" alt="" height="6" width="6" border="0" hspace="6" vspace="6"></td>
<td width="100%">
<p><font size="2" color="#000088" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b><span class="12px"><span class="12px_korkea"><a href="pascal.html">Pascalia MorphOS:lla</a></span></span></b></font></p>
</td>
</tr>
</table>
</td>
</tr>
<tr height="24">
<td valign="top" height="24" background="#">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="middle" width="14"><img src="../media/spacer.gif" alt="" width="14" height="10" border="0" hspace="2"></td>
<td width="100%">
<p><font size="1" color="#000066" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><span class="12px"><span class="12px_korkea">Ilkka Lehtoranta</span></span></font></p>
</td>
</tr>
</table>
</td>
</tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" background="#">
<tr>
<td valign="middle" background="../media/jutun_otsikon_tausta.jpg">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" bgcolor="#78c2ef" width="14"><img src="../media/bullet.gif" alt="" height="6" width="6" border="0" hspace="6" vspace="6"></td>
<td width="100%">
<p><font size="2" color="#000088" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b><span class="12px"><span class="12px_korkea"><a href="spacecenter_babylon_5.html">Spacecenter Babylon 5 (DVD)</a></span></span></b></font></p>
</td>
</tr>
</table>
</td>
</tr>
<tr height="24">
<td valign="top" height="24" background="#">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="middle" width="14"><img src="../media/spacer.gif" alt="" width="14" height="10" border="0" hspace="2"></td>
<td width="100%">
<p><font size="1" color="#000066" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><span class="12px"><span class="12px_korkea">Tuomo M&auml;mmel&auml;</span></span></font></p>
</td>
</tr>
</table>
</td>
</tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" background="#">
<tr>
<td valign="middle" background="../media/jutun_otsikon_tausta.jpg">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" bgcolor="#78c2ef" width="14"><img src="../media/bullet.gif" alt="" height="6" width="6" border="0" hspace="6" vspace="6"></td>
<td width="100%">
<p><font size="2" color="#000088" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b><span class="12px"><span class="12px_korkea"><a href="ulkomailta.html">Tilaisinko ulkomailta?</a></span></span></b></font></p>
</td>
</tr>
</table>
</td>
</tr>
<tr height="6">
<td valign="top" height="6" background="#"></td>
</tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" background="#">
<tr>
<td valign="middle" background="../media/jutun_otsikon_tausta.jpg">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" bgcolor="#78c2ef" width="14"><img src="../media/bullet.gif" alt="" height="6" width="6" border="0" hspace="6" vspace="6"></td>
<td width="100%">
<p><font size="2" color="#000088" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b><span class="12px"><span class="12px_korkea"><a href="tinygl.html">Tinygl-kurssi, osat 1 ja 2</a></span></span></b></font></p>
</td>
</tr>
</table>
</td>
</tr>
<tr height="24">
<td valign="top" height="24" background="#">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="middle" width="14"><img src="../media/spacer.gif" alt="" width="14" height="10" border="0" hspace="2"></td>
<td width="100%">
<p><font size="1" color="#000066" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><span class="12px"><span class="12px_korkea">Juha-Pekka Jokela</span></span></font></p>
</td>
</tr>
</table>
</td>
</tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" background="#">
<tr>
<td valign="middle" background="../media/jutun_otsikon_tausta.jpg">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" bgcolor="#78c2ef" width="14"><img src="../media/bullet.gif" alt="" height="6" width="6" border="0" hspace="6" vspace="6"></td>
<td width="100%">
<p><font size="2" color="#000088" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b><span class="12px"><span class="12px_korkea"><a href="viivakamera.html">Viivakameran omistajaksi</a></span></span></b></font></p>
</td>
</tr>
</table>
</td>
</tr>
<tr height="24">
<td valign="top" height="24" background="#">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="middle" width="14"><img src="../media/spacer.gif" alt="" width="14" height="10" border="0" hspace="2"></td>
<td width="100%">
<p><font size="1" color="#000066" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><span class="12px"><span class="12px_korkea">Jarmo Piippo</span></span></font></p>
</td>
</tr>
</table>
</td>
</tr>
</table>
<table width="178" border="0" cellspacing="0" cellpadding="0">
<tr>
<td></td>
</tr>
</table>
</div>
</td>
</tr>
<tr>
<td valign="top" width="10"><img src="../media/spacer.gif" alt="" width="10" height="10" border="0"></td>
<td valign="top" width="424">
<div align="left">
<div align="left">
<font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b>Tinygl on MorphOS:n opengl-yhteensopiva 3D-rajapinta, joka l&ouml;ytyy MorphOS:n versiosta 1.4 tai sit&auml; uudemmista. Kurssi sopii kaikille, jotka ovat kiinnostuneita opengl-ohjelmoinnista.</b></font>
<table width="100%" border="0" cellspacing="0" cellpadding="3">
<tr height="20">
<td height="20"></td>
</tr>
<tr>
<td bgcolor="#048ce2"><font size="2" color="white" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b>Osa 1: Perusteet</b></font></td>
</tr>
<tr height="6">
<td height="6"></td>
</tr>
</table>
<font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular">Esimerkit on kirjoitettu tinygl:&auml;&auml; varten, mutta koodin pit&auml;isi k&auml;&auml;nty&auml; (ehk&auml; pienin muutoksin) mille tahansa alustalle, jolle l&ouml;ytyy opengl-tuki. Hyperionilta saadun tiedon mukaan OS4:&auml;&auml;n olisi tulossa MESA-tuki (opengl-yhteensopiva 3D-rajapinta), mutta aikaisintaan lopulliseen versioon, ehk&auml; my&ouml;hemmin. Esimerkkien pit&auml;isi k&auml;&auml;nty&auml; ilman (suuria) muutoksia my&ouml;s OS4:lle.<br>
<br>
Mit&auml; hy&ouml;ty&auml; opengl:n osaamisesta sitten on? Opengl on saatavilla useille eri alustoille, joten on suhteellisen helppoa kirjoittaa koodia, joka k&auml;&auml;ntyy ongelmitta niill&auml;. Opengl:n suosiosta johtuen Internetist&auml; l&ouml;ytyy paljon ilmaisia tutorialeja. Opengl-tuntemuksesta on my&ouml;s hy&ouml;ty&auml;, jos aikoo portata opengl:&auml;&auml; k&auml;ytt&auml;vi&auml; pelej&auml; muille alustoille (AmigaOS/MorphOS).<br>
<br>
</font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular">Uusimman version saa kysym&auml;ll&auml; tekij&auml;lt&auml;, Michal &quot;Kiero&quot; Wozniakilta. Kannattaa kysell&auml; esim. IRC:n kautta nickilt&auml; &quot;kiero&quot; kanavalta #morphos irc.freenode.net-palvelimella. Tinygl vaatii luonnollisesti n&auml;yt&ouml;nohjaimen, jolle on 3D-tuki. T&auml;ll&auml; hetkell&auml; ainoa vaihtoehto on Voodoo, mutta Radeon-tuki on tulossa.<br>
<br>


Ensimm&auml;isess&auml; osassa tarkoituksenani oli tehd&auml; &quot;mahdollisimman yksinkertainen esimerkki, joka tekee jotain&quot;. Kaikkien funktioiden toimintaa ei selitet&auml; viel&auml;, mutta ehk&auml; my&ouml;hemmiss&auml; osissa.</font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><br>
<br>
</font><font size="2" color="#cc0000" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b>Uudet asiat: Piirtok&auml;skyt, glTranslate, glRotate</b></font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><br>
</font><font size="2" color="#000088" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b><br>


glBegin()<br>
</b></font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular">Aloitetaan piirt&auml;minen. Argumenttina annetaan tieto siit&auml;, mit&auml; piirret&auml;&auml;n, esim. GL_POINTS, GL_LINES, GL_TRIANGLES tai GL_QUADS. Kokeile vaihtaa GL_TRIANGLESin tilalle joku muu tyyppi. Huomioi my&ouml;s se, muuttuuko tarvittavien pisteiden m&auml;&auml;r&auml;!<br>
<br>
</font><font size="2" color="#000088" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b>glEnd()<br>
</b></font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular">Lopetetaan piirt&auml;minen. Piirt&auml;minen voidaan aloittaa uudestaan glBegin()-k&auml;skyll&auml;. Piirt&auml;minen t&auml;ytyy lopettaa, jos esimerkiksi halutaan vaihtaa, mit&auml; piirret&auml;&auml;n.<br>
<br>
<b>Huom!</b> Kaikkia Opengl-funktioita ei saa suorittaa glBegin():n ja glEnd():n v&auml;liss&auml;! Osa taas t&auml;ytyy!<br>
<br>
</font><font size="2" color="#000088" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b>glVertex()</b></font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><br>

Antaa yhden pisteen koordinaatit. Tarvittavien koordinaattien m&auml;&auml;r&auml; riippuu siit&auml;, mit&auml; piirret&auml;&auml;n. 3 glVertex() -k&auml;skyll&auml; voidaan esimerkiksi piirt&auml;&auml; 3 pistett&auml; tai 1 kolmio.<br>
<br>
<b>Huom!</b> Tarkimmat lukijat varmaan huomaavat t&auml;ss&auml; vaiheessa, ett&auml; koodissahan oli glVertex3f() eik&auml; glVertex(). Kuten monelle muullekin k&auml;skylle, glVertex():lle voidaan antaa argumentit useassa eri muodossa, ja funktion nimen loppuosa m&auml;&auml;r&auml;&auml; muodon, eli t&auml;ss&auml; tapauksessa 3 kpl float-tyyppisi&auml; arvoja. Float-tyyppisi&auml; arvoja k&auml;ytet&auml;&auml;n ehk&auml; eniten varsinkin, jos koordinaateille tehd&auml;&auml;n yhteen- ja v&auml;hennyslaskua monimutkaisempia laskutoimituksia.<br>
<br>
</font><font size="2" color="#000088" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b>glTranslate()</b></font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><br>

Siirt&auml;&auml; origoa argumenttina annettujen arvojen verran.</font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><br>
<br>
</font><font size="2" color="#000088" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b>glRotate()</b></font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><br>

Py&ouml;ritt&auml;&auml; koordinaatistoa argumenttien perusteella. Ensimm&auml;inen argumentti m&auml;&auml;r&auml;&auml; kulman. Py&ouml;ritys tapahtuu kolmen viimeisen argumentin m&auml;&auml;ritt&auml;m&auml;n vektorin suhteen. Eli jos haluat py&ouml;ritt&auml;&auml; jonkun akselin suhteen, aseta sit&auml; vastaava arvo ykk&ouml;seksi ja muut nollaksi.</font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><br>
<br>


&gt; <a href="osa1.c" target="_blank">Esimerkkikoodi</a><br>
<br>
<a href="#top">Sivun alkuun</a><br>
</font>
<table width="100%" border="0" cellspacing="0" cellpadding="3">
<tr height="20">
<td height="20"></td>
</tr>
<tr>
<td bgcolor="#048ce2"><font size="2" color="white" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b>Osa 2: Menn&auml;&auml;n mets&auml;&auml;n</b></font></td>
</tr>
<tr height="6">
<td height="6"></td>
</tr>
</table>
<font size="2" color="#cc0000" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b>Uudet asiat: ohjelmallinen mallinnus, valaistus, depth buffer, glEnable &amp; glDisable, glPushMatrix &amp; glPopMatrix</b></font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><br>
<br>
</font><font size="2" color="#000088" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b>Ohjelmallinen mallinnus

<table width="126" border="0" cellspacing="2" cellpadding="0" align="right">
<tr>
<td width="120"><img src="kuvat/puu.jpg" alt="" height="244" width="120" border="0" vspace="8"></td>
</tr>
</table>
<br>
</b></font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular">Ohjelmallinen mallinnus tarkoittaa sit&auml;, ett&auml; objekti lasketaan matemaattisesti (mahdollisten argumenttien perusteella) sen sijaan, ett&auml; se esimerkiksi ladattaisiin tiedostosta. Funktio &quot;tree&quot; piirt&auml;&auml; kolmiulotteisen kuusen funktiolle annettujen argumenttien perusteella.<br>


Argumentit:<br>


seg: M‰‰ritt‰‰, kuinka montaa polygonia k‰ytet‰‰n esim. sylinterin piirt‰miseen.<br>


r1, r2, h1, h2: ks. kuva.<br>
<br>
</font><font size="2" color="#000088" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b>Valaistus</b></font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b><br>
</b></font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular">Valaistus otetaan k&auml;ytt&ouml;&ouml;n k&auml;skyll&auml; glEnable(GL_LIGHTING). Lis&auml;ksi tarvitaan v&auml;hint&auml;&auml;n yksi valonl&auml;hde, valonl&auml;hde numero 1 otetaan k&auml;ytt&ouml;&ouml;n k&auml;skyll&auml; glEnable(GL_LIGHT0). Valonl&auml;hteelle kannattaa m&auml;&auml;ritt&auml;&auml; my&ouml;s sijainti, t&auml;m&auml; onnistuu k&auml;skyll&auml; glLightfv(GL_LIGHT0, GL_POSITION, light_pos). Valot lis&auml;&auml;v&auml;t kolmiulotteiseen grafiikkaan syvyytt&auml;. Valonl&auml;hteiden m&auml;&auml;r&auml; kannattaa pit&auml;&auml; mahdollisimman pienen&auml;, koska jokainen uusi valonl&auml;hde hidastaa piirt&auml;mist&auml;.<br>
<br>
</font><font size="2" color="#000088" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b>Depth Buffer</b></font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b><br>
</b></font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular">Depth Bufferin k&auml;ytt&ouml;&ouml;notton liittyy muutamia vaatimuksia. N&auml;ytt&ouml;&auml; alustettaessa t&auml;ytyy ilmoittaa, ett&auml; halutaan my&ouml;s depth buffer. T&auml;m&auml; onnistuu lis&auml;&auml;m&auml;ll&auml; &quot;GLUT_DEPTH&quot; glutInitDisplayMode()-funktion argumenttien joukkoon. Depth Buffer t&auml;ytyy ottaa k&auml;ytt&ouml;&ouml;n glEnablella: glEnable(GL_DEPTH_TEST). N&auml;yt&ouml;n tyhjent&auml;misen yhteydess&auml; my&ouml;s Depth Buffer t&auml;ytyy tyhjent&auml;&auml;: glClear(GL_COLOR_BUFFER_BIT|GL_DEPTH_BUFFER_BIT).<br>
<br>
Depth Buffer lis&auml;&auml; jokaiselle ikkunan pikselille &quot;syvyysarvon&quot;. Jokaista pikseli&auml; piirrett&auml;ess&auml; lasketaan pikselin syvyys. Jos laskettu syvyys on pienempi, piirret&auml;&auml;n pikseli, ja korvataan vanha Depth Bufferin arvo uudella. T&auml;m&auml;n ansiosta ei tarvitse huolehtia (poikkeuksia lukuunottamatta, totta kai) siit&auml;, miss&auml; j&auml;rjestyksess&auml; polygonit piirret&auml;&auml;n. Poikkeuksena esimerkiksi l&auml;pin&auml;kyv&auml;t polygonit: jos yrit&auml;t piirt&auml;&auml; pikseli&auml; l&auml;pin&auml;kyv&auml;n&auml; piirretyn pikselin &quot;taakse&quot;, ei sit&auml; piirret&auml;, koska Depth Bufferin arvo on suurempi. T&auml;m&auml;n takia l&auml;pin&auml;kyv&auml;t polygonit kannattaa piirt&auml;&auml; viimeisen&auml;.<br>
<br>
</font><font size="2" color="#000088" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b>glEnable ja glDisable</b></font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b><br>
</b></font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular">K&auml;skyill&auml; voidaan ottaa k&auml;ytt&ouml;&ouml;n tai poistaa k&auml;yt&ouml;st&auml; opengl:n ominaisuuksia. Argumenttina annetaan ominaisuus, jolle muutos tehd&auml;&auml;n. Esim. glEnable(GL_LIGHTING) ottaa valaistuksen k&auml;ytt&ouml;&ouml;n.<br>
<br>

Huom! Voit muuttaa asetuksia milloin vain, paitsi glBegin():n ja glEnd():n v&auml;liss&auml;. Voit siis esimerkiksi piirt&auml;&auml; osan kuvan polygoneista ilman valaistusta.<br>
<br>
</font><font size="2" color="#000088" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b>glPushMatrix ja glPopMatrix</b></font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b><br>
</b></font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular">glPushMatrix kopioi nykyisen matriisin pinoon, glPopMatrix taas palauttaa sen. Jos haluat esimerkiksi siirt&auml;&auml; origoa v&auml;liaikaisesti kuten t&auml;ss&auml; ohjelmassa tehd&auml;&auml;n, laita siirtok&auml;sky glPopMatrix():n ja glPushMatrix():n v&auml;liin. Koodissa voi toki olla useita sis&auml;kk&auml;isi&auml; glPushMatrix()-kutsuja, mutta jokaista kohden pit&auml;isi olla yksi glPopMatrix().<br>
<br>
<a href="osa2.c" target="_blank">Esimerkkikoodi</a><br>
<a href="makefile" target="_blank">Makefile kahdelle ensimm&auml;iselle osalle</a><br>
<br>
</font><font size="2" color="#000088" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b>Lis&auml;tietoja:</b></font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><br>

&gt; <a href="http://www.mevis.de/~uwe/opengl/opengl.html" target="_blank">Listaus opengl-k&auml;skyist&auml;</a> ja yksinkertaiset selostukset niiden toiminnasta<br>

&gt; </font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><a href="http://nehe.gamedev.net/" target="_blank">Paljon opengl-tutorialeja</a><br>
<br>
</font><font size="2" color="#000088" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b>Seuraavat osat:</b></font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><br>

- Display listit<br>

- Varjostus<br>
<br>

Ehdotuksia, toivomuksia ja kysymyksi&auml; voi l&auml;hett&auml;&auml; osoitteeseen <a href="mailto:jpjokela@surfeu.fi">jpjokela@surfeu.fi</a>.<br>
</font><font size="2" color="#0c5c91" face="Trebuchet MS,Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><br>
<a href="#top">Sivun alkuun</a><br>
<br>
</font></div>
</div>
</td>
<td valign="top" width="10"><img src="../media/spacer.gif" alt="" width="10" height="10" border="0"></td>
</tr>
<tr>
<td colspan="4" width="622" height="10"><img src="../media/spacer.gif" alt="" width="10" height="10" border="0"></td>
</tr>
</table>
</div>
</td>
</tr>
<tr>
<td colspan="2" valign="top" width="622" background="../media/juttu/juttu_otsikon_tausta.jpg"><img src="../media/juttu/juttu_alareuna.jpg" alt="" width="622" height="23" border="0"></td>
</tr>
</table>
<table width="746" border="0" cellspacing="0" cellpadding="0">
<tr>
<td colspan="2" width="690">
<div align="right">
<table width="376" border="0" cellspacing="0" cellpadding="0">
<tr height="27">
<td width="19" height="27"><img src="../media/ulkoasu/vasen_reuna.gif" alt="" width="19" height="27" border="0"></td>
<td width="357" height="27"><img src="../media/ulkoasu/osa_3.jpg" alt="" width="357" height="27" usemap="#alaosa_linkit" border="0"><map name="alaosa_linkit"><area shape="rect" coords="177,9,309,22" href="http://saku.amigafin.org" alt="" target="_blank"><area shape="rect" coords="41,9,129,22" href="http://foorumi.amigafin.org" alt="" target="_blank"></map></td>
</tr>
</table>
</div>
</td>
<td width="308"><img src="../media/ulkoasu/osa_4.jpg" alt="" width="308" height="27" border="0"></td>
<td width="62"><img src="../media/ulkoasu/oikea_reuna.gif" alt="" width="62" height="27" border="0"></td>
</tr>
</table>
<table border="0" cellspacing="4" cellpadding="0">
<tr>
<td>
<div align="center">
<script type="text/javascript"><!--
CSAction(new Array(/*CMP*/ '16C99F1'));

// --></script>
</div>
</td>
</tr>
</table>
<map name="logo"><area shape="rect" coords="60,15,182,71" href="../index.html" alt="" target="_top"></map><br>
</div>
</body>



</html>

