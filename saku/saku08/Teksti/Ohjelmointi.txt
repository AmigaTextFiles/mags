2
1
5 Sukupuu.IFF 0 0*

{7                     Joonas Jaskarin ensimmäinen C-ohjelma
{7                     -------------------------------------

                                  Tomi Jaskari


Joonas Jaskari ryntäsi ATK-luokkaan heiluttaen riemuissaan  korppua,  jonka  hän
oli juuri vastaanottanut postitse. Korpulla oli  C-kielinen  ohjelma,  joka  oli
suunniteltu laskemaan planeettojen asemat tulevan syksyn tähtitaivaalla. Ohjelma
oli peräisin eräältä yliopistoystävältä, joka teki tähtitieteen ohjelmia UNIXil-
la, Helsingin yliopistossa.

Pistetäänpä  planetaario  käyntiin,  vaikka  heti,  ellei  teillä   ole   mitään
tärkeämpää kesken!

Koska Joonas oli riemastuttava kaveri eikä Amigoista ollut pulaa, päättivät Joo-
nas ja hänen kaverinsa kopioda 'planeetat' ohjelman umpilevylle. Tätä varten  he
loivat jokaiselle koneelle uuden hakemiston 'simulaatiot', johon ohjelman  voisi
sijoittaa myöhempää käyttöä varten. Joonaskin istuutui innokkaana käyttämään oh-
jelmaa...

Mutta miten ohjelma toimisi, syventyi Joonas miettimään hetkeksi, joka oli  nor-
maali aikayksikkö, jonka hän omisti ajattelemiseen.

Komennot, kuten  'makedir'  ja  'type'  ovat  oikeastaan  ohjelmia  ja  niitähän
käytetään kirjoittamalla niiden nimet. Ehkäpä riittää, että kirjoitan planeetat.
Niinpä Joonas ryhtyi tuumasta toimeen ja kirjoitti shell-ikkunaan komennon  pla-
neetat.

planeetat: file is not executable
planeetat failed returncode 10

Joonas oli hieman kummissaan  ollen  jo  huutamaisillaan  apua  paikalle,  mutta
päätti viime hetkellä vaieta ja kokeilla itsepäisesti vielä jotain...

Höh - eikö tuo toimikaan? Pitäisiköhän kirjoittaa C-komennot itse.

Joonas otti satunnaisen rivin ohjelmasta ja kirjoitti sen. AmigaShell vastasi:

#include: Unknown command

Juuri kun Joonas mietti mitä seuraavaksi yrittäisi, niin opettaja saapui paikal-
le  ja  ehdotti  ohjelman  kääntämistä,  että   tietokonekin   ymmärtäisi   sen.
Kääntämistä varten ohjelma uudelleennimettiin planeetat.c  nimellä  ja  opettaja
selitti ettei Amiga suoraan ymmärrä C-kieltä  vaan  ohjelmat  tarvitsee  kääntää
suoritettavaksi koodiksi.

Tuotahan täytyy heti itse kokeilla.

Seuraavaksi hän kirjoitti 'cc planeetat.c' ja hetken cc käänsi ohjelmaa ja tuot-
ti lopulta ajovalmiin koodin nimeltään planeetat. Nyt  sitten  käyttämään  sitä.
Kaikki mitä Joonaksen piti kirjoittaa oli komento 'planeetat' ja  ohjelma  avasi
oman ikkunansa. Hänen alkuperäinen ideansa ei ollut ollut kovinkaan väärä,  sitä
oli vain tullut sovellettua väärään tiedostoon.

Vähitellen ohjelman tultua tutummaksi Joonas keksi muutoksia, joita  hän  halusi
kokeilla. Ohjelmassa oli monta alakohtaa funktioina ja oli tavallaan häpeällistä
aina kääntää koko ohjelma kun muutoksia oli tehty vain yhteen ainoaan funktioon.
Käännökset veivät turhaa aikaa. Tällä kertaa kaverit neuvoivat kuinka  yksi  iso
tiedosto pilkotaan editorilla ja jokainen funktio talletetaan omaan  tiedostoon-
sa. Nyt, kun hän käski cc:tä kääntämään joukon tiedostoja,  ei  tuloksena  ollut
ainoastaan käännetty pääohjelma vaan myös jokainen funktio tuli käännettyä omaan
objektitiedostoonsa. Tästä lähtien kun Joonas teki muutoksia vain  yhteen  funk-
tioon, riitti cc:lle sen uudelleenkääntäminen ja linkkamineen muihin  valmiisiin
ohjelman osasiin. Tällaista helpoutta ja tukea saatuaan Joonas ei voinut välttää
mainetta ja rikkauksia ohjelmointityöstään.

{9Ohjelmointikielet, kääntäjät ja tulkit

Olipa kerran, ei niin kauan sitten eikä kovinkaan kaukana, suuri ja mahtava tie-
tokone, jonka hallitsemiseksi oli opeteltava pääteloitsut ja tuhannet  kikat  ja
jonka käyttäminen vaati suurta taitoa. Nykyään  tietokoneiden  hallitseminen  ja
käyttö on yhä helpompaa. Ihmisistä ei ole tullut viisaampia, ei myöskään  tieto-
koneista. (Tietokoneista on kyllä tullut nopeampia, halvempia, pienempiä, tehok-
kaampia ja ne kykenevät tallettamaan aikaisempaa enemmän informaatiota muistiin-
sa, joten ei niillä suinkaan heikosti mene.) Käytön helpottuminen on niiden  ih-
misten ansiota, jotka ovat kirjoittaneet nokkelia  ohjelmia  tavallisen  ihmisen
käytettäväksi, ohjelmia jotka helpottavat tietokoneen käyttöä suuresti tekemällä
asioista inhimillisempiä. Erityisesti ohjelmointikielten, kääntäjien ja tulkkien
sekä käyttöjärjestelmien kehittyminen  tekee  ohjelmoinnista  paljon  helpompaa.
Mutta mitä kätkeytyy noihin sanoihin? Selvittääksemme asiaa, tarkastelemme kuin-
ka tietokonetta käytetään.

Tietokoneet ovat laitteita, jotka seuraavat saamiaan käskyjä. Jos kokoat  joukon
käskyjä tietyn asian suorittamiseksi, kutsutaan  tätä  käskyjoukkoa  ohjelmaksi.
Niinpä, saadaksesi tietokoneen toimimaan puolestasi, täytyy  sinun  antaa  sille
oikeita käskyjä. Tämä ei niinkään helppoa, koska  tietokone  itsessään  ymmärtää
vain hyvin rajallista käskyjoukkoa, jota kutsutaan sen  käskykannaksi  (instruc-
tion set). Lisäksi se ei ymmärrä näitä käskyjä niminä vaan lukukoodeina  (binary
code), jossa on vain nollia ja ykkösiä. Alkukantaisin tapa tietokoneen ohjelmoi-
miseksi on syöttää näitä binäärikoodisia käskyjä peräkkäin sille. Tätä kutsutaan
konekieliseksi työskentelyksi ja se on hyvin työlästä ja  tarkkaa;  varmastikaan
se ei kiehdo suuren yleisön mielikuvitusta. Sitäpaitsi jokaisella  tietokonemer-
killä tuppaa noin ylipäätänsä ottaen olemaan omansa eli  konekieliä  on  useita.
Eli uuden tietokoneen myötä käyttäjät joutuisivat aina opettelemaan uuden kielen
ja uudistamaan ohjelmansa.  Omaa  laiskutaan  käyttäjät  ajautuivat  kehittämään
yleistä kieltä, jota jokainen tietokone ymmärtäisi.

Sepä onkin vasta mielenkiintoinen ongelma. Kuinka voidaankaan kehittää  ohjelmia
toimivaksi kaikilla eri tyyppisillä koneilla kun jokainen ymmärtää vain omaa al-
kukantaista käskykantaansa? Yksi tapa on toteuttaa  asia  kaksivaiheisesti.  En-
simmäinen askel on luoda yleismaailmallisempi kieli, jota ihmiset voivat helpom-
min ymmärtää ja jopa rakastaa. Tämä yleismaailmallinen kieli on tietenkin tieto-
koneen kannalta käsittämätön. Toinen vaihe onkin kirjoittaa käännösohjelma, joka
kääntää uuden kielen  koneen  osaamalle  konekielelle.  Tätä  onjelma  kutsutaan
kääntäjäksi (compiler). Jokaisella tietokonetyypillä on sitten oma  kääntäjänsä,
joka on  kirjoitettu  sen  omalla  konekielellä.  Kääntäjä  auttaa  tietokonetta
ymmärtämään yleiskieltä.

Mikä yleismaailmallinen kieli kehittyikään tämän strategian pohjalta? Tähän men-
nessä useita satoja ohjelmointikieliä  on  kehitetty  ylläolevan  kaksivaiheisen
suunnitelman mukaisesti, mutta yksikään niistä ei ole saavuttanut yleismaailmal-
lisen kielen asemaa, paitsi ehkä luojansa mielestä. Useita kieliä  on  kuitenkin
saavuttanut laajan käyttäjistön, mukana sellaisia  rohkeita  ja  kauniita  kuten
FORTRAN, COBOL, BASIC, Pascal, APL, PL/M, LISP, Logo ja C.

Amigan mukana tuli aikaisemmin AmigaBasic, nyttemin ARexx on se kieli,  joka  on
otettu mukaan käyttöjärjestelmäohjelmistoon. Lähes kaikki  muutkin  kielet  ovat
asennettavissa käyttöösi.

Jos todella haluat ohjelmoida Amigaasi assemblerilla tai C-kielellä  suosittelen
ensimmäiseksi ostokseksi The AmigaDOS Manual -kirjaa,  jossa  on  lueteltu  mitä
tarvitset ja kerrotaan miten objektitiedostot  kootaan  linkkerillä  ajettavaksi
ohjelmaksi asti.

© Tomi Jaskari 18. - 24. elokuuta 1994; alkuosa artikkelista on erittäin  vapaa-
mielinen käännös seuraavan teoksen 9. luvun alusta:

Lähdeteos: The Waite Group's UNIX® Primer Plus second edition, © 1990 


















Seuraavalla sivulla ohjelmointikielten sukupuu.


