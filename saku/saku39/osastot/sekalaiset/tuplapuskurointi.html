<!!!!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>

	<head>
		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
		<title>Sekalaiset</title>
		<meta name="generator" content="Handmade in Finland">
	</head>

	<body bgcolor="white" link="navy" vlink="navy" alink="red" leftmargin="0" marginheight="0" marginwidth="0" topmargin="0">
		<center>
			<a name="top"></a>
			<table border="0" cellspacing="0" cellpadding="12">
				<tr>
					<td><img src="../../framet/grafiikka/bullet.gif" alt="" height="8" width="8" border="0" hspace="6"><font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica"><a href="hakemisto.html" target="_self">Sekalaiset</a></font>&nbsp;&nbsp;&nbsp;<img src="../../framet/grafiikka/bullet.gif" alt="" height="8" width="8" border="0" hspace="6"><font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica"><a href="../sivukartta.html" target="_self">Sivukartta</a></font></td>
				</tr>
			</table>
			<table width="80%" border="0" cellspacing="1" cellpadding="4" bgcolor="navy">
				<tr>
					<td align="center" bgcolor="navy" width="100%"><font size="3" color="yellow" face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular"><b>Tuplapuskurointi</b></font></td>
				</tr>
				<tr height="15">
					<td align="center" bgcolor="#d8ecfd" width="100%" height="15"><font size="2" color="#000066" face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular">Markus&nbsp;Ketola</font></td>
				</tr>
			</table>
			<font size="1" face="Trebuchet MS,Verdana,Arial,Helvetica"><br>
			</font>
			<table width="80%" border="0" cellspacing="1" cellpadding="3" bgcolor="navy">
				<tr>
					<td bgcolor="#d8ecfd" width="50%"><font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica"><b>Tuplapuskurointi (tai kaksoispuskurointi, t&auml;ss&auml; k&auml;ytet&auml;&auml;n nimityst&auml; tuplapuskurointi (engl. double buffering)) on tekniikka, miss&auml; k&auml;ytet&auml;&auml;n kahta bittikarttaa; toista n&auml;ytet&auml;&auml;n, toiseen piirret&auml;&auml;n. Bittikarttojen funktion vaihto tehd&auml;&auml;n, kun n&auml;ytt&ouml;ruutua piirt&auml;v&auml; elektronisuihku on kuvaruudun ala- tai yl&auml;laidasssa. N&auml;in saadaan aikaiseksi v&auml;lkkym&auml;t&ouml;n liike. </b></font><font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica"><b>Huomautettakoon viel&auml;, ett&auml; t&auml;m&auml; juttu k&auml;sittelee tuplapuskuroinnin tekoa Classic Amigalla; tosin yht&auml; kaikki AmigaOnella tuplapuskuroinnin idea lienee sama. </b></font></td>
				</tr>
			</table>
			<font size="1" face="Trebuchet MS,Verdana,Arial,Helvetica"><br>
			</font>
			<table width="80%" border="0" cellspacing="1" cellpadding="3" bgcolor="navy">
				<tr>
					<td align="center" bgcolor="#b0c4de" width="50%">
						<table border="0" cellspacing="0" cellpadding="0" align="right" height="20">
							<tr>
								<td><a title="Alkuun" href="#top" target="_self"><img src="../../framet/grafiikka/top.gif" alt="alkuun" height="14" width="15" border="0"></a></td>
							</tr>
						</table>
						<b><font size="3" face="Trebuchet MS,Verdana,Arial,Helvetica">Toteutustavat</font></b></td>
				</tr>
				<tr>
					<td bgcolor="#d8ecfd" width="50%"><font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">Olen ottanut t&auml;h&auml;n artikkeliin mukaan kolme toteutusta: C-kielinen k&auml;ytt&ouml;j&auml;rjestelm&auml;rutiineja k&auml;ytt&auml;v&auml; esimerkki, konekielinen k&auml;ytt&ouml;j&auml;rjestelm&auml;rutiineja k&auml;ytt&auml;v&auml; esimerkki ja konekielinen suoraan erikoispiirej&auml; k&auml;ytt&auml;v&auml; esimerkki eli ns. &quot;hardiskoodausesimerkki&quot;. Jokaisessa n&auml;iss&auml; on tuplapuskuroinnin ohessa toteutettuna 3D-t&auml;hdet. 3D-t&auml;htien toteutus ei ole mitenk&auml;&auml;n optimaalisen hyvin optimoitua koodia C-kielen puolella, mutta konekielipuolella koodi on 3D-t&auml;htien osalta kohtuullisesti optimoitua. Tosin tuplapuskurointihan t&auml;ss&auml; p&auml;&auml;asiana kuitenkin on.</font>
						<p><font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">C-kielisest&auml; samoin kuin konekielisest&auml; k&auml;ytt&ouml;j&auml;rjestelm&auml;rutiineja k&auml;ytt&auml;v&auml;st&auml; ohjelmasta poistutaan painamalla ESC:i&auml;. J&auml;lkimm&auml;isen 3D-t&auml;htirutiinit on otettu suoraan hardiskoodatusta ja hieman mukailtu tarkoitusta vastaaviksi. Hardiskoodatusta versiosta poistutaan painamalla hiiren vasempaa nappia. </font></p>
						<p><font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">3D-t&auml;htirutiini on monta vuotta sitten tekem&auml;ni, jossa on k&auml;ytetty hieman apuna taannoisessa C-lehdess&auml; julkaistua listausta. Molemmat konekieliset ohjelmat on k&auml;&auml;nnetty 68040:lle. Assemblerina on k&auml;ytetty Aminetista l&ouml;ytyv&auml;&auml; PhxAss-assemblerin versiota 4.39, mutta k&auml;&auml;nt&auml;misen pit&auml;isi onnistua helposti muillakin assemblereilla.</font></p>
						<p><font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica"><a href="paketti.lha">Ohessa olevassa paketissa</a> ovat ohjelmat kokonaisuudessaan sek&auml; l&auml;hdekoodin lis&auml;ksi viel&auml; ajettavat.</font></p>
					</td>
				</tr>
			</table>
			<br>
			<table width="80%" border="0" cellspacing="1" cellpadding="3" bgcolor="navy">
				<tr valign="middle">
					<td align="center" bgcolor="#b0c4de" width="50%">
						<table border="0" cellspacing="0" cellpadding="0" align="right" height="20">
							<tr>
								<td><a title="Alkuun" href="#top" target="_self"><img src="../../framet/grafiikka/top.gif" alt="alkuun" height="14" width="15" border="0"></a></td>
							</tr>
						</table>
						<b><font size="3" face="Trebuchet MS,Verdana,Arial,Helvetica">Toteutus k&auml;ytt&ouml;j&auml;rjestelm&auml;rutiineilla C-kielisen&auml;</font></b></td>
				</tr>
				<tr>
					<td bgcolor="#d8ecfd" width="50%">
						<div align="left">
							<font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">Aluksi m&auml;&auml;ritell&auml;&auml;n omat BitMap-struktuurit omia bittikarttoja varten, t&auml;m&auml; tehd&auml;&auml;n seuraavasti:</font>
							<pre>struct BitMap myBitMap0 = {...}
struct BitMap myBitMap1 = {...}</pre>
							<font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">BitMap-strukruutrin rakenne on seuraava: </font>
							<pre>struct BitMap {
   UWORD BytesPerRow;
   UWORD Rows;
   UBYTE Flags;
   UBYTE Depth;
   UWORD pad;
   PLANEPTR Planes[8]; }</pre>
							<font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">N&auml;ist&auml; tarvitsee normaalisti v&auml;litt&auml;&auml; &quot;BytesPerRow&quot;- (tavuja per rivi), &quot;Rows&quot;- (rivej&auml;), &quot;Depth&quot;- (syvyys eli bittitasojen m&auml;&auml;r&auml;) ja &quot;PLANEPTR&quot;-kohdista. M&auml;&auml;rittelyn yhteydess&auml; PLANEPTR:eille asetetaan aluksi arvo NULL. Sitten m&auml;&auml;ritell&auml;&auml;n omat bittikartat. T&auml;m&auml; tehd&auml;&auml;n m&auml;&auml;rittelem&auml;ll&auml; osoitinmuuttujat osoittamaan tyyppi&auml; UBYTE:</font>
							<pre>UBYTE *BM0,*BM1;
</pre>
							<font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">Seuraavaksi on aika varata (Chip-)muistia omia bittikarttoja varten. T&auml;m&auml; tehd&auml;&auml;n k&auml;ytt&auml;en AllocMem-rutiinia:</font>
							<pre>BM0 = (UBYTE *)AllocMem(M&Auml;&Auml;R&Auml;,MEMF_CHIP|MEMF_CLEAR);
BM1 = (UBYTE *)AllocMem(M&Auml;&Auml;R&Auml;,MEMF_CHIP|MEMF_CLEAR);
</pre>
							<font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">miss&auml; M&Auml;&Auml;R&Auml; = (n&auml;yt&ouml;n leveys pikselein&auml; / 8) * rivien m&auml;&auml;r&auml; (huomaa, ett&auml; C-kieless&auml; muuttujien nimiss&auml; ei tosin voi olla skandinaavisia merkkej&auml;). Nyt meill&auml; on muistia varattuna omille bittikartoille, mutta omien BitMap-struktuuriemme PLANEPTR:it osoittavat NULL:iin, joten asettakaamme BitMap-struktuurimme kuntoon:</font>
							<pre>myBitMap0.Planes[0] = &BM0[0];
myBitMap0.Planes[1] = &BM0[BPL_KOKO];
myBitMap0.Planes[2] = &BM0[2*BPL_KOKO];
myBitMap0.Planes[3] = &BM0[3*BPL_KOKO];
...
</pre>
							<font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">Ja vastaava myBitMap1:lle. Seuraavaksi onkin jo aika avata oma n&auml;ytt&ouml; ja ikkuna. Tehd&auml;&auml;n se </font><font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">OpenScreenTags- ja OpenWindowTags-rutiineilla. Ikkunan avaamisessa</font><font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica"> ei tarvitse huomioida mitenk&auml;&auml;n omia bittikarttoja, ja n&auml;yt&ouml;n avaamisessakin </font><font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">on vain pari tagia, jotka on huomioitava: SA_Type ja SA_BitMap. </font><font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">SA_Typen arvoksi asetetaan CUSTOMSCREEN|CUSTOMBITMAP (pystyviiva tarkoittaa </font><font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">or-operaatiota) ja SA_BitMap asetetaan osoittamaan toista omista </font><font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">BitMap-struktuureistamme, esim:</font>
							<pre>SA_BitMap, &myBitMap1.
</pre>
							<font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">N&auml;yt&ouml;n screen-struktuurista tarvitsemme jatkoa varten viel&auml; ViewPort- ja RastPort-struktuurit, joten otetaan ne talteen seuraavaksi:</font>
							<pre>rastport = window-&gt;RPort;
viewport = &screen-&gt;ViewPort;
</pre>
							<font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">Yll&auml; oletetaan, ett&auml; alussa on ikkunaa avattaessa avaamisen tulos talletettu window-nimiseen Window-struktuuriin osoittavaan pointteriin sek&auml; vastaavasti oletetaan, ett&auml; n&auml;ytt&ouml;&auml; avattaessa avaamisen tulos on talletettu screen-nimiseen Screen-struktuuriin osoittavaan pointteriin.<br>
								<br>
								Ennen piirrett&auml;v&auml;n ja n&auml;ytett&auml;v&auml;n bittikartan vaihtoa kutsutaan WaitTOF- tai WaitBOVP-rutiinia. Ja nyt puuttuukin en&auml;&auml; rutiini, joka vaihtaa bittikarttamme elektronisuihkun ollessa n&auml;yt&ouml;n ala- tai yl&auml;laidassa eli varsinainen tuplapuskurointirutiini. Tehd&auml;&auml;n se seuraavaksi:</font>
							<pre>void DoubleBuffering(char *Which) {
   switch(*Which) {
      case 0 : viewport-&gt;RasInfo-&gt;BitMap=&myBitMap0;
               rastport-&gt;BitMap=&myBitMap1;
               *Which=1;
               break;
      case 1 : viewport-&gt;RasInfo-&gt;BitMap=&myBitMap1;
               rastport-&gt;BitMap=&myBitMap0;
               *Which=0;
               break;
   }
   ScrollVPort(viewport);
}
</pre>
							<font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">Yll&auml; p&auml;ivitet&auml;&auml;n ViewPortin ja RastPortin BitMap-kent&auml;t ajan tasalle: N&auml;ytett&auml;v&auml; bittikartta laitetaan ViewPort-struktuurin RasInfo-struktuurin BitMap-kentt&auml;&auml;n sek&auml; piirrett&auml;v&auml; bittikartta laitetaan RastPort-struktuurin BitMap-kentt&auml;&auml;n. Lis&auml;ksi, jotta ViewPort-struktuurin muutos tulee voimaan, on kutsuttava ScrollVPort-rutiinia, joka p&auml;ivitt&auml;&auml; ViewPortin RasInfo-struktuurin tiedot copperlistaan.</font></div>
					</td>
				</tr>
			</table>
			<font size="1" face="Trebuchet MS,Verdana,Arial,Helvetica"><br>
			</font>
			<table width="80%" border="0" cellspacing="1" cellpadding="3" bgcolor="navy">
				<tr valign="middle">
					<td align="center" bgcolor="#b0c4de" width="50%">
						<table border="0" cellspacing="0" cellpadding="0" align="right" height="20">
							<tr>
								<td><a title="Alkuun" href="#top" target="_self"><img src="../../framet/grafiikka/top.gif" alt="alkuun" height="14" width="15" border="0"></a></td>
							</tr>
						</table>
						<b><font size="3" face="Trebuchet MS,Verdana,Arial,Helvetica">Toteutus k&auml;ytt&ouml;j&auml;rjestelm&auml;rutiineilla konekielisen&auml;</font></b></td>
				</tr>
				<tr>
					<td bgcolor="#d8ecfd" width="50%">
						<div align="left">
							<font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">T&auml;ss&auml; k&auml;ytet&auml;&auml;n LibCall-nimist&auml; makroa, jonka m&auml;&auml;rittely selvi&auml;&auml; t&auml;ydellisest&auml; listauksesta. Aloitetaan m&auml;&auml;rittelem&auml;ll&auml; BitMap-struktuurit:</font>
<pre>myBitMap0  dc.w  40,256      ; Leveys tavuina, korkeus pikselein‰
           dc.b  0,3         ; Liput, Syvyys
           dc.w  0           ; Pad
           dc.l  BitPlane1_0
           dc.l  BitPlane2_0
           dc.l  BitPlane3_0
           dc.l  0
           dc.l  0
           dc.l  0
           dc.l  0
           dc.l  0

myBitMap1  dc.w  40,256      ; Leveys tavuina, korkeus pikselein‰
           dc.b  0,3         ; Liput, Syvyys
           dc.w  0           ; Pad
           dc.l  BitPlane1_1
           dc.l  BitPlane2_1
           dc.l  BitPlane3_1
           dc.l  0
           dc.l  0
           dc.l  0
           dc.l  0
           dc.l  0
</pre>
<font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">Bittitasoille voi varata muistia AllocMem-rutiinilla, mutta sen voi tehd&auml; my&ouml;s varaamalla Chip-muistista puskurin, ns. bss chunkin. Tehd&auml;&auml;n niin:</font>
<pre>   section  Puskurit,bss,chip

BitPlane1_0    ds.b  10240
BitPlane2_0    ds.b  10240
BitPlane3_0    ds.b  10240

BitPlane1_1    ds.b  10240
BitPlane2_1    ds.b  10240
BitPlane3_1    ds.b  10240
</pre>
<font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">NewScreen-struktuurissa t&auml;ytyy n&auml;yt&ouml;n tyypiksi asettaa CUSTOMSCREEN!CUSTOMBITMAP (huutomerkki tarkoittaa or-operaatiota) sek&auml; laittaa kentt&auml;&auml;n, joka viittaa k&auml;ytt&auml;j&auml;n m&auml;&auml;rittelem&auml;&auml;n BitMap-struktuuriin oman BitMap-struktuurin osoite. Otetaan t&auml;ss&auml; v&auml;liss&auml; talteen rastport- ja viewport-struktuurien osoitteet:</font>
<pre>               move.l   MinunIkkuna,a0          ; Otetaan ikkunan
               move.l   wd_RPort(a0),rastport   ; rastport

               move.l   MinunNaytto,a0          ; Otetaan n‰yton
               lea      sc_ViewPort(a0),a0      ; viewport
               move.l   a0,viewport
</pre>
<font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">Yll‰ oletetaan, ett‰ OpenScreen-rutiinin tulos on talletettu
MinunNaytto-nimiseen "muuttujaan" sek‰ vastaavasti oletetaan,
ett‰ OpenWindow-rutiinin tulos on talletettu MinunIkkuna-nimiseen
"muuttujaan". J‰lleen kutsutaan WaitTOF- tai WaitBOVP-rutiinia ennen
bittikarttojen funktion vaihtoa. Ja seuraavaksi
tehd‰‰nkin taas rutiini, joka asettaa toisen bittikartan
n‰ytett‰v‰ksi ja toisen piirrett‰v‰ksi:</font>
<pre>DoubleBuffering
               tst.b    Kumpi
               beq.s    zero
               move.b   #0,Kumpi
               move.l   viewport,a0
               move.l   vp_RasInfo(a0),a0
               lea      ri_BitMap(a0),a0
               move.l   #myBitMap1,(a0)
               move.l   rastport,a0
               lea      rp_BitMap(a0),a0
               move.l   #myBitMap0,(a0)
               move.l   viewport,a0
               LibCall  GFX,ScrollVPort
               rts
zero           move.b   #1,Kumpi
               move.l   viewport,a0
               move.l   vp_RasInfo(a0),a0
               lea      ri_BitMap(a0),a0 
               move.l   #myBitMap0,(a0)
               move.l   rastport,a0
               lea      rp_BitMap(a0),a0
               move.l   #myBitMap1,(a0)
               move.l   viewport,a0
               LibCall  GFX,ScrollVPort
               rts
</pre>
<font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">J‰lleen ScrollVPort-rutiinia kutsutaan, jotta viewporttiin
tehdyt muutokset tulevat voimaan.</font>
							</div>
					</td>
				</tr>
			</table>
			<br>
			<table width="80%" border="0" cellspacing="1" cellpadding="3" bgcolor="navy">
				<tr valign="middle">
					<td align="center" bgcolor="#b0c4de" width="50%">
						<table border="0" cellspacing="0" cellpadding="0" align="right" height="20">
							<tr>
								<td><a title="Alkuun" href="#top" target="_self"><img src="../../framet/grafiikka/top.gif" alt="alkuun" height="14" width="15" border="0"></a></td>
							</tr>
						</table>
						<b><font size="3" face="Trebuchet MS,Verdana,Arial,Helvetica">Totetus erikoispiirej‰ suoraan k‰ytt‰en konekielell‰</font></b></td>
				</tr>
				<tr>
					<td bgcolor="#d8ecfd" width="50%">
						<div align="left">
							<font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">T&auml;m&auml; on siis ns. &quot;hardiskoodausesimerkki&quot;. Aluksi on varattava muistia bittikarttoja varten. Tehd&auml;&auml;n se nyt AllocMem-rutiinia k&auml;ytt&auml;en:</font>
<pre>               move.l  4,a6            ; Execbase
               move.l  #30720,d0       ; Muistin m‰‰r‰ tavuina
               move.l  #65538,d1       ; MEMF_CHIP ja MEMF_CLEAR
               jsr     -$00c6(a6)      ; AllocMem
               move.l  d0,BitMap0      ; Muisti BitMap0:lle
</pre>
<font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">Ja vastaava BitMap1:lle.
Seuraavaksi tehd‰‰n rutiini, joka odottaa, ett‰ elektronisuihku on
kuvaruudun alalaidassa:</font>
<pre>WaitForBeam    move.w  $dff004,d0      ; onko beam kuvaruudun alaosassa?
               btst.l  #0,d0                   
               beq.s   WaitForBeam
               cmp.b   #$2c,$dff006
               bne.s   WaitForBeam
               rts
</pre>
<font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">En‰‰ ei oikeastaan tarvitsekaan muuta kuin vaihtaa bittikarttojen funktio
ja kirjoittaa bittikarttojen tiedot copperlistaan. Tehd‰‰n se nyt:</font>
<pre>DoubleBuffering
               cmp.b   #1,Kumpi
               beq.s   YksKehiin
               move.l  BitMap0,ShowScreen
               move.l  BitMap1,DrawScreen
               move.b  #1,Kumpi
               bra.s   CopperListaan
YksKehiin
               move.l  BitMap1,ShowScreen
               move.l  BitMap0,DrawScreen
               move.b  #0,Kumpi
CopperListaan
               move.l  ShowScreen,d3      ; T‰ss‰ oletetaan, ett‰
               move.w  d3,low1            ; yhden bittitason koko
               swap    d3                 ; on 320 * 256 pikseli‰ eli
               move.w  d3,high1           ; 10240 tavua.
               swap    d3 
               add.l   #10240,d3
               move.w  d3,low2
               swap    d3
               move.w  d3,high2
               swap    d3
               add.l   #10240,d3
               move.w  d3,low3
               swap    d3
               move.w  d3,high3
               rts
</pre>
<font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">Otetaan viel‰ palanen copperlistaa n‰kyviin:</font>
<pre>CopperLista
               dc.w    $00e0             ; BPL1PTH
high1          dc.w    $0000
               dc.w    $00e2             ; BPL1PTL
low1           dc.w    $0000
               dc.w    $00e4             ; BPL2PTH
high2          dc.w    $0000
               dc.w    $00e6             ; BPL2PTL
low2           dc.w    $0000
               dc.w    $00e8             ; BPL3PTH
high3          dc.w    $0000
               dc.w    $00ea             ; BPL3PTL
low3           dc.w    $0000
               dc.w    $0100,$3200       ; BPLCON0
               dc.w    $0102,$0000       ; BPLCON1
               dc.w    $0108,$0000       ; BPL1MOD
               dc.w    $010a,$0000       ; BPL2MOD
               dc.w    $0092,$0038       ; DDFSTRT
               dc.w    $0094,$00d0       ; DDFSTOP
               dc.w    $008e,$2c81       ; DIWSTRT
               dc.w    $0090,$2cc1       ; DIWSTOP
               dc.w    $ffff,$fffe
</pre>
							<font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">T‰ss‰ olikin kaikki, mit‰ tarvitsee tuplapuskuroinnin tekemisest‰
tiet‰‰ hardistasolla. Toki toimivan ohjelman aikaansaamiseksi
tulee viel‰ tiet‰‰ mm. miten copperlista ylip‰‰t‰‰n laitetaan p‰‰lle,
mutta se on k‰sitelty t‰ydellisess‰ listauksessa. Tarkempi teoria 
bittitasojen n‰ytt‰misest‰ hardistasolla sivuutetaan, mutta mainittakoon
DMACON-rekisterist‰ ($DFF096) kuitenkin, ett‰ sill‰ t‰ytyy sallia DMA:n,
bittitasojen DMA:n ja copperin DMA:n k‰yttˆ biteill‰ 9, 8 ja 7 (1. bitti on 0).<br>
<br>
								Copperlistassa on kommentteina rekistereiden nimet, joita k&auml;ytet&auml;&auml;n, mutta merkitys j&auml;tet&auml;&auml;n lukijan oman tutkimisen varaan; developer CD 2.1:ll&auml; on AmigaGuide-muodossa Hardware Reference Manual, josta asiaa voi tutkia tarkemmin. </font></div>
					</td>
				</tr>
			</table>
			<br>
			<table width="80%" border="0" cellspacing="1" cellpadding="3" bgcolor="navy">
				<tr valign="middle">
					<td align="center" bgcolor="#b0c4de" width="50%">
						<table border="0" cellspacing="0" cellpadding="0" align="right" height="20">
							<tr>
								<td><a title="Alkuun" href="#top" target="_self"><img src="../../framet/grafiikka/top.gif" alt="alkuun" height="14" width="15" border="0"></a></td>
							</tr>
						</table>
						<b><font size="3" face="Trebuchet MS,Verdana,Arial,Helvetica">Lopuksi</font></b></td>
				</tr>
				<tr>
					<td bgcolor="#d8ecfd" width="50%">
						<div align="left">
							<font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica">Toivottavasti t&auml;st&auml; artikkelista oli hy&ouml;ty&auml; sek&auml; toivottavasti t&auml;m&auml; innosti ohjelmoimaan; vaikka omista hardiskoodauksistani on kulunut pitk&auml; aika, niin t&auml;t&auml; artikkelia tehdess&auml;ni huomasin, kuinka hauskaa se on! Ja tuplapuskurointihan on perustekniikoita esim. pelien teossa. Ohjelmoikaamme ja pit&auml;k&auml;&auml;mme Amiga elossa! :)</font></div>
					</td>
				</tr>
			</table>
			<table border="0" cellspacing="0" cellpadding="12">
				<tr>
					<td><img src="../../framet/grafiikka/bullet.gif" alt="" height="8" width="8" border="0" hspace="6"><font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica"><a href="hakemisto.html" target="_self">Sekalaiset</a></font>&nbsp;&nbsp;&nbsp;<img src="../../framet/grafiikka/bullet.gif" alt="" height="8" width="8" border="0" hspace="6"><font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica"><a href="#top" target="_self">Sivun alkuun</a>&nbsp;&nbsp;</font><img src="../../framet/grafiikka/bullet.gif" alt="" height="8" width="8" border="0" hspace="6"><font size="2" face="Trebuchet MS,Verdana,Arial,Helvetica"><a href="../sivukartta.html" target="_self">Sivukartta</a></font>&nbsp;&nbsp;&nbsp;</td>
				</tr>
			</table>
		</center>
	</body>

</html>