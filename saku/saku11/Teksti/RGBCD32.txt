5
1
2 Periaatekaavio.IFF 30 20
4 Synclevy.IFF 110 20
5 Videovahvistin.IFF 46 80
7 Piirilevy.IFF 107 37
8 Piirilevypäältä.IFF 0 10
12 Kuoret.IFF 44 25
13 Laitekotelo.IFF 26 25*

{3                    Tee se itse: RGB-portti Amiga CD32:een 
{3                    --------------------------------------

                                 Harri Laitinen


Kaikissa CD32:issa ei ole Amigan RGB-liitintä, vaikka niissä on TV-modulaattori,
S-VHS ja Composite Video. Tämä omituinen  puute  käy  oleelliseksi,  jos  haluaa
käyttää CD32:a vaikkapa Commodoren 1942-monitorin kanssa. Syksyllä 1994 pulpahti
kysymys CD32:n RGB-liittimestä tuon tuostakin esille Internetin  Amiga-uutisryh-
missä, joten sama puute  näytti  vaivaavan  muitakin  kuin  itseäni.  Vasta  kun
ryhmässä comp.sys.amiga.cd32 julkaistiin lokakuussa 1994 tieto CD32:n sisäisestä
RGB-liitännästä ja sen johtojen järjestyksestä,  asia  alkoi  hitaasti  edistyä.
Vuoden alusta minulla sitten on ollut myös monitoriini sopiva liitäntä,  jollai-
sen rakentelusta kerron tässä.


{31. Mitä tässä syntyy?

CD32:n oikeaan kylkeen tulee yksi 9-piikkinen D-liitin ja siihen liitettävä  vi-
deovahvistimen laatikko. Vahvistamattomat  RGB-signaalit  tulevat  ensin  CD32:n
piirilevyltä liitäntäkohdasta TP9 uuteen pieneen piirilevyyn konsolin  kuorissa.
Siinä puskuroidaan kuvan tahdistussignaalit. RGB-signaalit vahvistetaan ulkopuo-
lella vahvistinlaatikossa, mistä kaikki johdetaan Amigamallisen  monitoriliitti-
men kautta eteenpäin. Vahvistin saa käyttöjännitteensä CD32:sta. Tätä laajennus-
ta  voi  käyttää,  jos  monitori  kykenee  näyttämään  Amigan  näyttötiloja  vi-
deonäyttötiloista (PAL 50 Hz vertical, 15,6 kHz horizontal) alkaen.

Esimerkeissäni C.Sync-linjaa ei ole täydennetty loppuun, mutta tarvittaessa  sen
saa käyttöön täydentämällä kaaviot  samanlaisella  kytkennällä  kuin  H.Sync  ja
V.Sync.


{32. Mitä jos joku tampio tunkee joystickin RGB-liittimeen?

Ikävä kyllä 9-piikkiseen D-liittimeen saa kiinni monenlaisia laitteita.  Liitti-
messähän ongelmia aiheuttaa +12 V napa. Täysin  idioottivarman  liitännästä  saa
vain ottamalla vahvistimen jännitteen erillisestä jännitelähteestä,  niin  ettei
sitä voi oikosulkea minkään kuvasignaalin tai CD32:n +5 V käyttöjännitteen kans-
sa. Mallissani napojen järjestys ja suojaus on mietitty niin,  että  RGB-liitti-
meen voi tunkea myös hiiren tai joystickin, eikä se  polta  CD32:n  sisuskaluja.
+12 V:n johdossa on sulake siksi, ettei oikosulkemalla +12 V ja GND voisi rikkoa
muuntajaa. Diodi +5 V johdossa taas estää polttamasta CD32:n  piirilevyä  +12  V
jännitteellä. Vahvistinlaatikon voi myös vaaratta kiinnittää hiiriporttiin.

Kaikesta huolimatta +12 V jää ongelmaksi, sillä mikä tahansa RGB-liittimen navan
9 (+12 V) johonkin navoista 1-6 yhdistävä lisälaite voi aiheuttaa tuhoa.  Ongel-
man voisi ratkaista käyttämällä epästandardeja liittimiä, joihin ei  saa  kiinni
mitään muuta lisälaitetta tai ottamalla vahvistimen käyttöjännitteen muualta.









(kuva seuraavalla sivulla)






























{33. Varotoimenpiteitä

Konsolin sisuskaluissa puuhastelu saa aivan varmasti takuun raukeamaan,  jos  se
vielä sattuu olemaan voimassa. Tätä ohjetta ei muutenkaan kannata ryhtyä  sovel-
tamaan ainakaan ensimmäisenä elektroniikan rakenteluprojektinaan!

CD32 on Amiga 1200:n tavoin staattiselle sähkölle  arka  32-bittinen  tietokone,
joten työskentelyyn pitäisi varata mahdollisimman vähän hankaussähköä  sisältävä
ympäristö. TP9:n liitosjohtojen juottamisen ajaksi olisi myös aihetta maadoittaa
juotoskolvi ja CD32 samaan maahan. Tosin ainakaan laitteen oman muuntajan kautta
tämä ei aivan helposti onnistu, sillä sen verkkojohtoa ei ole maadoitettu.

Erittäin hyödyllinen varotoimenpide on katkaista CD32:sta virta aina, kun siihen
kiinnitettyä elektroniikkaa käpälöidään. Itse en rakentelun loppuvaiheissa malt-
tanut pitää tästä kiinni, ja niinpä tulinkin rikkoneeksi  Alicen.  Varomattomuus
maksoi sellaiset 700 markkaa ja viikkokausia hukattua  vapaa-aikaa,  ennen  kuin
kone taas suostui toimimaan.


{34. Synkronointipulssien puskurointi

Alice-piiristä tulevat synkronointipulssit on syytä ottaa  loogisen  portin  tai
vastaavan suojauselektroniikan lävitse, sillä  Alice  on  kallis  ja  hankalasti
vaihdettava lastu. Väliin on viriteltävä elektroniikkaa senkin vuoksi, että koko
Amiga kieltäytyy käynnistymästä kunnolla, jos jännite synkronointijohdoissa las-
kee liian alas. Väliin soveltuvat monenlaiset loogiset portit, esimerkiksi  AND-
portit, joiden sisäänmenot kytketään yhteen,  kaksi  NOT-porttia  peräkkäin  tai
OR-portit. Minä käytin piiriä 74HCTLS08N, jonka kaltaista on käytetty myös  Com-
modoren VGA-adapterissa C=390682-01.































{35. RGB-signaalien vahvistaminen

{1RGB-signaalit tulevat TP9:ään suoraan D/A-muuntimesta  vahvistamattomina,  joten
{1niitä on vahvistettava ennen monitorille johtamista.  Vahvistimen  elektroniikka
{1suojaa myös D/A-muunninta. RGB-signaalien vahvistamiseen olen  käyttänyt  yksin-
{1kertaista jännitevahvistinta, jonka perusteet noukin Pentti O. A. Haikosen  kir-
{1jasta Videotekniikka (1992). Erityisiä videovahvistimiksi rakennettuja integroi-
{1tuja piirejäkin on olemassa, mutta ikävä kyllä ainakaan Tampereen  Bebekillä  ei
{1ollut niitä myynnissä. Ilman IC:tä edessä on hiukan vaivalloisempi urakka.





















{36. Piirilevyn suunnittelu

Jos haluaa siistin lopputuloksen, on parasta valmistaa painopiirilevyt videovah-
vistinta varten. Levylle pitää mahduttaa ainakin kolme  videovahvistinpiiriä  ja
mahdollisesti synkronointipulssien puskurointi. Itse asensin  puskuroinnin  pie-
nemmälle piirilevylle, jonka sijoitin  CD32:n  kuorien  sisäpuolelle.  Isommalla
piirilevyllä ovat sitten videovahvistimien seurana transistorit, joiden  vahvis-
tusta säätämällä  saa  synkronointipulssien  jännitteet  monitorille  sopiviksi.
Näitä jäljessä seuraavia transistoreja ei välttämättä edes tarvita, jos  monito-
rin kaapeli on järjellisen pituinen.

Piirilevyihini tuli niin paljon hyppylankoja, että niiden  juottamisen  vaivalla
olisi voinut suunnitella koko kortin siistimmäksi. Maajohdin kannattaa sijoittaa
silmukaksi ison piirikortin ulkolaidalle, jolloin häiriöt siinä tasaantuvat mah-
dollisimman tehokkaasti. Omassa  versiossani  silmukka  ei  tule  umpeen,  mutta
häiriöitä ei silti juuri huomaa. CD-ROM-aseman koneisto aiheuttaa pieniä  jänni-
tevaihteluita, jotka näkyvät joskus monitorissa heikkona sykkivänä ilmiönä, mut-
ta sitä ei täysikään silmukka poistaisi.











(kuva seuraavalla sivulla)




























































{37. Ruumiinavaus CD32:lle

Jotta CD32:n muovikotelon saisi auki, on kaikki laitteen pohjassa olevat  ruuvit
kierrettävä irti ja lisäksi irrotettava laitteen takaa yhdellä  isolla  ruuvilla
kiinni oleva laajennusportin luukku. Tämän jälkeen kotelon voi avata kohottamal-
la kuulokepistokkeen puoleisesta päästä kansiosan irti pohjasta. Avaa varovasti,
sillä CD-ROM-asema on edelleen kiinni kansiosassa, ja sen lattakaapeli on lyhyt.
Kun kotelo on saatu auki, pitäisi saada avattua vielä peltikotelo, jonka sisällä
itse kone on. Sitä varten on  ruuvattava  irti  kaikki  peltikotelosta  ylöspäin
näkyvät ristipääruuvit ja käännettävä pystyyn kotelon laidoille taitetut  metal-
liliuskat. Lisäksi on irrotettava koneen  piirilevyn  etulaidasta  ulos  pistävä
kaapelinippu,  joka  johtaa  ohjauspaneeliin.  Liittimen   saa   vedettyä   irti
työntämällä kapeateräisen veitsen liittimen kuoren ja pistokeosan väliin ja tai-
vuttamalla niitä varovasti irti toisistaan niin, etteivät lukitustapit enää estä
pistokeosan irrottamista. Nyt peltikotelon yläpuoliskon  pitäisi  olla  irti  ja
nousta paikoiltaan vastustelematta.

Seuraavaksi on saatava irti CD-ROM-aseman kaapeli. Se irtoaa  helposti  kohotta-
malla sitä piirilevyyn kiinnittävän muovisen liittimen kehystä noin puoli  sent-
tiä. Kaapelin voi noukkia irti myös ennen peltikuoren  avaamista,  mutta  kuoren
alla olevan liittimen saavuttamiseen tarvitaan jokin pieni koukkupäinen työkalu,
ja on vaikea nähdä mitä oikein tekee. Myös kokoamisvaiheessa romppuaseman kaape-
li on hankala tapaus.

Peltikotelon sisältä paljastuu siis Amigan piirilevy. Portti TP9 on  rivi  tina-
pisteitä lähellä ulkoisen laajennuksen paikkaa. Pisterivin ympärille on maalattu
kapea valkoinen suorakaide ja teksti TP9.



{38. Sisäinen RGB-liityntä TP9

Seuraavaa kaaviota tutkimalla selviää, mikä tinapiste on mikäkin.  RGB-signaalit
löytyvät testiportista TP9. 

                                        Järjestys ylhäältä kohti piirilevyn
                                        laitaa:

                                        TP9
| |  | <--- Kickstart ROM               .-.     Kuvaus  Vastaavat liuskat
| |  |                                  |o|             laajennuspaikassa
| |  |                                  |o|
| `--' .----. <--- Akiko                |o|
|      |    |                           |o|     HSync   159
|      |    |     : <--- TP9            |o|     VSync   160
|      `----'     :                     |o|     Red     163 ja 164
|       ..        :O.--.                |o|     Green   165 ja 166
`-------'`----------'  |                |o|     Blue    167 ja 168
^                   ^  `-------         |o|     CSync   157
|                   |                   |o|     Ground  161 ja 162
Laajennuspaikka     liuska 182          `-'

RGB-signaalit tulevat vahvistamattomina suoraan D/A-muuntimesta TP9:ään ja  laa-
jennuspaikkaan, ja S-VHS-liitäntä vie vielä osan niiden muutenkin  heikosta  te-
hosta. Tahdistussignaalit ovat puskuroimattomia, ja niistä HSync:iä ja  VSync:iä
voisi käyttää paitsi monitorin kuvan tahdistamiseen, myös tahdistamaan CD32  ul-
koisen kellon mukaan. CSync taas toimii vain ulospäin.

Juotin johdot suoraan tinapisteisiin, mutta siistimpää  olisi  varmasti  juottaa
TP9:n päälle jonkinlainen liitinkampa ja käyttää sitä. Tosin  silloin  peltikuo-
resta joutuu myös leikkaamaan palan pois.

Koska videovahvistimet tarvitsevat toimiakseen sähkövirtaa, täytyy  piirilevyltä
vetää vielä ainakin kaksi johtoa: Sync-puskuroinnille +5 V ja videovahvistinpii-
reille +12 V. Molempiin sopivat liitäntäpisteet löytyvät läheltä  CD32:n  virta-
kytkintä. Omassa laitteessani (piirilevyssä lukee Spellbound rev 3)  oli  kolmen
sentin päässä virtakytkimen edessä vierekkäin kolme  tinapistettä,  joista  yksi
oli +12 V, toinen +5 V ja kolmas maata. Jännitteet on parasta mitata ennen  joh-
tojen kiinnittämistä.


{39. Kotelo

Koko lisälaite kuuluu sulkea metallikoteloon, ja välikaapelien pitää  olla  suo-
jattuja, muuten tämä viritelmä ei ainakaan paranna kuvan laatua. Metallikuorista
pitäisi muodostua katkeamaton ketju CD32:n rungosta aina monitoriliittimen  kuo-
reen saakka.












(kuva seuraavalla sivulla)




























































{310. Viritystä

Kun kaikki on valmista, kytkennät ovat oikein eikä missään  ole  oikosulkua  tai
epäonnistuneita juotoksia, koittaa odotettu hetki. Lopultakin saadaan  kytkettyä
CD32 kiinni monitoriin. Pitäisi vielä uskaltaa kytkeä laitteisiin virta päälle.
Jos kaikki menee hyvin, pitäisi monitoriin ilmestyä jonkinlainen kuva.  Elleivät
synkronointisignaalien jännitteet ole sopivat, kuva vipeltää  hallitsemattomasti
vaaka- ja pystytasossa. Tähän auttaa kuitenkin säätö kahdesta  vahvistinpiirile-
vyn (-.Sync) trimmeristä. Kierrä ne aluksi asteikkonsa  puoleenväliin  ja  säädä
sitten yhtä kerrallaan.

Kun kuva pysyy ruudulla, videovahvistimen kolmea trimmeriä kääntelemällä pitäisi
monitorin kuvan kirkkaus saada sopivaksi ja värisävyt oikein. Luultavasti kaikki
trimmerit tulevat lähes samaan asentoon lähemmäksi  vahvistuksen  pienintä  kuin
suurinta arvoa. Lähelle värien oikeita sävyjä pääset ottamalla testikuvaksi val-
koihoisen kasvot ja koettamalla saada ne näyttämään terveiltä. Säädöt ovat  koh-
dallaan, kun kasvot eivät ole sairaan vihreät tai kuumeisen punaiset eivätkä si-
nerrä.


{311. Kannattaako?

Lyhyesti voi todeta, ettei kannata, ellei rakentelu ole mukavaa. Jos hyvin  käy,
rakenteluun tuhrautuu muutama päivä ja tarvikkeiden hinta. Jos käy huonosti, me-
nee pidempään ja voi tulla vaikka kuinka  kalliiksi.  Mutta  saa  tässä  ainakin
jännitystä elämään, ja rakentelu on vähintään yhtä mielenkiintoista kuin  keski-
verto seikkailupeli.

Arvio tarvikekuluista: 

Transistorit            30 mk
Kondensaattorit         10 mk
Vastukset               5-10 mk
Metallikotelo           20 mk
Eristintapit            4 mk
Liittimet ja kuoret     20 mk
Johdot                  5 mk
Painopiirilevyt         20 mk
IC 74HCTLS08N           6,50 mk
Holkin-rimat            5 mk

Yhteensä noin           130 mk

Kytkennöissä voi käyttää muitakin kuin esimerkissäni  mainittuja  transistoreja,
kunhan taajuusalueet riittävät. (S2C1417-transistorit irrotin kiinalaisesta kel-
loradiosta.) Myös Haikosen kirjan esimerkeissä on eri komponentit. 
