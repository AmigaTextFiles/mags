\T

 --> TEST DU SOFTWARE DEVELOPMENT KIT par Corto et Glames
============================================================

   Le groupe de Bill McEwen arriv_ a la t_te d'Amiga Inc en janvier 2000 avait
annonc_ ses intentions : constituer une _quipe, trouver des partenaires et faire
la part belle aux d_veloppeurs pour enfin pr_senter un nouveau syst_me
d'exploitation. Nous attendons l'AmigaOS 4.0 pour cet _t_ et avons test_ ce qui
permettra de lui fournir des applications d_s sa version 4.2 : le controvers_
mais bien pr_sent SDK.

~   Pr_sentation
   Le packaging soign_ de cette version 1.0 fait plaisir et il est r_confortant de lire
un ouvrage technique ou l'on parle d'Amiga ! On a en effet droit a un livre, complet,
en anglais :( qui s'_tale sur pr_s de 300 pages. La boite contient bien sur un c_d_rom
avec les outils de d_veloppement ainsi qu'une doc colossale en HTML et PDF. Dans sa
grande g_n_rosit_, Amiga nous gratifie aussi d'un large autocollant qui en mettra plein
la vue ! L'installation requiert un syst_me sous Linux Redhat 6.1, avec 32 Mo de
m_moire.
   Le livre se charge de la pr_sentation du nouveau syst_me Amiga et du principe du
Virtual Processor, tout en faisant de nombreuses r_f_rences a l'Amiga Classic. Vient
ensuite la partie plus tourn_e vers la programmation : les langages support_s (VP,
Java, C, C++) dans un chapitre chacun et la description des objets et du syst_me a un 
niveau plus technique. Le noyau et sa conception sont d_crits, tout comme d'autres
aspects typiques : les devices, l'AmigaShell ainsi que l'omnipr_sent Multimedia 
Toolkit (gestion de l'audio, du graphisme et de l'interface).

ö

\T

~   Installation
   Il s'agit sans doute de se pr_munir contre le piratage et d'_viter le d_veloppement
anarchique, puisque l'installation requiert de nombreuses _tapes. A la r_ception de 
son kit, il faut commencer par s'enregistrer en ligne sur le site Amiga et pour
cette _tape, une carte r_seau connect_e est obligatoire. Sans quoi il n'est m_me 
pas envisageable de naviguer sur le c_d_rom pour consulter les docs : il ne sera 
d_compact_ qu'avec un setup et la saisie de nombreux num_ros identifiants (utilisateur,
d_veloppeurs,...).
   Lorsque l'environnement est correctement install_, on y acc_de le plus naturellement
du monde par le syst_me de fichiers de Linux. Deux choix s'offrent alors a nous :
intent-shell pour basculer en mode console sous l'AmigaShell ou bien intent-media pour
profiter des d_mos a lancer par un menu. Point d'interface "end-user" pour l'instant
_tant donn_ qu'il s'agit d'outils de d_veloppement, il faut se contenter d'un menu 
basique. Notons que l'ensemble est quand m_me d_pouill_...

~   Les d_mos
   Place aux symboles, une d_mo mise en avant concerne la mythique Boing Ball, cette
boule rouge et blanche qui rebondit ici sur le bas de l'_cran et que l'on peut saisir
a la souris pour mieux l'envoyer en l'air, quitte a ce qu'elle sorte par le haut de
l'_cran pour revenir encore plus vite ! Ceci est amusant mais ca devient tout de
suite plus s_rieux quand on ouvre de multiples fen_tres dont le fond est plus ou
moins transparent, c'est-a-dire qu'on peut superposer plusieurs fen_tres et observer
leur contenu ! Et si notre Boing Ball vient a passer derri_re une fen_tre avec un 
filtre violet, elle ne sera pas cach_e mais elle prendra une teinte violette ! On peut
ainsi superposer les objets comme on l'entend pour mieux en _tre _tonn_ : la gestion
des couches et de leur priorit_ est tr_s pouss_e, on en arriverait presque a une
notion de "fen_tres 3D".

ö

\T

   Parmi les autres applications plus sobres se trouvent une horloge, des fen_tres
pr_sentant diff_rents alphabets (le syst_me g_re en interne l'Unicode qui permet de
coder les _critures du monde entier), des interfaces avec menus et boutons. Ces 
derni_res sont d'assez mauvais gout et peu pratiques mais la GUI n'est pas
compl_tement implant_e, et c'est Paul Nolan, l'auteur de Photogenics qui s'en
charge donc on devrait voir un sacr_ changement ! De plus, la GUI est totalement
configurable, ce qui laisse entrevoir pas mal de possibilit_s... L'objectif _tant
de pouvoir, selon les plate-formes (micro-ordinateur, PDA, t_l_phone, ...), cr_er
des interfaces a l'apparence toute a fait diff_rente. 
   Depuis la sortie du SDK, de nouvelles d_mos sont apparues, telles que les tr_s
classiques tunnels ou rotozooms. Ce dernier m'a assez impressionn_ puisque sur notre
machine de test (un modeste Pentium 133), il offre un bon exemple des possibilit_s
du syst_me. Dans une fen_tre, des capsules tournent tout en zoomant (le principe
imparable du rotozoom ;-), le fond de la fen_tre n'_tant autre que le bureau lui-m_me,
avec les fen_tres d'arri_re-plan qu'il peut comporter. Qu'on _tire ou qu'on d_place
la fen_tre, ce n'est pas cela qui viendra perturber l'effet en cours ! Notons aussi
des rotations d'objets textur_s (vache, collier, ...) avec source de lumi_re qui
sont la encore vraiment tr_s fluides.

~   D_velopper avant tout
   Avant d'arriver a de tels r_sultats, il va falloir se pencher sur les facilit_s et
les performances des outils de d_veloppement : assembleur, d_bogueur, compilateur,
gestionnaire, etc... D_ja de nombreux sources disponibles vous aideront a comprendre
le fonctionnement du Virtual Processor (VP) sur lequel tout repose. Les programmes 
sont compil_s dans un code processeur virtuel qui est traduit (et optimis_ selon le
ou les processeurs) au vol lors de l'ex_cution : oui, vous avez bien lu ;), la
traduction se fait a l'ex_cution, ce qui permet d'ex_cuter sans aucune recompilation 

ö

\T

un programme VP sur toute plate-forme disposant du traducteur ad_quat et permet
d'envisager une ind_pendance prometteuse par rapport au mat_riel. Le langage VP
ressemble a un m_lange d'assembleur et de C un peu d_routant mais qui parait tr_s
appr_ci_ au final. Une force du VP repose sur son aspect modulaire qui met en avant
la notion r_currente de Tool qui se d_finit comme "un bloc de code ex_cutable,
r_entrant et relogeable, qui peut _tre charg_ et ex_cuter a la demande".
   Pour les plus sceptiques, sachez que le VP peut _tre compl_tement transparent et
que vous pouvez vous en tenir a des langages de haut niveau. La compilation en C/C++
classique est assur_e par vpcc qui est un portage de gcc. Quant a Java, on a droit
a une version all_g_e puisqu'il s'agit de Personal Java en version 1.1.6. Je n'ai pu
faire de tests de vitesse qui auraient pourtant permis de confirmer si le Java de
TAO est r_ellement aussi rapide qu'ils le pr_tendent.
   Mes quelques essais de compilations furent probants, ce qui n'est gu_re _tonnant
puisque tous les d_veloppeurs utilisent le m_me syst_me, les risques d'incompatibilit_s
sont donc r_duits pour l'instant. Un soucis tout de m_me, pour certains projets,
il manquait des tools qui ont compromis la compilation. Le d_veloppement se trouve
facilit_ par le tr_s puissant AmigaShell qui supporte une compl_tion automatique des
plus agr_able pour retrouver une fonction du syst_me ou une commande. De plus, le 
fameux et terrifiant 'man' est bien plus lisible et agr_able que d'ordinaire puisque
coloris_.

~   Impressions
   Le SDK donne toutes les cl_s aux d_veloppeurs volontaires et envieux de se placer
sur un syst_me naissant. Il en repr_sente la premi_re pierre et la tache est lourde.
Un nouvel OS n'est viable que s'il se voit pourvu a sa sortie de logiciels... et de
jeux. Or, il est d_ja pr_vu pas moins de 150 applications dont 70 de jeux. Les ventes
plus que satisfaisantes et l'appr_ciation du kit laissent pr_sager un avenir

ö

\T

rayonnant. On connait d_ja l'existence d'une nouvelle version de Wildfire, rebaptis_
Taifun pour l'occasion. Le portage de Photogenics n'aurait pris que 3 semaines,
contre 3 mois au moment de son passage sous Linux (le pi_ge est peut-_tre que ce
sont justement les sources Linux qui ont pu _tre utilis_es). Outre les classiques
outils de compression, on notera la pr_sence de POV, d'un player MPEG video, un
clone de Bomberman "Abomber"...

~   Evolution
   D'abord sorti sous Linux, puis sous Windows en octobre 2000, le kit de d_veloppement
fourni (ou plutot vendu) par Amiga Inc ne signifie aucunement qu'on se retrouve a 
programmer pour ces OS, id_e qui semble en avoir affol_ plus d'un. Les syst_mes hotes
actuels ne sont que le support du syst_me Elate cr__ par TAO et base de l'AmigaDE.
Elate s'utilise aujourd'hui par dessus un OS mais deviendra natif dans sa version
finale.
   La prochaine version int_grera la gestion de la 3D et du son, m_me si on attendait
celles-ci pour la version 1.01 qui offre tout de m_me un meilleur support des autres
distributions Linux (Redhat 6.2, Mandrake 7.1, Suse 7.0) et s'ouvre a Windows.
Concernant Java, Amiga a annonc_ que le package Swing (indispensable pour les
applications graphiques _volu_es) _tait op_rationnel, bien que l'effort sur
l'efficacit_ n'est pas encore _t_ port_.

~   Situation actuelle
   Comme Amiga a finalement d_cid_ que la prochaine version de l'AmigaOS (la 4.0)
n'int_grera pas l'AmigaDE (il faudra attendre la 4.2, au d_but de l'ann_e 2002), on
peut se demander a quoi cela sert d'utiliser le SDK et de d_velopper d_s aujourd'hui
des applications et jeux en VP... Eh bien, cela sert a fournir des logiciels pour...
les PDA et notamment le Zaurus de Sharp, avec qui Amiga Inc a sign_ un accord. Ce

ö

\T


partenariat n'est aujourd'hui plus virtuel avec les premi_res d_monstrations
d'applications en juin 2001 au Business Show au Japon. On compte aujourd'hui plus
d'une quinzaine de logiciels "d_clar_s" pour le Zaurus : shoot-them-up, pacman,
gauntlet, gestionnaire d'adresses... 
   Le travail de ces derniers mois devrait payer avec la sortie de la nouvelle
version du SDK, des cartes AmigaOne PPC et de l'AmigaOS 4.0. Tout devrait devenir
plus clair a ce moment-la sur ce que sera le nouvel OS.

~   Liens utiles
   On peut b_n_ficier d'outils disponibles sur Internet pour agr_menter son
environnement de d_veloppement. Le site de support officiel se trouve sur
www.amigadev.net, r_serv_ aux utilisateurs enregistr_s et propose une mailing-list.
Cependant, vous pouvez tout de m_me le visiter en cliquant notamment sur l'onglet
"User" : vous pourrez ainsi voir les premi_res applications "d_clar_es", que ce
soit pour l'AmigaOne ou pour les PDA. N'h_sitez pas _galement a surfer jusqu'au
site officiel d'Amiga Inc (www.amiga.com) pour en savoir plus sur le 2001 Business
Show ou l'AmiWest 2001, mais aussi pour voir les premi_re images du PDA Sharp.
D'autres adresses ou se rendre de toute urgence :
http://www.amigasdk.com,
http://amigasdk.ifrance.com,
http://www.amiga.org
http://boing.attitude.online.fr.

ö