\T

 --> HARDWARE : PROMETHEUS PCI par Tcherno et X-Ray
=====================================================

Prometheus... la puissance du PCI dans votre Amiga !

~   Reception et inventaire
   Matay a choisi DHL, le courrier ultra-rapide (que certains surnoment "Des Hommes
Lents"), pour nous livrer le "proto" parti le 18 mai et arriv_ le 31 mai !!! M'enfin,
elle est la, dans une superbe boite , au design tr_s color_. A l'int_rieur, la carte
Prometheus PCI dans un sachet _lectrostatique et un cable d'alimentation. Les
programmes et pilotes _taient arriv_s s_par_ment par e-mail depuis une semaine.
La version commerciale sera bien sur accompagn_e d'un c_d_rom avec les softs et
drivers, ainsi que deux supports m_talliques et la visserie, pour fixer la carte
Prometheus a l'Amiga et les cartes PCI. La carte extraite de la boite est une
pr_-s_rie, mais sa finition est imp_cable, tr_s net, sans "patch" ou autres bricolages !

~   Montage de la carte Prometheus et Voodoo
   La carte Prometheus peut _tre mont_e dans un 3000(T) et dans un 4000(T). C'est
donc un A4000 Destop qui a eu les honneurs de la pr_tendante. Il faut pr_ciser que
lors de son annonce, Matay avait signal_ que, dans le cas d'un mod_le Desktop, il ne
serait pas possible de fermer le boitier (voir photo 1). Sur la photo, on remarque
tr_s bien que les cartes PCI ins_r_es dans la Prometheus d_passent du boitier
d'environ 2 cm et ceci lorsque l'on utilise le slot Zorro le plus bas. Donc les
cartes PCI vont d_passer d'autant plus que l'on utilisera les slots Zorro sup_rieurs.
Avec la future carte Mediator PCI ZIII, le probl_me reste le m_me sur un 4000
Destop. En fait, dans ce cas de figure, il semble n'y avoir qu'une solution (seulement
en projet actuellement), c'est la carte annonc_e par DCE pour la fin de cette ann_e.

ö
\I prome1
\X 180
\Y 55
\T

Objectivement, si l'on veut du PCI dans ce cas, autant acheter quelque chose qui
existe vraiment, quitte a passer le 4000 en tower plus tard. On a d_ja tellement vu
de projets annoncer, puis "foirer" peut de temps apr_s :(




















~                              La carte Prometheus PCI




























ö

\T
   La carte prend tr_s facilement place dans un slot ZIII libre. Il suffit ensuite de
connecter le cable d'alimentation fourni dans la boite, entre la carte Prometheus (un
connecteur sur la carte) et un connecteur 12/5 volts libre de l'alimentation de la
machine. Op_ration ultime, l'insertion des cartes PCI, en l'occurence une carte
graphique Voodoo3 2000 16 Mo. Apr_s un red_marrage, on constate que la carte
Prometheus est annonc_e "working" dans le menu "Early-startup", sous le num_ro
44359 ! En lancant le programme "showconfig", on va retrouvez les informations
correspondantes, soit :

}Board (unidentified) :
}Prod=44359/1($AD47/$1) (@$40000000, size 256meg, subsize same)

Le nombre apr_s le "@" peut _tre diff_rent, cela d_pend du mod_le d'Amiga que vous
poss_dez et des autres cartes Zorro install_es dans celui-ci.

~   Installation des logiciels
   Dans sa version commerciale, l'installation des pilotes et autres logiciels utiles
au fonctionnement de la carte Prometheus (et aux cartes PCI) sera g_r_e et
automatis_e grace a "Installer". Pour l'instant, il faut suivre les indications
d'un fichier "install.txt" fourni avec la version soft "Prometheus-1.40" et installer
les fichiers a la main. C'est tr_s facile et vite fait.

} ^ Installation de la Prometheus
- Copier "prometheus.library" avec son icone dans le r_pertoire SYS:Expansion
- Cr_er un r_pertoire "PCI" dans Devs:
- Copier le fichier "vendors.txt" dans ce r_pertoire "PCI".
- Copier les fichiers "PrmScan" et "RomDump" dans le r_pertoire C ou Tools.
- Red_marrer l'Amiga.
- Tester _ventuellement dans un shell. Si la librairie a _t_ initialis_e en tapant
"version prometheus.library".

ö

\T

} ^ Installation des drivers Voodoo3 P96

- Installer le syst_me graphique Picasso 96 V2.0 (qui se trouve par exemple sur le c_d_
de l'OS3.9.
- Selectionner "Cybervision64/3D" dans les scripts d'installations et poursuivre
l'installation jusqu'a la fin (y compris le moniteur ad_quat).
- Effacer le moniteur "CVision3D" + icone dans DEVS:Monitors.
- Copier les fichiers "Voodoo.chip" et "Prometheus.card" du soft Prometheus, dans
LIBS:Picasso96.
- Red_marrer la machine et installer _ventuellement le moniteur ad_quat avec Picasso96
(ex : 31KHz). Avec le A4040 cela a _t_ n_cessaire, pas avec les autres machines de
tests !
- Lancer P96 Mode et s_lectionner "Prometheus0" dans le menu sous "Board".
- S_lectionner les modes correspondants, comme lors de toutes installations de P96
et tester avant de sauver.

Voila, on dispose maintenant de la liste des modes d'_crans "Prometheus" dans
"Screenmode" et on peut y choisir celui que l'on d_sire. On se retrouve ensuite
sous Voodoo3 et on profite de sa rapidit_ dans l'affichage du Workbench et des
programmes. Ca fonctionne tr_s bien.

~   Les essais en situation
   La carte a _t_ install_e successivement sur un (tous avec les ROM 3.1 et l'OS 3.9) :

- A4000 Desktop standard, soit avec une carte 3640 (68040-25MHz, 2MB chipRAM,
16MB FastRAM, HD 2GB IDE, CD-ROM IDE, _cran EIZO 14")

ö

\T

- A3000T Tower original de CBM, avec une carte Cyberstorm MKII (68060-50MHz,
2MB chip, 64MB Fast, HD 4.5GB SCSI, ZIP SCSI, CD-ROM SCSI, cartes ZII VLab,
carte r_seau XSurf, Multi I/O MultifaceCard)
- A4000T Tower original de ESCOM, avec une carte CyberPPC (PowerPC 604e-233MHz,
68060-50MHz, 2MB chip, 144MB Fast, HD18GB WideSCSI, CD-ROM SCSI sur WideSCSI,
graveur SCSI sur SCSI int. carte I/O IOBlix + module r_seau Ethernet, carte Emplant)

   Tout d'abord parlons un peu des contraintes m_caniques. Dans le cas du mod_le 4000
Desktop, il faut signaler qu'il n'est plus possible de fermer le boitier comme
signal_ plus haut. Il n'est pas non plus possible d'utiliser les slots Zorro,
lorsque l'on place la Prometheus dans le slot le plus bas, pr_s de la carte-m_re.
Au cas ou l'on aurait besoin des slots Zorro, il faudrait donc d_caler en cons_quence,
la Prometheus vers le haut. Cette derni_re remarque est aussi valable pour d'autres
mod_les (4000T, 3000T). Nous ne pouvons malheureusement pas vous donner
d'informations concernant le mod_le 3000 Desktop, ne disposant pas de celui-ci
chez Relec. Celui qui d_sire des informations sur ce sujet pr_cis, devra pour
l'instant s'adresser directement a Matay !

   Dans le A3000T, il n'y a pas de probl_me particulier, si ce n'est le fait que, si
la Prometheus est install_e dans le slot Zorro le plus bas, elle masquera les autres
slots Zorro. Il ne sera donc pas possible d'utiliser des cartes a ce standard. Si
vous avez besoin d'une ou plusieurs cartes ZIII, nous vous conseillons de placer
la Prometheus dans le 2_me slot ZIII depuis le haut, ce qui vous laisse l'acc_s a
3 slots ZIII libre en dessous. Il n'est pas possible de placer la Prometheus dans
le slot sup_rieur a cause du support des disques durs !
   Sur le A4000T, c'est un peu diff_rent. La difficult_ est engendr_e par la traverse
m_diane, qui supporte elle aussi les disques durs en sont extr_mit_ avant. Mais si

ö

\T


vous avez absolument besoin de 4 slots Zorro, vous pouvez toujours modifier (scier)
cette traverse. La rigidit_ de l'ensemble ne devrait pas trop s'en ressentir et vous
conserveriez des emplacements pour vos HD. Mais de toute facon vous serez g_n_ par
le controleur SCSI qui se situe sur l'arri_re et qui emp_che l'insertion des cartes
PCI. Donc, si vous n'avez pas besoin de ce controleur, vous pouvez le retirer et
le desactiver si vous avez une carte MKIII ou CybPPC (dans le menu de la carte).
Dans ce cas, vous pouvez placer la Prometheus dans n'importe lequel des slots ZIII
depuis le haut. Il faut savoir que d_s le quatri_me slot ZIII, vous avez acc_s aux
quatre slots PCI et a un slot ZIII. Sinon pas de solution a ce niveau. Bien que
cette situation soit exceptionnelle, puisque les cartes PCI remplacent avantageusement
les ZII ou ZIII. Vous aurez quand m_me encore une variante possible, au cas ou 
vous auriez besoin d'un slot video. En effet, le slot inf_rieur (celui qui se
trouve sous le dernier ZIII) reste de toute facon libre.


   Plusieurs programmes ont _t_ test_s sous Voodoo3, sans rencontrer de probl_me. 
Que ce soit avec Wordworth7 ou fxPAINT 1.5 en 800x600x32bit, ou encore PPaint 7.1
en 800x600x8bit ou pour lancer le jeu Quake, nous n'avons pas rencontrer de
difficult_ d'affichage. Malheureusement la version soft ne comporte pas encore
de pilotes 3D (Warp3D support complet d'OpenGL), mais il sera inclus sur le c_d_
livr_ avec la version commerciale. Idem pour les pilotes des cartes r_seaux.
Pour les cartes sons SB Live, il faudra certainement attendre encore un peu,
selon la derni_re annonce de Matay (voir plus loin).

ö

\T
~   Qu'attendre et qu'esp_rer de la Prometheus ?
   Les solutions ne sont pas simples, car les "m_caniques" sont vraiment diff_rentes,
d'une machine a une autre. On peut dire que dans l'ensemble, la "solution Prometheus"
devrait satisfaire un maximum d'utilisateurs avec la possibilit_ de jouer des deux
solutions (PCI + Zorro) et de mixer les cartes en diff_rentes combinaisons. Nous
le r_p_tons, la carte existe et fonctionne. Les pilotes pour les diff_rentes cartes
PCI sont la ou arrivent sous peu et le support 3D est assur_. Le SDK (pour
d_veloppeurs) et librement accessibles et des d_veloppeurs ind_pendants travaillent
d_ja sur les pilotes pour les cartes PCI de leur choix. La politique de Matay est
vraiment tr_s ouverte, ce qui permet d'esp_rer pleinement exploiter la Prometheus.
En se posant la question suivante (et il semble que d'autres utilisateurs se la
pose), concernant le cout de cet carte, en tenant compte des crit_res et de la
situation actuelle (soit la seule carte r_ellement existante, les drivers 3D et
un support tr_s ouvert) : Est-ce que ca vaut le coup ? Voici le calcul et le
raisonnement que l'on peut faire avec les chiffres ci-dessous, (NDLR : 1 CHF = 4.30 FF)

- 1 carte r_seau Zorro = CHF 190
- 1 carte son Zorro = CHF 430
- 1 carte graphique Zorro 3D = CHF 400
TOTAL = CHF 1020

- 1 carte r_seau PCI = CHF 60
- 1 carte son PCI = CHF 90
- 1 carte graphique Voodoo3 PCI = CHF 150
TOTAL = CHF 300

Gain de la solution PCI sur Zorro = CHF 720 (soit 2800 FF), est-ce n_gligeable m_me
si l'on d_duit le cout de la plus-value Prometheus par rapport a une autre carte ?

ö

\T

~   Les premiers benchmarks
Essai chez Relec avec P96Speed 1.2
A4040-25MHz + Voodoo3, _cran 800x600-256 couleurs :

}.============= SPEEDRESULTS ==============
I RectFill()......................................................9474 op/s  
I RectFill() Pattern..........................................38 op/s  
I WritePixel()................................................51827 op/s  
I WriteChunkyPixels()...................................334 op/s  
I WritePixelArray8().....................................324 op/s  
I WritePixelLine8()....................................10324 op/s  
I DrawEllipse()..............................................5027 op/s  
I DrawCircle().................................................6180 op/s  
I Draw()............................................................1426 op/s  
I Draw() Hor/Ver.......................................10825 op/s  
I ScrollRaster() X........................................1208 op/s  
I ScrollRaster() Y........................................1282 op/s  
I PutText()....................................................3632 op/s  
I BlitBitMap().................................................6516 op/s  
I BlitBitMapRastPort()..............................3650 op/s  
I BitMapScale()..................................................63 op/s  
}I--------------- Intuition ------------------
I OpenWindow()....................................................41 op/s  
I MoveWindow()...................................................71 op/s  
I SizeWindow()....................................................24 op/s  
I CON-Output...................................................393 op/s  
I ScreenToFront()...............................................0 op/s  
`==========================================
                     
ö

\T

Essai chez Matay avec P96Speed 1.2
A4040-25MHz + Voodoo3, _cran 800x600-16M couleurs:

}.============= SPEEDRESULTS ==============
I RectFill()......................................................4239 op/s  
I RectFill() Pattern..........................................32 op/s  
I WritePixel().................................................51172 op/s  
I WriteChunkyPixels()....................................107 op/s  
I WritePixelArray8()......................................106 op/s  
I WritePixelLine8()......................................5946 op/s  
I DrawEllipse()..............................................3750 op/s  
I DrawCircle()...............................................4283 op/s  
I Draw()..............................................................965 op/s  
I Draw() Hor/Ver........................................10184 op/s  
I ScrollRaster() X.........................................324 op/s  
I ScrollRaster() Y.........................................337 op/s  
I PutText()....................................................3337 op/s  
I BlitBitMap()................................................5246 op/s  
I BlitBitMapRastPort()...............................3512 op/s  
I BitMapScale()..................................................57 op/s  
}I--------------- Intuition ------------------
I OpenWindow()....................................................29 op/s  
I MoveWindow()...................................................39 op/s  
I SizeWindow()........................................................9 op/s  
I CON-Output....................................................275 op/s  
I ScreenToFront().............................................82 op/s  
`==========================================

ö

\T

Essai chez Relec avec P96Speed 1.2
1) un A3000T-MKII 060 + Voodoo3, _cran 800x600-256 couleurs
2) un 4000/060 AGA

}.===== Testroutine =====+====== 1) =======+====== 2) =======+=== Diff ===
I RectFill().........................................25426 op/s.....................69 op/s...............368.49 
I RectFill() Pattern................................61 op/s......................68 op/s....................0.90 
I WritePixel()...................................121309 op/s...............40526 op/s...................2.99 
I WriteCunkyPixels()..........................580 op/s.....................120 op/s....................4.83 
I WritePixelArray8()..........................567 op/s.....................120 op/s....................4.72 
I WritePixelLine8().........................24996 op/s..................8217 op/s....................3.04 
I DrawEllipse()....................................9075 op/s...................252 op/s..................36.01 
I DrawCircle().....................................11459 op/s...................272 op/s...................42.13 
I Draw().................................................2993 op/s....................144 op/s...................20.78 
I Draw() Hor/Ver...........................33559 op/s.....................196 op/s..................171.22 
I ScrollRaster() X............................2539 op/s.........................6 op/s................423.17 
I ScrollRaster() Y............................2663 op/s.........................7 op/s................380.43 
I PutText().........................................11737 op/s....................624 op/s...................18.81 
I BlitBitMap()....................................18805 op/s.....................198 op/s..................94.97 
I BlitBitMapRastPort()...................11539 op/s.....................194 op/s..................59.48 
I BitMapScale()........................................73 op/s......................53 op/s......................1.38 
}+=============================== Intuition  ============================
I OpenWindow().........................................91 op/s........................16 op/s.....................5.69 
I MoveWindow()......................................519 op/s........................15 op/s..................34.60 
I SizeWindow()........................................126 op/s........................15 op/s.....................8.40 
I CON-Output........................................925 op/s......................104 op/s.....................8.89 
I ScreenToFront()....................................0 op/s........................51 op/s.....................---- 
+====================================================================

ö

\T                     


~   Pilotes livr_s sur le c_d_ et informations actuelles de Matay

}Pilotes pour cartes graphiques :
Voodoo3 2000
Voodoo3 3000
Pilotes 2D drivers pour le syst_me graphique Picasso96, pilotes 3D pour Warp3D
(support "full OpenGL"). Les deux Syst_mes sont inclus sur le c_d_.

}Pilotes des cartes r_seaux :
Le pilote "prometheus-ne2000.device" travaille avec toutes les cartes r_seaux PCI
compatibles NE2000, incluant les suivantes : Realtek RTL8029 $10EC $8029, Compex
RL2000 $11F6 $1401, Winbond 89C940F $1050 $0940, Holtek HT80232 $12C3 $0058,
Surecom NE34 $10BD $0E34, Holtek HT80229 $12C3 $5598

Carte test_e:
Genius GE2500-III SE RTL8029 working

}Pilotes pour cartes TV :
en cours de r_alisation

}Pilotes pour cartes son :
En cours de r_alisation
"Nous sommes d_sol_s, mais notre pilote pour SB Live est encore en d_veloppement et
ne sera pas inclus sur le c_d_. Nous ne voulons pas livrer un logiciel en "beta software"

ö

\T


comme produit OEM. Nous allons publier celui-ci sur notre site web, en t_l_chargement
libre, d_s que possible. En dehors de nos pilotes, plusieurs d_veloppeurs ind_pendants
ont d_clar_s vouloir en _crire pour les cartes sons. Comme cela vous aurez le libre
choix." (C) 2001 - Matay

~   Terminus (Bonne pour le service) !!!
   Voila en bref, les informations que nous avons collect_es lors de nos investigations
internes. Toutes les informations contenues dans cet article ont _t_ v_rifi_es selon 
les indications mentionn_es et avec les mat_riels list_s et le sont a titre indicatif.
Celle-ci ne sauraient _tre consid_r_es comme officielles et seules font fois les
sp_cifications et informations de Matay le fabricant. La conclusion que nous pouvons
tirer de ces essais, c'est que la Prometheus est "bonne pour le service", en esp_rant 
qu'elle comblera les besoins et les attentes de ceux qui d_sirent utiliser des cartes
PCI sur les 3000(T) et 4000(T).



}NDLR : grand merci a Relec pour nous avoir autoris_ a diffuser cet article dans
}Obligement.
}www.relec.ch 
ö