\T

 --> EN PRATIQUE : TORNADO 3D par Arg
======================================

~   G_n_ralit_s
   Tornado 3D est un logiciel de cr_ation d'objets 3D, avec calcul d'images fixes ou
d'animation (image par image). 

   Pour d_buter voyons de quoi il retourne pour permettre un bon fonctionnement de la
b_te, vous verrez que m_me les configurations modestes pourront faire tourner T3D, 
mais qu'_videmment, un processeur v_loce n'est pas inutile :

- Configuration minimum : 68020, AGA, 16 Mo RAM.
- Configuration conseill_e : 68060/66 + PPC, carte graphique, 64 Mo de RAM.
- T3D a _t_ test_ sous les OS suivants avec succ_s : 3.0, 3.1, 3.5, 3.9 et Scalos.
- Pilote CyberVision et 040+060 sp_cifiques

   Vous avez donc bien lu que le PPC est support_ et c'est notamment son principal 
avantage (en terme de rapidit_ de calcul), mais quelques sp_cificit_s ne sont pas
a omettre non plus, CGX est g_r_ (pilote sp_cial pour la CyberVision), fonctionne
parfaitement sous Picasso 96 (Mediator + Voodoo III par exemple). Il fonctionnera 
donc parfaitement sous les principaux pilotes graphiques, et de nombreuses cartes :
AGA, Cybervision (pilote non test_ mais _crit sp_cialement pour cette carte selon 
les auteurs), BVision (test_ avec succ_s) et aussi la Voodoo III (sans aucun
probl_me). Ce qui est l'assurance d'un fonctionnement optimal sur les principales 
configurations rencontr_es. A ce propos, une r_solution d'_cran en 800x600 me
semble ad_quate.

Bref, allons de ce pas _tudier l'objet de tous les d_sirs : T3D.

ö

\T

~   L'interface
   Commencons par ce qui est visible : son interface. Un menu "habituel" en haut, 
deux rang_es d'icones cliquables (que l'on peut redessiner soi-m_me !) de chaque cot_
des quatre vues (haut, cot_, face et pr_visualisation). Chacune de ces vues peut
occuper la totalit_ de l'_cran si n_cessaire. En dessous, acc_s simple et pratique
au mode animation, qui est je le pr_cise en mode Key frame (c'est a dire que vous
d_finissez une action par image cl_, le logiciel faisant l'interpolation
interm_diaire a votre place).

   Cette interface permet _galement d'obtenir huit types diff_rents de pr_visualisations
(Wire frame ou structure fil de fer, Gouraud, maille textur_e, etc.). 

~   Principales possibilit_s de T3D :
   En plus de la cr_ation d'objets basiques (cube, cylindre, sph_re, pyramide.), T3D
g_re la cr_ation d'objets point par point mais aussi les "bones" pour animer les
objets type personnages, les nurbs, les force-fields (champs de force invisible
agissant sur la forme d'un objet : du vent dans un drapeau par exemple), les
particules (fum_e notamment) mais aussi les fractales et les textes en 3D. Les 
traditionnels copier/coller sont de mises et l'on peut aller encore plus loin avec
les multiplications, les op_rations bool_ennes, lissage des mailles...

   Certaines possibilit_s que l'on retrouve dans les plus prestigieux logiciels de
3D (3D Studio Max pour ne citer que celui la) ont la possibilit_ d'ex_cuter une
s_rie d'op_ration via des scripts. C'est sous le nom de Golem que Tornado 3D g_re
les siens. Ces scripts peuvent notamment _tre utilis_s avant et/ou apr_s un rendu. 

ö

\T

   Pour ce qui est de l'import/export, T3D g_re le DXF (.dxf), les objet Lightwave
(.lwo) et imagine (.obj).

   Plusieurs "panneaux" sp_cifiques a une action donn_e sont _galement pr_sents dans
T3D (possibilit_ d'y acc_der par simple pression des touches de fonctions) : la
gestion de la camera, du monde environnant de votre/vos objets (texture de fond, 
effet de brouillard), la gestion des images charg_es, la gestion des images comme
textures d'objets (r_flexion de la lumi_re, texturage selon les formes des objets 
de base : cube, sph_re. transparence), gestion du temps de l'animation, gestion
des lumi_res (types de lumi_res et coloration lumineuse) et bien sur, gestion du
rendu.

   Quelques pr_cisions quant aux possibilit_ de rendu :
Motion blur, profondeur de champs, raytracing, mais aussi diff_rentes qualit_s allant 
de la pr_visualisation a la superbe image anti alias_e.

   Chacune des possibilit_s du produit seront d_crites dans un l'article suivant mais
je terminerai cette partie sur les g_n_ralist_s par les cot_s positifs et n_gatifs
du produit (son prix _tant de pr_s de 450 Euros, il faut _tre sur de son coup tout
de m_me ou se r_conforter avec sa version SE qui est 5 fois moins ch_re).

~   Les cot_s positifs :
   Le calcul du rendu par le PPC est un atout consid_rable, a l'_poque de sa sortie,
nos "pauvres" petits 603e a 160 Mhz ne faisaient pas trop pale figure face au d_but
des PIII. Soit, face aux 2 GHZ et plus des Processeurs actuels, certains penseront
que cela est la moindre des choses, mais sachez que la puissance est la, quoiqu'il

ö

\T

en soit. Exemple avec l'objet cath_drale : avec un 040 a 25 Mhz : 1 heure de calcul,
060 : 15 minutes, et PPC : ...40 secondes seulement.

   La facilit_ d'utilisation et de prise en main est un atout _galement, vous tatonnez
peut-_tre un peu au d_but mais l'aide assez didactique du manuel, m_me s'il est loin
d'_tre complet et tr_s bien fait. Les possibilit_ de sauver en JPEG, IFF, ou
d'importer des objets Lightwave sont _galement de bonnes choses. Une bonne stabilit_
sur diff_rents hardware (AGA, BVision, Voodoo 3, CGX, Picasso 96, PPC, 68K).

~   Quelques points n_gatifs tout de m_me :
   L'export DXF est capricieux et ne prend pas toujours en compte la totalit_ des
objets. Quelques "trous" dans les mailles d'un objet d_form_, quelques bugs
d'affichage de fen_tre de panel qui refusent de se clorent. Seul le moteur de
rendu est PPC et pas le modeleur. 

   A ceci, je rajouterai quelques manques :
Mises a jours trop rares, un plug in pour l'import des objets 3DS, un modeleur PPC
pour gagner en rapidit_ d'ex_cution, la possibilit_ de directement sauver en MPEG
par exemple ou en AVI (codec cinepack) pour _tre lu sous Action de l'OS 3.9. pour
ne citer que lui.

Maintenant, place a la pratique avec notre premier tutoriel.

~   Tutoreil : impacts et lumi_res avec Tornado3D
   Aujourd'hui, nous allons fouiner dans les m_andres de T3D pour aller un peu plus
loin avec l'invisible et le mat_riel : la lumi_re d'une part et l'impact de la
mati_re sur la mati_re d'une autre.

ö

\T

   La lumi_re, m_me compos_e de photons et ayant une masse si minime soit elle, n'est
visible qu'en partant d'une source : lampe, soleil, etc. Les programmes de synth_se
incluent g_n_ralement d'embl_e une lumi_re g_n_rale, d_s la cr_ation du moindre
projet. C'est une option qui n'est pas d_nu_e d'int_r_t ni m_me de r_alisme, car
sans lumi_re, un objet ne peut _tre vu par nos yeux d'humains. Les programmes
d'image de synth_se se voulant proche de l'oeil, un _cran noir apparaitrait si 
aucune lumi_re n'existait. L'int_r_t de cette lumi_re sans source visible est donc
de facilement et globalement illuminer un objet, sans m_me parfois avoir besoin
de se soucier de cet _clairage. Comme nous travaillons en ray tracing et que le
programme calcule l'impact de lumi_re sur les objets en fonction de la distance
de ceux-ci entre eux et par rapport a la lumi_re qui se refl_te sur ces dits
objets, un petit travail d'approche semble donc s'imposer.

   Tout d'abord chargez T3D (ah bon ?) et aller le menu objet/lightsource/point.
Une petite _toile doit donc apparaitre, elle repr_sente la source lumineuse. Si
vous effectuez a ce moment une pr_visualisation en mode r_aliste (tapez 8). Vous
ne verrez rien. Effectivement, par d_faut, T3D met en place des lumi_res
invisibles. Pour en voir la source, allez dans le light panel (F9). A droite du
panel, toutes les options concernant la visualisation de la lumi_re sont pr_sentes.
Vous pouvez y choisir sa couleur, son type et bien sur la possibilit_ ou non de
la voir. Plusieurs options s'offrent a vous, car vous pouvez faire de la lumi_re,
plus qu'un simple "objet" visualisable ou pas.

   Vous pouvez : faire en sorte que cette lumi_re soit visible ou non (option active 
flare), la rendre en volume (option volum_trique), lui ajouter un halo de couleur, un 
anneau rouge (ring) ou r_aliser un effet de lens flare (option. lens flare, cette

ö

\T
 
fameuse option qui permet de rendre une sc_ne plus r_aliste alors que cet un simple
effet d'optique issu des lentilles d'une cam_ra classique positionn_e selon un certain 
angle par rapport a la lumi_re !). De ce panel, vous pouvez _galement d_finir
l'intensit_ de cette lumi_re, un nombre a partir de 100.000 donnera une forte
luminosit_, allant m_me jusqu'a _blouir les objets proches et une intensit_ de
10.000 proposera quelque chose de plus diffus. A vous de voir a ce moment quelle
option correspond le plus a votre id_e, une forte lumi_re sortant d'une lampe ou
une petite _toile filante au fin fond de l'espace.

   Mais au fait, pourquoi avoir besoin de tout cela ? Si vous _tes un fan de Star 
Treck vous aurez peut _tre envie de cr_er des torpilles lumineuses, il suffira 
alors de rendre la lumi_re (un spot light) visible. Une tuy_re de r_acteur ? Pas de
probl_me, rajoutez un halo rouge autour de votre point light ou de votre umbrella
light. Une lampe de bureau peut _tre ? S_lectionnez lumi_re visible (flare active),
volum_trique, pour votre spot light en rajoutant une couleur l_g_rement jaune.
Les applications sont nombreuses : un soleil, un r_acteur, une lampe de bureau, 
un bec de gaz, une tuy_re de fus_e, une _toile au loin, un effet lens flare au 
passage d'un vaisseau devant une _toile. Seule l'imagination ici peut nous limiter.
Pour la petite histoire, si vous d_sirez faire une tuy_re, rajoutez a sa sortie un
effet de particules (menu : objet/particule/panel) et choisissez fountain si votre
engin part du sol ou smoke s'il se trouve d_ja dans les airs tout en l'inclinant de
la m_me facon que votre tuy_re et, pour une animation, n'oubliez pas de joindre ce
petit monde ou de les faire _voluer ensemble.

~   Simulation d'un impact sur une surface
   Pour d_buter ce deuxi_me petit tutorial, munissez-vous d'une texture m_tallique

ö

\T

ou dessinez-la dans votre soft de dessin favori. Lancez T3D et dans le menu objet,
choisissez polygonal/plane. A cet instant, quelques options s'offrent a vous, elle
s'attache au nombre de subdivisons de ce plan, c'est-a-dire, le nombre de points 
internes qui mat_rialisent ce plan. Laissez-le par d_faut pour l'instant, nous y
reviendrons en temps voulu. Chargez votre texture (F6) et placez-la sur ce plan
(F7, option plane ou cube pour l'application). Reculez un peu ce plan vers le fond,
et allez dans le menu objet/forcefield/repulsor. Passez en mode Animation et sur
seulement 25 ou 50 images, faites aller ce nouvel objet vers le centre de s_lection
de votre "plane", attention, vers le point de s_lection de l'objet, sinon cela ne 
fonctionne pas correctement, puis arr_tez-le au niveau du point de s_lection du plan.
Rembobinez l'animation et visualisez la en mode r_alistic. Et la, miracle, votre plan
semble comme enfonc_ par un objet invisible !

   Alors, apr_s ce petit exemple de d_monstration, vous avez sans doute remarqu_ qu'il
n'y a pas que l'option repulsor dans le sous menu force field. Vous pouvez _galement 
tester les options attractor, wind, etc. Leur nom respectif est suffisamment explicite 
pour ne pas les d_crire toutes ici, mais l'int_r_t relatif de ces options peut vous 
tarauder l'esprit. Et bien, qu'en est-il ? Ces petites actions peuvent s'av_rer 
tr_s utiles pour diff_rentes raisons : l'option "wind" par exemple permet d'obtenir 
du vent sur de la toile, sans a avoir a d_former tous les objets d'une sc_ne a la
main, objet apr_s objet, seconde apr_s seconde, image apr_s image.

   Imaginez un champs de bataille ou s'entrechoquent les drapeaux ! Vous pouvez
_galement simuler le tir d'une arme a feu avec de la lumi_re visible comme vu plus
haut, lui rajouter de la fum_e pour la combustion de la poudre mais l'impact de la
balle, de ces 20 g de plomb sur un mur fera encore plus r_aliste dans vos sc_nes. 

ö

\T

C'est a ce moment que le nombre de subdivisions d'un plan est important et
qu'intervient de faire le bon choix de subdivisions des plans, exemple : un camion 
arrive a vive allure et enfonce une vitrine m_tallique. L'impact du camion entrainera
un gros renfoncement de tole, il suffira alors de choisir, lors de la cr_ation du
plan qui servira de vitrine m_tallique, de ne choisir un plan qu'avec une faible
subdivision (2 ou 4, pour les X comme pour les Y). Par contre, pour reprendre notre
histoire de coups de feu, la, il faudra choisir une grande incr_mentation, 10 ou plus
est bon nombre. Petite pr_cision _galement, si c'est une rafale qui doit s'abattre 
sur un mur, optez pour la multiplication des plans, cr_ez en plusieurs et mettez les
a diff_rentes _chelles, puis joignez les, sans les grouper. Faites ensuite transiter 
plusieurs repulsor au travers des diff_rents points centraux de ces diff_rents plans
lors de la cr_ation de l'animation, chaque impact pourra se faire toutes les 10
images par exemple.

   Vous avez pu constater qu'un grand nombre d'allers-retours est n_cessaire pour bien
positionner et visualiser les options "Implicit", voici quelques astuces du jour au
sujet de T3D, notamment le VCR. N'oubliez pas que le compteur d'images a droite du 
VCR est a la fois en nombre d'images et en temps. 24 images repr_sentent 1 seconde.
Tout a fait a droite le nombre d'images allant de 1 a 24, ensuite en allant
progressivement sur la gauche le nombre de secondes, puis de minutes puis d'heures. 
Les diff_rentes fl_ches du VCR, constituent des options simples pour acc_der soit
au d_but ou a la fin de l'animation, soit de se positionner a l'int_rieur d'une
animation selon ses images cl_s.

ö

