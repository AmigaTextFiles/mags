<html>
 <head>
  <title>MPlayer</title>
  <meta name="author" CONTENT="David Brunet obligement@free.fr">
 </head>

<body bgcolor="#000000" text="#cccccc" link="#cccc33" vlink="#aaaa22" alink="#cccccc" marginheight="0" marginwidth="0" topmargin="5" leftmargin="0">

<a name="top">

<map name="ObMap">
  <area shape="rect" coords="0,0,760,82" href="http://obligement.free.fr">
  <area shape="rect" coords="8,87,62,104" href="../index.html" alt="Intro">
  <area shape="rect" coords="80,87,168,104" href="edito.html" alt="Editorial">
  <area shape="rect" coords="186,87,278,104" href="apropos.html" alt="A Propos">
  <area shape="rect" coords="296,87,399,104" href="sommaire.html" alt="Sommaire">
  <area shape="rect" coords="414,87,473,104" href="quizz.html" alt="Quizz">
  <area shape="rect" coords="491,87,589,104" href="musiques.html" alt="Musiques">
  <area shape="rect" coords="607,87,648,104" href="pub.html" alt="Pub">
  <area shape="rect" coords="666,87,756,104" href="archives.html" alt="Archives">
</map>

<table align="center" width="760" height="100%" background="../gfx/fondsommaire.jpg" bgcolor="#113333" cellspacing="0" cellpadding="0">
 <tr>
  <td align="center">
   <img src="../gfx/oblogo.jpg" ismap usemap="#ObMap" border="0" height="108" width="760" alt="Obligement">

   <br><br><br>
   <table align="center" width="75%">
    <tr>
     <td>

<div align="center"><font size="+3">Test de MPlayer </font>par&nbsp;<a href="mailto:niffo@free.fr">Nicolas&nbsp;Gressard</a></div><br><br><br>

<font size="+1" color="#ccbb33">Introduction</font><br><br>

Comme vous le savez sans doute, le lecteur vidéo Frogger ne sera finalement pas fourni avec MorphOS. Heureusement,
un portage de MPlayer - l'un des lecteurs faisant référence, avec Xine, dans le monde de Linux - a été rendu
public quelques jours après la sortie de MorphOS 1.4. Nous devons ce travail à Nicolas Det. MPlayer ne sera pas
non plus fourni avec MorphOS pour des raisons de droits, mais il est téléchargeable librement et gratuitement
et les sources sont disponibles.<br><br>

<font size="+1" color="#ccbb33">Présentation</font><br><br>

Vous pouvez trouver MPlayer pour MorphOS ainsi que ses sources sur le site <a href="http://www.morphzone.org/modules/mydownloads/singlefile.php?lid=32" target="_blank">www.morphzone.org</a>.
MPlayer se présente essentiellement comme un programme en ligne de commande. Il est cependant possible de le lancer
à partir du bureau, ce dernier ouvrira un requester permettant de choisir le fichier à jouer. Une petite interface graphique
pour le futur ne sera pas un luxe (qui se lance ? ;). Les paramètres de configuration sont à entrer soit sur la
ligne de commande, soit dans un fichier de configuration qui sera utilisé par défaut. Certains d'entre eux sont
disponibles dans les tooltypes de l'icône.<br><br>

<div align="center">
<img src="../gfx/mplayer-tooltypes.png" border="0" width="411" height="507" alt="Tooltypes dans MPlayer"><br><br>
</div>

Les caractéristiques principales de MPlayer pour MorphOS sont sur le papier :<br>

<ul>
<li>Support natif de AHI.
<li>Utilisation native de CGX avec gestion de l'overlay.
<li>Grand nombre de codecs intégré.
<li>Lecture des DVD et décryptage intégré.
<li>Lecture des VCD/SVCD.
<li>Bonne synchronsation audio/vidéo.
<li>Support des sous-titres.
<li>Support de FFMpeg.
</ul>

Les codecs ainsi que la librairie de décodage des DVD (decss) sont intégrés dans l'exécutable. D'après l'auteur,
quasiment toutes les fonctionnalités de l'original ont été portées.<br><br>

La configuration de test utilisée pour le présent article est un Pegasos G3/600, 128 Mo de Ram, Voodoo 3 3000, lecteur
DVD MSI 16/48.<br><br>

<font size="+1" color="#ccbb33">Test en tant que lecteur de fichiers audio/vidéo</font><br><br>

La première chose que l'on fait logiquement lorsque l'on vient d'installer un programme, c'est de double-cliquer
sur son icône. Un requester s'ouvre alors nous invitant à sélectionner un (ou plusieurs) fichiers vidéo (ou audio)
à lire. Les options figurant entre parenthèses dans la phrase précédente sont en fait à éviter, nous verrons par
la suite pourquoi. Nous choisissons donc UN fichier VIDEO ;). Et là, oh joie, ça marche dans 100% des cas quels
que soient les codecs audio et vidéo composant ledit fichier. C'est incroyable&nbsp;! C'est le premier lecteur vidéo
que je rencontre, que ce soit sur Amiga ou sous Windows, qui est capable de lire toute ma collection de fichiers
vidéos sans bricolages ou ajout de codecs. En effet, cela fait des années que je stocke toutes les petites conneries
que l'on reçoit par mail contenant des séquences de pub et autres animations et je peux vous assurer que ceci
représente une diversité de codecs audio et vidéo inégalée (voir la liste plus bas). Cela fait vraiment tout
drôle d'avoir enfin un lecteur sur notre "Amiga", gratuit de surcroît, nous permettant de mettre définitivement
Windows Media Player) au panier.
De plus, ce lecteur est un vrai régal à utiliser au clavier. Vous voulez passer en plein-écran : appuyez sur f,
vous souhaitez avancer de 10 secondes : hop flèche droite, mettre en pause : hop barre d'espace, quitter&nbsp;:
hop Echap. Il réagit au quart de tour, chose dont nous n'avions plus l'habitude surtout si nous étions habitués
à utiliser Windows pour ce genre de tâche. Une dernière chose&nbsp;: je défie quiconque de réussir à désynchroniser
le son et l'image en jouant un fichier vidéo avec MPlayer. J'ai tout essayé et je n'ai pas réussi. Il est vrai
que cela commençait à devenir réellement un gros problème sur Frogger car l'auteur ne semble pas réussir à le
résoudre. Les seuls formats de fichier que je n'ai pas pu lire sont les fichiers audio AU, MP2 et OGG. Il
semble cependant que le Vorbis soit supporté mais les fichiers que j'avais sous la main étaient inaudibles
alors qu'ils fonctionnent bien sous WinAMP.<br><br>

Voici une liste (non exhaustive) des codecs que j'ai pu utiliser sans problème :<br><br>

<b>Codecs Video</b><br>

<ul>
<li>DivX, OpenDivX 3, 4, 5
<li>XVid MPeg-4
<li>Windows Media Video (WMV)
<li>MPeg-1
<li>MPeg-2
<li>Cinepak
<li>Quicktime
<li>Ms RLE
<li>Intel Indeo
<li>...
</ul>

<b>Codecs Audio</b><br>
<ul>
<li>MP3
<li>PCM (Wav...)
<li>WMA
<li>...
</ul>

Le nombre de formats supportés est impressionnant. Il rivalise avec FroggerNG dans ce domaine ci mais
quand on y regarde de plus près, on s'aperçoit que MPlayer propose d'avantage de formats récents, ce qui
est bien sûr plus intéressant.
Il est à noter de la bouche même de l'auteur du portage que certains codecs sont instables. J'ai pu ici
constater un problème de stabilité avec le codec WMV qui, si l'on joue un peu trop avec l'avance rapide,
laisse le système dans un état instable qui se termine généralement par le gel complet. Comme je le laissais
entendre quelques lignes plus haut, il y a deux chose à éviter avec MPlayer. Evitez à tout prix de sélectionner
plusieurs fichiers vidéo à jouer, car vous êtes presque certain de faire planter le système. Evitez également
de lancer un fichier audio depuis le bureau car aucune fenêtre ne s'ouvre et vous êtes condamné à écouter
le morceau jusqu'au bout sans pouvoir l'arrêter (même avec Scout). En revanche, si vous lancez la lecture
d'un fichier audio depuis la ligne de commande, vous pourrez l'arrêter avec CTRL-C.<br><br>

<font size="+1" color="#ccbb33">Test en tant que lecteur de disque vidéo : DVD, VCD et SVCD</font><br><br>

MPlayer est également capable de lire les DVD, VCD (vidéo CD : vidéo encodée en MPeg-1 sur support cédé) et
SVCD (super vidéo CD : vidéo encodée en MPeg-2 sur support CD). Je n'ai rencontré aucun problème avec la
lecture de VCD et SVCD à partir d'un lecteur de cédérom. Pour lancer la lecture d'un VCD, il faut généralement
lancer MPlayer avec la ligne de commande suivante : "mplayer -vcd 2".
Là ou les choses se corsent, c'est lors de l'utilisation d'un lecteur de DVD. Pour lancer la lecture d'un DVD
vous devez en principe taper la ligne de commande "mplayer -dvd 1". Le problème est que les résultats ne sont
absolument pas les mêmes d'un utilisateur de Pegasos à un autre. Il semble que la lecture de DVD fonctionne
très bien avec certains lecteurs et beaucoup moins bien avec d'autres (NDLR&nbsp;: sur le combo DVD/graveur
de chez Plextor, tous les DVD testés ont très bien fonctionné). Malheureusement, mon lecteur MSI ne
fait pas partie de ceux avec lesquels les résultats sont les meilleurs. Que les choses soient claires&nbsp;:
mon lecteur DVD fonctionne très bien sur une autre machine et nous sommes ici très certainement en présence
d'un problème imputable à un ou plusieurs des éléments suivants&nbsp;: CDFS de MorphOS, Bus IDE du Pegasos ou
MPlayer en lui-même (en dernière minute Nicolas Det nous dit que ce serait plutôt la faute de MPlayer).
Lors des tests, certains VCD fonctionnaient sur un lecteur cédé et ne fonctionnaient pas sur le lecteur DVD.
Il n'a pas été possible de jouer directement le fichier "DAT" de ces VCD car le CDFS de MorphOS ne sait pas
"monter" les VCD. Il semble d'autre part que la fonction de décryptage de DVD intégrée à MPlayer ne fonctionne
pas systématiquement bien.
Les problèmes suivant surviennent uniquement lorsqu'on lance directement la lecture du DVD avec la ligne de
commande "-vcd 2". Les résultats sont variés, mais le plus souvent on a "coulnd't open dvd..." ou encore
"end of file, exiting". Dans le meilleur des cas (en ce qui me concerne) le DVD se lance mais l'image et le
son ne tiennent pas la synchro. Parfois MPlayer quitte tout seul, d'autres fois, il affiche des "CRC errors".
Par contre, le fait d'ouvrir les fichiers VOB directement fonctionne parfaitement pour une partie des DVD
(DVD non cryptés) et affiche une vidéo brouillée pour les autres, mais MPlayer reste toujours stable.<br><br>

Voici les DVD essayés lors de ce test et le résultat :<br><br>

             <table width="90%" border="0" align="center">
              <tbody>
                <tr>
                  <td>&nbsp;</td>
                  <td align="center"><b>Lecture DVD directe<br>
                  </b></td>
                  <td align="center"><b>Lecture fichiers VOB</b></td>
                </tr>
                <tr>
                  <td>Taxi 1<br>
                  </td>
                  <td align="center">OK mais pb synchro<br>
                  </td>
                  <td align="center">OK</td>
                </tr>
                <tr>
                  <td>Taxi 3<br>
                  </td>
                  <td align="center">Ne se lance pas<br>
                  </td>
                  <td align="center">Brouillé</td>
                </tr>
                <tr>
                  <td>5ème Element<br>
                  </td>
                  <td align="center">Ne se lance pas<br>
                  </td>
                  <td align="center">OK</td>
                </tr>
                <tr>
                  <td>Ma femme s'appelle Maurice<br>
                  </td>
                  <td align="center">Ne se lance pas<br>
                  </td>
                  <td align="center">OK</td>
                </tr>
                <tr>
                  <td>La vérité si je mens<br>
                  </td>
                  <td align="center">OK mais pb synchro<br>
                  </td>
                  <td align="center">OK</td>
                </tr>
                <tr>
                  <td>La vérité si je mens 2<br>
                  </td>
                  <td align="center">Ne se lance pas<br>
                  </td>
                  <td align="center">OK</td>
                </tr>
                <tr>
                  <td>Matrix</td>
                  <td align="center">Ne se lance pas</td>
                  <td align="center">Brouillé</td>
                </tr>
                <tr>
                  <td>Harry Potter<br>
                  </td>
                  <td align="center">Ne se lance pas<br>
                  </td>
                  <td align="center">Brouillé</td>
                </tr>
                <tr>
                  <td>La Ranson (Zone 1)<br>
                  </td>
                  <td align="center">Ne se lance pas<br>
                  </td>
                  <td align="center">Brouillé</td>
                </tr>
                <tr>
                  <td>L'Arme Fatale 4<br>
                  </td>
                  <td align="center">Ne se lance pas<br>
                  </td>
                  <td align="center">Brouillé<br>
                  </td>
                </tr>
                <tr>
                  <td>Arachnophobie<br>
                  </td>
                  <td align="center">Ne se lance pas<br>
                  </td>
                  <td align="center">Brouillé<br>
                  </td>
                </tr>
              </tbody>
            </table><br>

<font size="+1" color="#ccbb33">Consommation CPU</font><br><br>

Afin d'avoir une petite idée de la consommation CPU du décodage vidéo ainsi que de la puissance du
Pegasos G3/600, je vous livre quelques tests avec plusieurs lecteurs sur plusieurs plates-formes.
Dans tous les cas le même VCD, DivX ou DVD a été utilisé.<br><br>

             <table width="90%" border="0" align="center">
              <tbody>
                <tr>
                  <td>&nbsp;</td>
                  <td align="center"><b>DVD</b></td>
                  <td align="center"><b>VCD</b></td>
                  <td align="center"><b>DivX</b></td>
                </tr>
                <tr>
                  <td><b>MPlayer</b> (sur Pegasos G3/600)</td>
                  <td align="center">98%</td>
                  <td align="center">33%</td>
                  <td align="center">45%</td>
                </tr>
                <tr>
                  <td><b>AMP2 68k</b> (sur Pegasos G3/600)</td>
                  <td align="center">+100%</td>
                  <td align="center">30%</td>
                  <td align="center">-</td>
                </tr>
                <tr>
                  <td><b>FroggerNG</b> (sur Pegasos G3/600)</td>
                  <td align="center">96%</td>
                  <td align="center">36%</td>
                  <td align="center">50%</td>
                </tr>
                <tr>
                  <td><b>Windows Media Player</b> (sur Athlon XP1800)</td>
                  <td align="center">55%</td>
                  <td align="center">13%</td>
                  <td align="center">25%</td>
                </tr>
                <tr>
                  <td><b>PowerDVD</b> (sur Athlon XP1800)</td>
                  <td align="center">40%</td>
                  <td align="center">14%</td>
                  <td align="center">35%</td>
                </tr>
                <tr>
                  <td><b>Windows Media Player</b> (sur Celeron 700)</td>
                  <td align="center">-</td>
                  <td align="center">55%</td>
                  <td align="center">+100%</td>
                </tr>
              </tbody>
            </table>

<br>

La valeur affichée dans le tableau est une valeur moyenne récupérée toujours au même endroit du film, de
préférence dans une scène d'action. Lorsque vous voyez 98%, cela signifie donc qu'il y a parfois des
scènes ou l'on perd des images. Lorsque la valeur est +100%, cela signifie que la vidéo n'est pas fluide
car le processeur (ou l'émulation 68k) n'est jamais assez puissant lors de la lecture.<br><br>

<font size="+1" color="#ccbb33">Conclusion</font><br><br>

Malgré ses défauts de jeunesse, ce portage de MPlayer représente ce qui existe de mieux en la matière sur
"Amiga" à l'heure actuelle. C'est personnellement le couple lecteur/plate-forme le plus réactif qu'il
m'ait été donné d'utiliser à ce jour. Il vous permettra de jouer tous vos fichiers vidéo sans poser
de problème et sans que vous ayez à vous poser de questions. La question de la lecture DVD est un peu
plus délicate et suivant le lecteur DVD que vous avez, vous aurez plus ou moins de chance. Gageons qu'une
solution sera trouvée dans le futur (on me confirme, toujours en dernière minute, qu'un début de solution
a été trouvé ;).<br><br><br>


<table width="100%" cellspacing="0" cellpadding="10" bgcolor="#113333" border="1">
 <tr>
  <td><br>
   <div align="center"><font size="+1" color="#ccbb33">FICHE RECAPITULATIVE</font></div><br><br>
    Nom&nbsp;: MPlayer.<br>
    Développeurs&nbsp;: Nicolas Det (version MorphOS).<br>
    Genre&nbsp;: lecteur multimedia.<br>
    Date&nbsp;: 2003<br>
    Configuration minimale&nbsp;: Pegasos G3/600, MorphOS 1.x, 8 Mo de Ram.<br>
    Configuration souhaitée&nbsp;: Pegasos G3/600, MorphOS 1.x, 16 Mo de Ram, carte graphique avec overlay.<br>
    Prix&nbsp;: gratuit :-)<br><br>

    NOTE&nbsp;: 9/10<br><br>

    <b>Points forts&nbsp;:</b><br><br>

    - Le nombre de formats supportés.<br>
    - La lecture des DVD, VCD et SVCD.<br>
    - Performances générales (plus rapide que sous Linux).<br>
    - Gratuit.<br><br>

   <b>Points faibles&nbsp;:</b><br><br>

    - Il manque une interface graphique.<br>
    - Pour l'instant, la lecture DVD ne passe pas sur tous les lecteurs.<br>
    - Quelques codecs instables.<br><br>

  </td>
 </tr>
</table>

<br><br>


<div align="center"><a href="#top">Retour en haut</a> | <a href="sommaire.html">Retour au sommaire</a></div><br><br> 


     </td>
    </tr>
   </table>
  </td>
 </tr>
</table>


</body>
</html>
