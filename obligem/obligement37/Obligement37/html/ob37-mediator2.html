<html>
 <head>
  <title>Hardware : installation logicielle du Mediator</title>
  <meta name="author" CONTENT="David Brunet obligement@free.fr">
 </head>

<body bgcolor="#000000" text="#cccccc" link="#cccc33" vlink="#aaaa22" alink="#cccccc" marginheight="0" marginwidth="0" topmargin="5" leftmargin="0">

<a name="top">

<map name="ObMap">
  <area shape="rect" coords="5,1,756,80" href="http://obligement.free.fr">
  <area shape="rect" coords="11,87,74,104" href="../index.html" alt="Intro">
  <area shape="rect" coords="88,87,184,104" href="edito.html" alt="Editorial">
  <area shape="rect" coords="200,87,302,105" href="apropos.html" alt="A Propos">
  <area shape="rect" coords="316,87,432,104" href="sommaire.html" alt="Sommaire">
  <area shape="rect" coords="442,87,512,104" href="quizz.html" alt="Quizz">
  <area shape="rect" coords="526,87,630,105" href="musiques.html" alt="Musiques">
  <area shape="rect" coords="648,87,746,104" href="archives.html" alt="Archives">
</map>

<table align="center" width="760" height="100%" background="../gfx/fondsommaire.jpg" bgcolor="#113333" cellspacing="0" cellpadding="0">
 <tr>
  <td align="center">
   <img src="../gfx/oblogo.jpg" ismap usemap="#ObMap" border="0" height="108" width="760" alt="Obligement">

   <br><br><br>
   <table align="center" width="75%">
    <tr>
     <td>

<div align="center"><font size="+3">Hardware : installation logicielle du Mediator </font>par&nbsp;<a href="mailto:bovier@club-internet.fr">Philippe&nbsp;Bovier</a></div><br><br><br>

Cet article explique la configuration logicielle d'un bus Mediator avec une
carte graphique Voodoo.<br><br>

<b>Sites de référence</b><br><br>

- Constructeur : <a href="http://www.elbox.com">www.elbox.com</a><br>
- Informations générales : <a href="http://www.amiga-mediator.co.uk">www.amiga-mediator.co.uk</a><br>
- Picasso96 : <a href="http://www.vgr.com/picasso">www.vgr.com</a> ou <a href="http://www.picasso96.cogito.de">www.picasso96.cogito.de</a>.<br><br>

<font size="+1" color="#ccbb33">Introduction</font><br><br>

La partie montage du bus et de la carte graphique s'étant bien passée, il
va falloir maintenant passer à l'installation logicielle. Le premier
démarrage de votre Amiga va devoir se passer sur une TV avec péritel
d'origine ou un moniteur compatible PAL (il est impossible de brancher la
sortie carte graphique vidéo sur une TV).<br><br>

Il sera nécessaire d'avoir un lecteur cédé installé sur votre Amiga car les
pilotes sont fournis uniquement sur cédé.<br><br>

Lors du premier démarrage sur votre moniteur PAL ou TV, vous pourrez
modifier, selon votre configuration, votre procédure de demarrage afin
qu'elle se rapproche de celle d'un AmigaOS 3.9 de base avant de commencer
l'installation des pilotes pour votre carte graphique.<br><br>

<font size="+1" color="#ccbb33">Après le premier démarrage sur TV ou moniteur PAL</font><br><br>

<b>- Anciens utilisateurs de l'AGA</b><br><br>

Vérifiez que rien dans la procédure de démarrage de votre Amiga ne vienne
interférer de manière importante avec la gestion graphique de votre Amiga
(blizkick, MCP, BlazeC2P ne posent pas de problème, mais FBLIT va
en poser - Résolution Voodoo avec écran gris).<br><br>

<b>- Anciens utilisateurs de cartes graphiques (CyberGraphX)</b><br><br>

Il vous faut obligatoirement tout supprimer en ce qui concerne les fichiers
ayant une relation avec CybergraphX. En effet, pour le Mediator, c'est P96
qui sera utilisé et ces deux types de gestion de cartes graphiques ne font pas
bon menage. Les conseils de la partie AGA sont aussi utiles, par sécurité.<br><br>

N'oubliez pas de supprimer votre pilote CybergraphX dans devs/monitor.<br><br>

<b>- Anciens utilisateurs de cartes graphiques (Picasso96)</b><br><br>

Ici, c'est plus simple. Supprimer le pilote P96 dans devs/monitors. Les
conseils de la partie AGA sont ici aussi utiles, par sécurité.<br><br>

<font size="+1" color="#ccbb33">Installation des fichiers</font><br><br>

<b>PICASSO96 :</b><br>
Installation de Picasso96 V2.0 (le gestionnaire de carte graphique). Ce
programme se situe sur le cédé AmigaOS 3.9 ainsi que sur son site d'origine.
Le mieux est d'avoir copié cette archive sur votre disque dur par avance.<br><br>

Décompactez l'archive en RAM:, lancez l'installation et choisissez le mode
"First Install". Ensuite, choisissez les endroits pour l'installation des
différentes parties de Picasso96.<br><br>

<b>Important :</b> Il vous faut, pendant l'installation, choisir le pilote
CVision3D, qui sera copié dans Sys:Devs/Monitor.<br><br>

<b>Mediator MMCD :</b><br>
Vous ouvrez l'icone du cédé Mediator MMCD, ouvrez le répertoire "Mediator
system file" puis sur "quick install".<br><br> 

Tous les fichiers de bases seront copiés sur votre disque dur (la
pci.library dans LIBS, voodoo.card dans Libs/Pocasso96, dans ENV: un
répertoire Mediator sera créé avec les configurations de la pci.library,
par exemple...).<br><br>

<font size="+1" color="#ccbb33">Installation du pilote graphique :</font><br><br>

L'installation à partir du cédé est terminée, vous pouvez donc l'enlever.<br><br>

- Ouvrez la partition de démarrage de votre disque dur, puis "devs", puis
"monitor" et renommer le fichier CVision3D en VooDoo.<br><br>

- Faite un Icone/Information sur cet icône et renommer BoardType=Cvision3D
en BoardType=Voodoo.<br><br>

- Ne touchez pas les autres tooltypes de cet icône pour l'instant.<br><br>

<font size="+1" color="#ccbb33">Installation d'une résolution graphique</font><br><br>

L'installation, expliquée ci-après, est realisée avec un écran PAL seulement,
puis avec un écran multisyncrone. Lorsque les deux écrans sont connectés en
même temps, c'est plus facile.<br><br>

1. Selon le choix fait lors de l'installation de Picasso96, le programme
Picasso96mode a été installé (en principe dans Sys:Prefs). Ouvrez ce
répertoire et lancer le programme Picasso96Mode.<br><br>

2. Après l'apparition du programme, la première chose à faire est
d'utiliser le bouton droit de la souris pour voir les menus déroulant de ce
programme en Anglais.<br><br>

Un menu s'appelle "attach settings to" avec board0:Voodoo en dessous.<br><br>

2.1 Si board0:Voodoo n'est pas présent, il vous faut modifier le jumper
CONFIG de la carte Mediator (votre carte Blizzard060 est une récente en non
pas une ancienne, par exemple).<br><br>

2.2 Redémarrez puis relancez Picasso96mode. Recommencez les points 1. et 2.<br><br>

3. Ensuite, utilisez l'icône en forme de boite avec une flèche au dessus
(le premier en haut à gauche) et placez le new-item vers la fenêtre
"settings".<br><br>

4. Utilisez le bouton droit pour lui attacher votre carte graphique
board0:Voodoo.<br><br>

5. Renommez "new-item" en, par exemple "Voodoo-3".<br><br>

6. Ensuite, utilisez l'icône en forme de boite avec une flèche au dessus
(le premier en haut à gauche) et placez le new-item vers la fenêtre
"resolutions" (une resolution de 640x480 est créée par défaut).<br><br>

7. Ensuite, utilisez l'icône en forme de boite avec une flèche au dessus
(le premier en haut à gauche) et placez le new-item vers la fenêtre "modes"
(un mode de 256 couleurs est créé par défaut).<br><br>

9. Faites cela 4 fois et utilisez le gadget depth afin d'avoir les 4
résolutions 640x480 minimales nécessaires.<br><br>

10. Il ne vous reste plus qu'à sauvegarder vos premiers réglages. Vous avez
créé un mode graphique par défaut pour votre carte graphique.<br><br>

11. La sauvegarde va provoquer le redémarrage de votre Amiga. Laissez le
donc sauvegarder les réglages de Picasso96 en 640x480 puis laissez-le
redémarrer. Votre Workbench en PAL apparaitra à nouveau.<br><br>

12. Ouvrez ensuite votre partition de démarrage, puis prefs, puis
screenmode et choisissez le mode que vous avez créé avec Picasso96 (ici,
par exemple, 640x480 en 16 bits PC, pour écran multisyncrone).<br><br>

13. Sauvegardez la résolution avec Screenmode puis redémarrez, après
sauvegarde complète, avec ctrl+A+A ou le reset de votre façade.<br><br>

14. Utilisez les deux boutons de votre souris, par exemple, pour stopper le
redémarrage de votre Amiga et éteignez-le. Cette fois-ci, si le démarrage
complet s'effectue, le pilote VooDoo dans devs/monitor sera initialisé mais
comme votre Amiga est toujours relié sur un écran PAL...<br><br>

15.  Déplacez le vers votre écran multisynchrone, rebrancher l'Amiga
complètement et rallumez-le.<br><br>

16. L'Amiga redémarre. Si tout a bien été effectué, le moniteur Voodoo est
détecté lors du démarrage et l'écran 640x480 16 bits PC s'ouvre, car
il a été sauvegardé par screenmode des Prefs du Workbench au point 12.<br><br>

<b>Note (écran PAL et multisynchrone) :</b><br><br>

A partir de 13, lors du redémarrage, éteignez seulement l'écran PAL. Après
redémarrage, vous arrivez au niveau 16.<br><br>

Maintenant, il ne vous reste plus qu'à connecter votre Amiga sur votre
moniteur Multisyncro afin de bénéficier de votre nouveau mode graphique.
Les autres modes seront créés à partir de votre première résolution en
relancant P96mode et en créant de nouvelles résolutions comme expliqué de
6 à 9.<br><br>

Lorsque toutes les résolutions seront créés, vous utiliserez Screenmode
pour tester et choisir la résolution qui vous convient le mieux.<br><br>

<font size="+1" color="#ccbb33">Les résolutions graphiques</font><br><br>

Il est formellement conseillé de bien connaitre auparavant les limites
maximales de votre moniteur multisyncrone. Lisez donc bien la documentation
de votre manuel.<br><br>

Sachez aussi qu'à partir de 75 Hz de balayage vertical, une image est
stable visuellement et qu'il n'est pas obligatoire d'aller trop loin au
delà non plus.<br><br>

<font size="+1" color="#ccbb33">Résolutions conseillées :</font><br><br>

A faire en 256 couleurs (8 bits), hicolor (16 bits), true color (24 bits) et true color + alpha (32 bits).<br><br>

256x256 : pour Mame, jeux en 256x256 par exemple<br>
320x200 : pour Doom, Heretic, etc.<br>
320x240 : idem<br>
320x256 : idem<br>
320x400 <br>
640x256<br>
640x480<br>
800x600<br>
1024x768<br>
1120x832 : moins nécessaire.<br>
1152x900 : moins nécessaire.<br>
1280x1024<br>
1600x1200 : dépent de la taille du moniteur, déconseillé.<br>
1920x1200 : déconseillé.<br><br>

<b>Notes :</b><br><br>

1. Il est nécessaire de cocher DOUBLESCAN et de ne pas cocher INTERLACE
pour toutes les résolutions verticalement inférieures à 400.
Au dessus, ne cocher ni DOUBLESCAN, ni INTERLACE.<br><br>

2. L'archive MMULib de THOR, sur Aminet, est compatible avec le Mediator et
ses programmes. Vous pouvez donc utiliser ses librairies 68xxx, MMU,
disassembly avec votre Amiga. Les seuls programmes de cette archive posant
problèmes sont MUforce et MUguardianAngel (sauf s'ils sont demarrés au tout
début de votre startup-sequence).<br><br>

Un autre moyen, pour les utiliser, est de régler, dans env/mediator la
commande MMU=OFF temporairement, pour tester un programme posant problème,
par exemple. Elbox aurait du régler ce problème avec l'auteur des MMULibs
mais ne l'a pas fait.<br><br>

3. N'utilisez pas des écrans ouverts dans des résolutions possèdant des
modes endian différents en même temps. Vous pouvez utiliser simultanement
des écrans avec ces modes écrans en même temps :<br><br>

- Tous les modes little endian : 8 bits, 15 bits PC (Voodoo4/5), 16 bits PC, 24 bits, 32 bits BGRA.<br>
- Modes big endian : 15 bits (Voodoo4/5), 16 bits.<br>
- Modes big endian : 32 bits ARGB.<br><br>

Tout programme qui utilise un écran inactif, lorsque son écran actif est
ouvert dans un autre mode endian pourra causer des problèmes côté
graphique.<br><br>

4. Les modes little-endian sont les modes principaux des cartes type PCI
conçues pour PC.<br>
Pour une complète compatibilité avec les autres pilotes (TV tuner, cartes
sons, cartes 100 MB NIC, cartes ISDN, ...) Elbox recommande de toujours
utiliser les modes little-endian.<br><br>

5. Les modes 16 bits big-endian sont là uniquement pour une compatibilité
avec certains jeux, programmes pour supporter aussi les modes big-endian.
Les modes big-endian ne supportent pas l'overlay.<br><br>

6. Ne pas overclocker la mémoire de votre Voodoo !!<br><br>

Le pilote Voodoo.card règle la vitesse d'horloge de la mémoire de votre
carte Voodoo selon la BootROM sur la carte. Comme les cartes Voodoo se font
rares et que le gain obtenu est faible, il est inutile de réduire la durée
de vie de votre carte graphique.<br><br>

<font size="+1" color="#ccbb33">Emulation Mac</font><br><br>

<b>Shapeshifter</b><br>
Shapeshifter (3.11) fonctionne en mode 8 bits ou 32 bits avec un pilote
normal P96 ce qui sont les modes directs pour le 24 bits cote Mac.<br><br>

Tous les modes 15/16 bits seront plus lents car ce ne sont pas des modes
directs mais des modes recalculés.<br><br>

<b>Fusion</b><br>
Version 3.1 et 3.2 fonctionnent en mode recalculé avec un pilote P96 sauf
en mode direct mais uniquement pour le mode 8 bits.<br><br>

La mise à jour AmigaOS BoingBag2 cause un problème avec Fusion mais pas la carte
Voodoo. Remplacez le nouvel Exec.library par l'ancien de l'OS 3.5/3.9,
utilisez Mediator en mode MMU=OFF et Fusion fonctionnera à nouveau.<br><br><br>

<b>Remarques :</b><br><br>

Soit une TV, soit un moniteur :<br><br>

- Il ne faut pas redémarrer votre Amiga sur votre TV car, au mieux, vous n'aurez pas
d'image, et vous pourriez, au pire, endommager immédiatement votre TV.
Le moniteur Voodoo se met en marche lors du démarrage de votre
Amiga. Le seul moyen est de démarrer sans startup-sequence sur votre TV en
cas de nécessité.<br><br>

- La même chose est valable si vous redémarrez votre Amiga en PAL sur votre
carte graphique, il ne se passera rien de dangereux de ce côté là car en
cas de mauvaise installation de Picasso96 et/ou des programmes du Mediator
Multimedia CD, un signal PAL est envoye vers la sortie Peritel, qui n'est
pas connectée en cas d'utilisation d'un seul moniteur.<br><br>

Une TV et une carte graphique :<br><br>

- Le moniteur est prioritaire, donc l'explication du chapitre précédent est
valable. L'avantage d'avoir une TV ou un moniteur connecté est de pouvoir,
après le démarrage de votre Amiga en mode carte graphique, de pouvoir
utiliser un programme PAL uniquement (jeux en mode WHDLOAD par exemple).<br><br><br>


J'espère que cet article vous sera utile, axé plutôt sur le côté pratique,
avec des conseils. Pour les différentes cartes PCI possibles, voir
l'<a href="ob37-mediator3.html">article</a> dedié à ce sujet.<br><br>

<i>Article réalisé avec l'aide de Pascal Hardyn.</i><br>


<br><br>

<div align="center"><a href="#top">Retour en haut</a> | <a href="ob37-mediator.html">Retour au dossier Mediator</a> | <a href="sommaire.html">Retour au sommaire</a></div><br><br> 


    </td>
    </tr>
   </table>
  </td>
 </tr>
</table>


</body>
</html>
