<html>
 <head>
  <title>Dossier : le MP3 sur Amiga</title>
  <meta name="author" CONTENT="David Brunet obligement@free.fr">
 </head>

<body bgcolor="#000000" text="#cccccc" link="#cccc33" vlink="#aaaa22" alink="#cccccc" marginheight="0" marginwidth="0" topmargin="5" leftmargin="0">

<a name="top">

<map name="ObMap">
  <area shape="rect" coords="5,1,756,80" href="http://obligement.free.fr">
  <area shape="rect" coords="11,87,74,104" href="../index.html" alt="Intro">
  <area shape="rect" coords="88,87,184,104" href="edito.html" alt="Editorial">
  <area shape="rect" coords="200,87,302,105" href="apropos.html" alt="A Propos">
  <area shape="rect" coords="316,87,432,104" href="sommaire.html" alt="Sommaire">
  <area shape="rect" coords="442,87,512,104" href="quizz.html" alt="Quizz">
  <area shape="rect" coords="526,87,630,105" href="musiques.html" alt="Musiques">
  <area shape="rect" coords="648,87,746,104" href="archives.html" alt="Archives">
</map>

<table align="center" width="760" height="100%" background="../gfx/fondsommaire.jpg" bgcolor="#113333" cellspacing="0" cellpadding="0">
 <tr>
  <td align="center">
   <img src="../gfx/oblogo.jpg" ismap usemap="#ObMap" border="0" height="108" width="760" alt="Obligement">

   <br><br><br>
   <table align="center" width="75%">
    <tr>
     <td>

<div align="center"><font size="+3">Dossier : le MP3 sur Amiga </font>par&nbsp;<a href="mailto:djwik@online.fr">Christophe&nbsp;Wieczoreck</a></div><br><br><br>


Présent depuis un moment sur Internet, le MP3 est un des formats de fichiers audio le plus utilisé aujourd'hui
pour diffuser de la musique. Du fait de son faible poids (environ 1 Mo la minute) et de sa bonne qualité, on 
utilisera le MP3 aussi bien sur Internet que sur un baladeur ou même un lecteur de salon, et bien sûr, sur 
notre Amiga. Attention toutefois à respecter les droits d'auteur, vous pouvez faire de la compression MP3 
du moment que vous possédez l'original, et diffuser du MP3 sur Internet à condition que ce soit vos propres
compositions.<br><br>

<font size="+1" color="#ccbb33">Un bref historique</font><br><br>

C'est au cours des années 1980 que la norme MPEG-1 Layer 3 "MP3" est née, grâce aux recherches sur la compression 
de fichiers musicaux effectuées par une équipe de scientifiques dirigée par Karlheinz Brandenburg au 
Fraunhofer Institute for Integrated Circuits. Au début des années 1990, Thomson vient soutenir le travail 
de Karlheinz Brandenburg et participe à l'amélioration du codage MP3 qui n'est encore qu'un format 
professionnel mais c'est au milieu des années 1990 que des pirates mettent à disposition gratuitement un 
logiciel d'encodage sur Internet, rapidement des milliers de fichiers MP3 envahissent le web, les logiciels 
se multiplient, de nouveaux baladeurs apparaissent, la revolution MP3 est en marche.<br><br>

<font size="+1" color="#ccbb33">Une peu d'explication</font><br><br>

Le format de fichier MP3 "MPEG Audio layer 3" permet une compression par suppression de données audio, c'est à
dire que l'on va retirer du fichier audio original, les fréquences inaudibles par l'oreille humaine.
Le fichier MP3 ainsi obtenu gardera donc une bonne qualité puisque seul auront disparu les sons que nous 
n'entendons pas. Nous allons ainsi arriver à reduire la taille de nos fichiers audio à plus d'un dixieme 
de leur poids d'origine et donc nous faciliter leur stockage (dix albums sur un CDR, plusieurs centaines 
sur un disque dur et peut être même plus) ou leur transfert (baladeur, Internet, etc.).<br><br>

Plusieurs techniques sont mise en oeuvre pour effectuer cette compression.<br><br>

<b>Le masquage :</b> lorsque deux sons de fréquences proches sont joués exactement en même temps avec une 
intensité différente, l'oreille humaine ne perçoit que le son le plus fort, et de plus, si cette fréquence 
arrive au dela de 25 KHz, elle ne percevra plus rien du tout ; la compression va donc masquer ces fréquences
et ainsi supprimer des données.<br><br>

<b>Le Joint Stereo :</b> les fréquences basses ont du mal à être localisées par l'oreille humaine, ce qui 
n'est pas le cas de fréquences hautes. Il est donc inutile de coder la stéréo sur les fréquences basses, ce 
qui va de nouveau supprimer des données.<br><br>

<b>L'algorithme de Huffman :</b> une fois le son encodé, l'algorithme va rechercher tous les passages 
identique du sample, ces passages seront remplacés par un code de quelques bits faisant références à une 
petites partie de sample. De plusieurs passages identiques ne restera qu'un petit bout de sample et quelques
codes.<br><br>

Toutes ces techniques associées ensemble vont permettre de réduire la taille de nos fichiers audio et ceci 
pratiquement sans perte de qualité.<br><br>

Voyons maintenant les différents logiciels disponibles, afin de nous permettre l'écoute bien sûr, mais aussi 
la compression et la décompression de fichiers MP3.<br><br>

<font size="+1" color="#ccbb33">Les lecteurs</font><br><br>

La pluparts des lecteurs sont basés sur la mpega.library de Stéphane Tavenard qui permet de décompresser les 
fichiers audio mpeg 1,2 layers I, II & III en sample audio. Plusieurs versions sont disponibles (68K et PPC)
mais il nous faudra tout de même au minimum un 68030 avec FPU pour commencer à faire du MP3, le PowerPC étant
fortement recommandé. Certaines cartes son offrent la possibilité de décompression hardware, dans ce cas là 
vous orienterez les données audio de votre lecteur vers le device de la carte (delfmpeg.device par exemple 
pour la Delfina). Pour l'installation de la mpega.library, c'est très simple, prenez la version qui 
correspond à votre processeur, renommez-la en "mpega.library" et copiez la librairie dans SYS:Libs/ et le
tour est joué. Inutile de vous dire que vous trouverez l'archive sur Aminet, vous trouverez aussi mpega_libmad.lha
qui est une mise à jour plus récente faite par d'autres auteurs et qui fonctionne parfaitement (NdC: pas ici&nbsp;!).<br><br>

Venons en maintenant aux lecteurs à proprement parlé :<br><br>

<b>AmigaAmp :</b> actuellement en version 2.9, AmigaAmp possède une interface bien connu du monde MP3.
Il utilise la mpega.library bien sûr mais possède aussi des moteurs de décompression interne "power-up" et 
"warp-up", ainsi qu'une redirection vers un device de carte son. Son statut est freeware alors n'hésitez 
pas à faire un petit coucou à son auteur Thomas Wenzel pour le remercier. Des skins et des plug-ins sont 
disponibles sur le <a href="http://www.amigaamp.de">site de l'auteur</a> ainsi que sur Aminet.
Pour l'installation, rien de plus simple encore une fois, vous décompressez l'archive dans le répertoire 
de votre choix et c'est ok&nbsp;;-)<br><br>

<b>Amplifier :</b> disponible avec l'AmigaOS 3.9, Amplifier est également disponible sur Aminet ou sur le 
site de <a href="http://www.katodev.de/english/amplifier.html">Kato Dev</a>. Il reprend le même look 
qu'AmigaAmp avec ses propres skins et ses plug-ins. La configuration permet la redirection vers un 
device de carte son. Son statut est shareware si vous n'avez pas l'OS 3.9.<br><br>

<div align="center">
<img src="../gfx/amigaamp.jpg" border="0" width="275" height="116" alt="AmigaAMP"><br><br><i>AmigaAMP, comme AMPlifier, utilise une interface skinnable.</i><br><br><br>
</div>

<b>SongPlayer :</b> c'est un joueur de fichiers sonores de formats variés (iff, aiff, wave, au, mpeg, cdda),
dont l'auteur n'est autre que Stéphane Tavenard, et oui, encore lui&nbsp;;-) Malheureusement pour nous, ce lecteur
n'est plus développé aujourd'hui, sa dernière version 1.53 est en date du 17 février 1999, mais il n'en reste
pas moins très performant et permet la lecture de cédé audio via la sortie audio de l'Amiga et non celle 
du lecteur de cédérom. Mais revenons au MP3, Songplayer utilise bien sûr la mpega.library avec ses réglages de 
qualité afin de pouvoir écouter les MP3 même sur les processeurs les moins rapide. Songplayer est en 
téléchargement sur Aminet. Pour le look, ça se passe avec les préferences de MUI, des images de boutons 
sont également disponibles dans l'archive.<br><br>

Voilà pour les trois principaux lecteurs de MP3, sachant que tous les logiciels qui utilisent la mpega.library devraient
pouvoir lire les MP3 (notamment MakeCD) et que des lecteurs plus généralistes comme Frogger ou AMP2 sont aussi
compatibles avec le MP3.<br><br>

<font size="+1" color="#ccbb33">Voyons maintenant la compression</font><br><br>

Compresser ses propres cédés audio ou bien sa dernière composition est une chose trés facile à faire, plusieurs 
outils sont disponibles et heureusement, une GUI les regroupe pratiquement tous&nbsp;: <b>TheMpegEncGUI</b>.<br><br>

<div align="center">
<img src="../gfx/thempegencgui.jpg" border="0" width="337" height="257" alt="TheMpegEncGui"><br><br><i>TheMpegEncGui&nbsp;:&nbsp;tout en un&nbsp;!</i><br><br><br>
</div>

En effet, TheMpegEncGUI rassemble les principaux moteurs de compression MP3 en une seule et même interface avec 
pour chacun un ensemble de paramètres pour configurer le fichier final.
Ces moteurs sont&nbsp;:&nbsp;MusicIn, Pegase (MP2), Ncode, MP3Enc, BladeEnc et Lame.
Nous allons nous attarder sur Lame car c'est un des moteurs le plus complet et surtout le plus récent, en 
version 68k et PowerPC (WarpOS). Avant de continuer, téléchargez <a href="http://www.kolumbus.fi/jami.laakkonen/ppc/">
Lame</a> et <a href="http://www.algonet.se/~deniil/">TheMpegEncGUI</a>, on doit pouvoir trouver ça aussi sur 
Aminet bien sûr avec l'ensemble des autres moteurs.
Les dernières versions en date sont la 3.93.1 du 16 janvier 2003 pour Lame et la 2.23 du 23 janvier 2003 pour 
TheMpegEncGUI, comme vous pouvez le constater, c'est du tout chaud ;-)<br>
Pour l'installation des moteurs rien de plus simple, vous copiez l'exécutable dans le repertoire C: du Workbench et 
voilà, pour TheMpegEncGUI ce n'est guère plus compliqué, une fois l'archive décompressée, vous copiez le 
répertoire là où vous voulez et c'est fini.
Pensez à écrire à l'auteur Daniel Westerberg, il vous enverra une clef d'enregistrement et comme c'est du
freeware, cela ne coûte rien.<br><br>

Nous allons maintenant ouvrir le répertoire de TheMpegEncGUI et nous pouvons observer qu'il se présente en trois 
versions, une version standard (avec tous les moteurs de compression), une version Lame réservé à l'utilisation 
de cet outil de compression et une version Lite qui regroupe Lame et MPEGA.
Voyons la version "Lame"&nbsp;: toutes les options pour ce moteur sont egalement disponibles dans les autres versions,
ce n'est juste qu'une simplification de l'interface pour un moteur.
Avant de commencer toutes choses, un petit clic sur le bouton "Prefs" pour ouvrir la fenêtre de préférences et 
vérifier le bon chemin d'accés vers l'exécutable "Path&nbsp;: C:Lame". Pour la pile, chez moi c'est 120000 et ça marche 
bien, à vous de faire des tests. Une fois cette petite manip OK, un clic sur "Save" pour sauver notre config et 
ensuite sur "Close" pour fermer la fenêtre de préférences.
Nous voilà de retour sur la page des options de Lame, Nous n'allons voir uniquement les fonctions principales du 
premier onglet, comme vous pouvez voir avec les quatre onglets, cela fait pas mal de possibilités de configuration.
Les points les plus importants&nbsp;:&nbsp;<br>
Dans un premier temps le <b>bitrate</b>, cela va déterminer le flux de données lors de la lecture, plus il est important, 
meilleure est la qualité, un juste milieu avec 128 kbps sera parfait pour notre compression.<br>
Voyons maintenant le <b>mode</b>, inutile de vous dire de mettre en "s stereo".<br>
Ensuite la <b>fréquence</b>, mieux vaut garder "44100" pour rester le plus fidèle à l'original.<br>
Voilà le minimum pour commencer notre encodage, je ne vous parle pas de toutes les autres options, à vous de faire 
vos essais pour trouver ce qui vous semble le mieux. Il nous reste plus qu'à choisir le fichier origine, en haut 
de la fenêtre, le fichier MP3 sera créé dans le même répertoire mais vous pouvez changer le chemin dans "outputfile".
Vous pouvez aussi encoder plusieurs fichiers à la suite, dans ce cas là, un clic sur le bouton "Use list", ajoutez
vos fichiers d'origine dans la fenêtre "File list window", un clic pour fermer cette fenêtre (inutile de faire "Save")
et c'est OK. Nous pouvons lancer la compression par un clic sur "Encode", et pendant ce temps, la fenêtre
"Encodeur - Output" donnera des informations sur l'état de l'encodage et nous préviendra lorsque ce sera fini.<br><br>

Voilà pour la compression avec Lame, vous pouvez essayer les autres encodeurs pour vous faire votre avis, c'est
à vous de voir.<br><br>

<font size="+1" color="#ccbb33">La décompression</font><br><br>

Décompresser ses MP3s pour refaire une compilation audio est une chose tout aussi facile, je vais vous parler du 
logiciel de gravure <b>MakeCD</b> qui permet de faire cela sans difficultés.<br>
MakeCD, comme l'ensemble des lecteurs, utilise une fois de plus la mpega.library pour décompresser, ce qui peut 
faire de lui aussi un lecteur de MP3. Lancez MakeCD, cliquez sur "Ajouter", dans la fenêtre options pistes, 
choisissez "Fichier image" en type de source et utilisez la flèche pour aller chercher votre MP3. Il est aussi 
possible de passer par le menu&nbsp;:&nbsp;Editer/Ajouter Fichier(s) image(s) pour en sélectionner plusieurs.
De retour sur la fenêtre principale, il ne vous reste plus qu'à faire "Jouer" pour entendre la musique ;-). Le 
bouton "Jouer Audio" vous permet de lire la liste des MP3 que vous avez ajouter comme fichiers images.
N'oubliez pas de configurer la sortie audio de MakeCD dans les préférences (Paula ou AHI).
Passons maintenant à la gravure de votre compilation, il ne vous reste plus qu'à lancer la création des 
fichiers images pour votre futur cédé audio, en effet la gravure en directe n'est possible que sur une 
configuration trés musclée.<br><br>

Voyons maintenant la décompression en fichier audio de type Wave avec TheMpegEncGUI.
Nous allons utiliser <b>MPEGA</b> (sur Aminet, MPEGA.lha) que vous devrez copier dans le répertoire C: de votre 
Workbench, attention il existe plusieurs versions dans l'archive suivant votre processeur, renommez le 
fichier en "MPEGA" avant la copie. 
Cette fois-ci, nous allons créer un fichier audio et non pas lire le MP3 (quoi que).
La version Lite nous propose deux onglets, un pour Lame et l'encodage, l'autre pour Mpega, celui qui nous 
intéresse maintenant. Une fois dans l'onglet Mpega, nous avons à nouveau deux possibilités ("Play" ou "Display")
et oui, TheMpegEncGUI peut nous servir de lecteur MP3 dans l'onglet "Play". Bon, le look n'est pas terrible 
mais ça marche quand même. Orientons nous plutôt sur l'onglet display, ici nous allons pouvoir décompresser 
notre MP3 en fichier audio. Un petit tour dans les "Prefs" afin de sélectionner MPEGA comme système, et de 
retour dans l'onglet "Display" nous pouvons choisir le fichier MP3 à décompresser et le répertoire de sortie ;
n'oubliez pas de cocher (-o write outputfile) et de choisir le format final (Aiff ou Wave).<br>
C'est parti, la décompression commence, vous pouvez bien sûr utiliser une liste, le principe est le même que pour 
la compression.<br><br>

Voilà voilà, je n'ai pas parlé des vitesses de compression/décompression car c'est en fonction de votre processeur
bien sûr. Je vous souhaite une bonne écoute et si vous avez des questions n'hésitez pas à me contacter à cette
<a href="mailto:djwik@online.fr">adresse</a> et visiter mon <a href="http://djwik.online.fr">site</a>.<br><br><br>



<div align="center"><a href="#top">Retour en haut</a> | <a href="sommaire.html">Retour au sommaire</a></div><br><br> 


     </td>
    </tr>
   </table>
  </td>
 </tr>
</table>


</body>
</html>
