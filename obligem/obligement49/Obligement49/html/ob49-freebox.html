<html>
 <head>
  <title>La Freebox sur Amiga</title>
  <meta name="author" CONTENT="David Brunet obligement@free.fr">
 </head>

<body bgcolor="#000000" text="#cccccc" link="#cccc33" vlink="#aaaa22" alink="#cccccc" marginheight="0" marginwidth="0" topmargin="5" leftmargin="0">

<a name="top">
</a>

<map name="ObMap">
  <area shape="rect" coords="0,0,760,82" href="http://obligement.free.fr" alt="Obligement">
  <area shape="rect" coords="8,87,62,104" href="../index.html" alt="Intro">
  <area shape="rect" coords="80,87,168,104" href="edito.html" alt="Editorial">
  <area shape="rect" coords="186,87,278,104" href="apropos.html" alt="A Propos">
  <area shape="rect" coords="296,87,399,104" href="sommaire.html" alt="Sommaire">
  <area shape="rect" coords="414,87,473,104" href="quizz.html" alt="Quizz">
  <area shape="rect" coords="491,87,589,104" href="musiques.html" alt="Musiques">
  <area shape="rect" coords="607,87,648,104" href="pub.html" alt="Pub">
  <area shape="rect" coords="666,87,756,104" href="archives.html" alt="Archives">
</map>

<table summary="" align="center" valign="top" width="760" height="100%" background="../gfx/fondsommaire.jpg" bgcolor="#112233" cellspacing="0" cellpadding="0">
 <tr valign="top">
  <td align="center">
   <img src="../gfx/oblogo.jpg" ismap usemap="#ObMap" border="0" height="108" width="760" alt="Obligement">

   <br><br><br>
   <table summary="" align="center" width="75%">
    <tr>
     <td>

<div align="center"><font size="+3">En pratique&nbsp;: la Freebox sur Amiga </font>par&nbsp;<a href="mailto:vloubry@free.fr">Vincent Loubry</a></div><br><br><br>

<div align="center">
<img src="../gfx/freebox-0.jpg" width="143" height="100" alt="Freebox" border="0"><br><br>
</div>

Début janvier 2005, un petit mail de <a href="http://free.fr" target="_blank">Free</a> m'annonce que je vais bientôt être 
l'heureux "propriétaire" d'une Freebox. Après un court moment d'euphorie, un 
doute horrible m'envahit&nbsp;: est-ce que la Freebox va fonctionner avec ma machine ?<br><br>

<font size="+1" color="#ccbb33">La Freebox, mais qu'est ce que c'est&nbsp;?</font><br><br>

Pour les deux ou trois au fond qui dorment près du chauffage, un petit rappel 
de ce qu'est la Freebox s'impose&nbsp;: la Freebox est un équipement à connecter sur 
votre ligne téléphonique qui permet d'avoir Internet à très haut débit
(jusqu'à 20 Mb/sec selon la distance qui vous sépare du DSLAM), de
téléphoner gratuitement vers les numéros fixes et autres Freebox, et enfin de
recevoir la télévision, toujours via la prise téléphonique.<br><br>

Techniquement, concernant la partie Internet, la Freebox est, dixit la notice 
de Free, un relais DHCP. Cela signifie qu'elle transmet telles quelles (au 
niveau IP) les requêtes DHCP émises par votre micro-ordinateur. Ces requêtes 
sont traitées par les équipements de Free, les réponses à ces requêtes sont 
restituées telles quelles par votre Freebox à votre micro-ordinateur.
En d'autres termes, la Freebox se comporte uniquement comme un pont Ethernet
("Bridge") et elle n'a pas d'existence pour votre micro-ordinateur au niveau IP.
Votre micro-ordinateur se voit affecter directement une adresse IP sur le 
réseau de Free, même si la Freebox est interconnectée entre celui-ci et les 
équipements de Free.<br><br>

DHCP, le terme est lâché et je commence à avoir vraiment peur. Pourquoi&nbsp;? Tout
simplement parce que Genesis ne gère pas ce protocole. Seul Miami/MiamiDX le
permet. Ne possédant pas MiamiDX de manière enregistrée, je cherche un moyen de
contourner le problème et de pouvoir continuer à utiliser Genesis, et je trouve
la solution sur IRC&nbsp;: il est possible de "transformer" la Freebox en routeur
et par la suite d'y connecter plusieurs machines en intercalant un switch entre la
Freebox et les machines. Nous sommes donc sauvés, quelle que soit la pile utilisée,
nous allons pouvoir bénéficier du très haut débit sur nos Amiga. Il ne reste
plus qu'à configurer le tout.<br><br>


<font size="+1" color="#ccbb33">Equipement nécessaire</font><br><br>

Il vous faut&nbsp;:<br>

<ul>
<li>Amiga ou compatible.
<li>Une carte réseau, car il n'y a pas de pilote pour gérer la Freebox via l'USB.
<li>Une pile TCP/IP (Genesis, MiamiDX ou Roadshow).
<li>Un câble réseau de type RJ45 droit.
</ul>

La machine de test est un Pegasos 2 / G4 avec le port ethernet 10/100 intégré à
la carte mère. Elle se trouve à 2592 m du commutateur local et l'atténuation est 
de 38,45 db. Selon la distance qui vous sépare du DSLAM, les performances peuvent
grandement varier.<br><br>

<font size="+1" color="#ccbb33">Configurations</font><br><br>

Avant toute chose, et tant que vous en avez la possibilité, pensez à
récupérer MiamiDX en version démo sur Aminet. Ça vous dépannera le temps de
passer la Freebox en routeur si vous êtes utilisateur de Genesis.<br><br>

<b>Configuration de MiamiDX&nbsp;:</b><br><br>

Ouvrez MiamiDX et rendez vous sur l'onglet "Hardware". Là, créez une nouvelle
connexion et donnez lui le nom que vous voulez (au hasard&nbsp;: "Freebox").<br><br>

<div align="center">
<img src="../gfx/freebox-miami1.png" width="354" height="316" alt="Freebox - Configuration de Miami" border="0"><br><br>
</div>

Sélectionnez le type "Sana-II driver" et votre carte réseau dans le champ "Driver".<br><br>

<div align="center">
<img src="../gfx/freebox-miami2.png" width="357" height="206" alt="Freebox - Configuration de Miami" border="0"><br><br>
</div>

Rendez-vous ensuite sur l'onglet "Interfaces", et cliquez sur "New",
dans la fenêtre qui s'ouvre, choisissez Ethernet.<br><br>

<div align="center">
<img src="../gfx/freebox-miami3.png" width="216" height="186" alt="Freebox - Configuration de Miami" border="0"><br><br>
</div>

Dans la fenêtre suivante, sélectionnez le nom que vous avez donné à votre nouvelle 
connexion.<br><br>

<div align="center">
<img src="../gfx/freebox-miami4.png" width="166" height="198" alt="Freebox - Configuration de Miami" border="0"><br><br>
</div>

Et vous voilà enfin à la fenêtre de configuration proprement dite.<br><br>

<div align="center">
<img src="../gfx/freebox-miami5.png" width="461" height="275" alt="Freebox - Configuration de Miami" border="0"><br><br>
</div>

Passez l'IP, le Netmask et le Gateway en DHCP. Un peu plus bas, cliquez sur
"TCP/IP setting", et dans la rubrique "DHCP", cochez la case "Enable".<br><br>

<div align="center">
<img src="../gfx/freebox-miami6.png" width="277" height="250" alt="Freebox - Configuration de Miami" border="0"><br><br>
</div>

Sauvez le tout et cliquez sur Online. Voilà, c'est fait, vous voici sur internet avec la Freebox et MiamiDX.<br><br>

<b>Configuration de Genesis&nbsp;:</b><br><br>

Comme nous l'avons dit plus haut, Genesis ne gère pas le DHCP, et nous allons 
devoir passer la Freebox en mode routeur. Pour ce faire, ce n'est pas la peine 
de bidouiller la Freebox (désolé pour les maniaques du fer à souder), mais
rendez vous plutôt à cette adresse&nbsp;: <a href="http://adsl.free.fr/admin/routeur.html" target="_blank">adsl.free.fr/admin/routeur.html</a>,
et cliquez sur "Cliquez ici" qui se trouve au bas de la page.<br><br>

Si tout se passe bien, vous devriez vous trouver face à <a href="../gfx/freebox-routeur1.jpg" target="_blank">cela</a>.
Sélectionnez l'activation du service comme sur l'image et cliquez sur
"Envoyer". Maintenant vous voilà face à <a href="../gfx/freebox-routeur2.jpg" target="_blank">ceci</a>.
Comme demandé, relancez votre Freebox. Attention, si vous ne savez pas ce que vous faites, ne
touchez à rien d'autre&nbsp;!<br><br>

Maintenant, vous pouvez passer à la configuration de Genesis.
Ouvrez les préférences de Genesis, et allez sur "Interfaces". Créez une nouvelle
connexion du nom que vous souhaitez, puis comme sur la capture d'écran suivante,
sélectionnez une IP statique avec une adresse de la forme 192.168.0.x où "x" aura
une valeur comprise entre 51 et 253, les cinquante premiers numéros étant
réservés aux machines du réseau exploitant le protocol DHCP et 254 étant réservé à
la Freebox.<br><br>

<div align="center">
<img src="../gfx/freebox-genesis1.png" width="283" height="238" alt="Freebox - Configuration de Genesis" border="0"><br><br>
</div>

Le Gateway doit être lui aussi "statique" et avoir l'adresse de la Freebox (192.168.0.254).
Quant au netmask, il prendra une valeur de réseau de classe C,
c'est-à-dire 255.255.255.0. Cliquez ensuite sur l'onglet "Sana-II", et comme avec
MiamiDX, choisissez votre carte réseau. Puis pour terminer la configuration,
rendez vous sur l'onglet "Resolv" et dans le "Domain Name Servers" ajoutez les
adresses suivantes&nbsp;: 212.27.32.176 et 212.27.32.177. Ces adresses sont celles
des serveurs de Free.<br><br>

<div align="center">
<img src="../gfx/freebox-genesis2.png" width="283" height="244" alt="Freebox - Configuration de Genesis" border="0"><br><br>
</div>

Il ne vous reste plus qu'à sauvegarder le tout et à passer online. Voilà pour 
Genesis. Ce n'était pas si compliqué que ça&nbsp;;-).<br><br>  


<font size="+1" color="#ccbb33">Des perfs, des perfs&nbsp;!</font><br><br>

Une fois n'est pas coutume, au niveau de la vitesse de téléchargement MiamiDX 
bat à plate couture Genesis. Avec MiamiDX, j'obtiens une vitesse oscillant
entre 550 et 610 ko/sec alors que Genesis se "traîne" à 300 ko/sec.
Genesis étant censé être plus rapide que MiamiDX, ce résultat est vraiment très 
étonnant, mais je n'ai trouvé aucune raison pouvant expliquer une telle 
différence de vitesse. Néanmoins, cela ne se ressent pas lors du chargement des 
pages web, et 300 ko/sec reste une vitesse très honorable malgré tout.
En transfert de fichiers vers mon FTP de chez Free, MiamiDX m'offre une vitesse
d'environ 106 ko/sec contre un peu moins de 80 ko/sec pour Genesis (la Freebox
est alors en routeur, et MiamiDX toujours en DHCP).<br><br>


<font size="+1" color="#ccbb33">La Freebox, combien ça coûte ? A-t-elle des possibilités d'extension ?</font><br><br>

L'abonnement à FreeADSL, qui inclutaussi le service de téléphonie et de télévision, coûte la
modique somme de 29.99 Euros par mois. Ce tarif est fixe. Et si je me permets de préciser ce point, 
c'est que d'autres fournisseurs d'accès augmentent leur tarif de 5 Euros au bout de 12 mois
d'abonnement. La Freebox, qui reste la propriété insaisissable de Free vous est fournie gracieusement
sous réserve de disponibilité. Encore une fois, d'autres fournisseurs d'accès vous facturent la location, ou
vous vendent le modem. Par contre, la résiliation des services de Free n'est pas gratuite. Il vous
faudra compter 96 Euros de frais de résiliation moins 3 Euros par mois d'inscription. Si vous restez
donc plus de 32 mois chez free, alors vous n'aurez pas de frais de résiliation.<br><br>

Côté connecteurs, la Freebox impressionne. En retournant la bête, vous trouverez, outre la fiche
d'alimentation et la prise xDSL ;-), une sortie SPDIF, une péritel, un connecteur SATA, une prise USB
pour la connexion vers un PC sous Windows, une prise ethernet bien sûr, et enfin une prise RJ11 sur
laquelle vous brancherez votre téléphone. Sur le côté gauche, vous apercevrez une fente
ressemblant un peu à celle que l'on peut trouver à gauche des A1200 et des A600.
Et pour cause, c'est un connecteur PCMCIA. Grâce à ce dernier, vous pourrez ajouter
la fonction Wifi à votre Freebox grâce à une carte disponible pour 27 Euros sur le site de Free.<br><br>


<font size="+1" color="#ccbb33">Conclusion</font><br><br>

Cela fait déjà trois semaines que je profite des bienfaits de la Freebox
quotidiennement, et comme le dit l'expression, ce n'est que du bonheur&nbsp;:D.
L'affichage des pages web est fulgurant, même avec nos navigateurs. Quant au
téléchargement, et bien il est courant maintenant d'être limité en vitesse par 
le serveur sur lequel se trouve le fichier, ce qui me permet rarement
d'atteindre la vitesse maximale. Ne plus pouvoir s'enregistrer à MiamiDX est
vraiment dommage, puisque les personnes (comme moi) ne le possédant pas
verront leurs performances bridées par Genesis (qui, je le rappelle, est
disponible sur Aminet et pleinement fonctionnel sur Pegasos avec la clef de 
l'AmigaOS 3.9), ou devront faire avec les limitations de la version de démonstration 
de MiamiDX.<br><br>

<font size="+1" color="#ccbb33">Annexe</font><br><br>

Bien qu'étant résolument orienté AmigaOS et MorphOS, Obligement n'oublie pas que beaucoup de
machines de la nouvelle génération (AmigaOne, Pegasos) sont multi-OS.
Aussi, voici rapidement les méthodes de configuration pour Linux Debian et MacOnLinux.<br><br>

<b>Configuration sous Linux (Debian 2.6.8)</b><br><br>

Si vous étiez derrière un modem routeur avec une IP fixe avant de recevoir la Freebox, vous pouvez
rencontrer des difficultés pour vous connectez à Internet. Pour palier à ces petits problèmes, ouvrez 
une console et éditez le fichier de configuration réseau avec la commande suivante (n'oubliez pas de 
passer en super-utilisateur) :<br><br>

nano /etc/networks/interfaces<br><br>

Si vous utilisez le connecteur 10/100 de votre Pegasos, il aura pour nom "eth1" (ou "eth2", cela dépend
des noyaux et des distributions), l'autre interface étant
"eth0". Rendez-vous donc dans la section concernant votre connexion. Là, aprés "iface eth inet", effacez
tout et ajoutez "DHCP". Si vous préférez ne pas utiliser le DHCP, modifiez les adresses en prenant
celles indiqués dans la configuration de Genesis. Sauvegardez (F3 puis Entrée) et sortez de nano (F2).
Pour relancer le réseau, tapez :<br><br>

/etc/init.d/networking restart<br><br>

<b>MacOnLinux (MacOS X 10.3).</b><br><br>

MacOnLinux s'appuyant sur une base Linux, veuillez consulter la section précédente pour configurer la partie 
Linux. Concernant MOL, en super-utilisateur, tapez :<br><br>

nano /etc/mol/molrc.net<br><br>

Et dans la section "Tun driver", ajoutez la ligne netdev :<br><br>

tun0 -tun<br><br>

Si vous utilisiez le pilote Sheep, pensez à l'enlever dans la section "sheep driver".
Sauvegardez et lancez MacOS. Dans les préférences réseau, créez une nouvelle connexion que
vous nommerez Freebox par exemple, choisissez l'adaptateur où la carte réseau est branchée
(MacOS vous le dit), puis dans la fenêtre qui apparaît, choisissez la configuration manuelle
et entrez les coordonnées suivantes : IP = 192.168.40.2, sousréseau = 255.255.255.0, routeur =
192.168.40.1, et enfin les DNS de Free (212.27.32.176 et 212.27.32.177).<br><br><br>




<div align="center"><a href="#top">Retour en haut</a> | <a href="sommaire.html">Retour au sommaire</a></div><br><br> 

     </td>
    </tr>
   </table>
  </td>
 </tr>
</table>


</body>
</html>

