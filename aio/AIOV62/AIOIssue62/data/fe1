{backimage bg.iff}
{center}
{subhead}A SINE/SQUARE Wave Generator For The Beginner{def}{p}
Article by Barry Walker
{left}
{pp}                    
{italic}Editor's Note: The following was taken from barry Walker's TestGear
archive on Aminet and is used with his permission.{noitalic}
{pp}
{pp}
{center}{bold}General Information:{nobold}
{pp}
{left}
This tool generates a sinusoidal or square waveform at the LEFT channel
audio socket of the computer. Its designed range is 25Hz to 2.5KHz and
is controlled from the keyboard.
{pp}
This software was written using ACE basic compiler.
{pp}
{pp}
{center}{bold}The Legal Stuff{nobold}
{pp}
{left}
This program is the copyright of (C)1999 Barry Walker with all
rights reserved.{p}
It is freeware and no profit will be made from it, also the files
must remain unaltered.{p}
The author is not responsible for any damage to, or loss of, or
failure of equipment or data caused in any way by the use of this
program.
{pp}
{pp}
{center}{bold}WARNING{nobold}
{pp}
{left}
1) DISCONNECT any faulty equipment under test from the MAINS supply.{p}
2) If a DC supply is used do NOT reverse polarity the connections.{p}
3) Do NOT power up any electronic item until it is safe to do so.{p}
4) CHECK and RECHECK all of your construction and repair work thoroughly.{p}
5) Handle ALL tools used with care.{p}
6) Beware of ALL types of solvents, glues and etching fluids.{p}
7) NEVER leave a soldering iron switched on unattended.{p}
8) KEEP everything OUT of the reach of small children.{p}
9) Switch OFF the AMIGA before connecting any hardware.{p}
10) And finally read 1) to 9) again.
{pp}
{pp}
{center}{bold}Minimum Operating Requirements{nobold}
{pp}
{left}
{fixed}
    1) Standard Amiga A500 with 512Kb or more of memory.
    2) Workbench 1.3x.
    3) An external floppy disk drive is required.
    4) OCS.
    5) The mouse is optional.
    6) The software has NOT been tested on an Amiga A1000.
    7) The software has NOT been tested on Workbench 1.2x or less.
    8) The software has NOT been tested on Workbench 3.1x or greater.
{def}
{pp}
{pp}
{center}{bold}Technical Specifications:{nobold}
{left}
{pp}
{fixed}
  Designed frequency range..............   25Hz to 2.5KHz.
  Usable range..........................   10Hz to 3KHz.
  Frequency accuracy....................   + or - 2%.
  Output voltage........................   1280mV Peak to Peak, - 20%.
  Output impedance......................   47 KilOhms.
  Output voltage range..................   0 to maximum level, 20mV steps.
  Sine wave distortion..................   5% or less.
  Square wave rise time.................   10 microseconds or better.
  Hum and Noise.........................   -30dB below fundamental signal.
{def}
{pp}
Note:{p}
These specifications apply to a standard A1200 ONLY at 1KHZ, and may NOT
be exactly the same for an A500, A500+, A600 etc, etc.
{pp}
{pp}
{center}{bold}The Software:{nobold}
{left}
{pp}
{pp}
{bold}Keyboard Controls:{nobold}{p}
The keyboard controls are shown in brackets, for example (q), (Q).
IF the letter is a capital, then press one of the ~SHIFT~ keys whilst
pressing the required letter.
{pp}
{fixed}
  (i) This will increase the frequency at the rate of 50Hz per stop.
  (I) This will increase the frequency at the rate of 1Hz per stop.
  (d) This will decrease the frequency at the rate of 50Hz per stop.
  (D) This will decrease the frequency at the rate of 1Hz per stop.
  (o) This will increase the output voltage.
  (O) This will decrease the output voltage.
  (s) This will switch the mode to SINE.
  (S) This will switch the mode to SQUARE.
  (q) or (Q) will exit the program.
{def}
{pp}
The mouse can be used to Quit or move to the background. This is not
needed for correct operation of the software and can be disconnected
if running the software from a CLI or SHELL window.
{pp}
{italic}The program is to be found under AIOIssue62/TestGear_data/Sin_Square_Gen{noitalic}
{pp}
{bold}Limitations Of The Computer:{nobold}{p}
The specifications of this generator are poor compared to a professional
piece of test gear, this is due to the AMIGA's hardware. However I have
worked around these limitations to a great extent to get the most out of
the audio hardware. The two main limitations to consider are ALIASING and
audio amplifier BANDWIDTH. Although it was possible to generate a low
level SINE wave to approximately 10KHz it was suffering badly with these
two constraints. The audio amplifier's BANDWIDTH is approximately 7KHz.
{pp}
ALIASING is the effect of sum and difference frequencies generated by the
hardware between the sampled waveform and sampling frequency. To reduce
this problem the sampled waveform must be sampled at more than twice the
frequency of the waveform itself plus 7KHz for the AMIGA's audio bandwidth.
{pp}
For Example:
{fixed}
  Sampled frequency = 1Khz.
  Sampling frequency = 7Khz.
  Sum of the two frequencies = 7+1 = 8KHz.
  Difference of the two frequencies = 7-1 = 6KHz.

The 8Khz frequency is outside of the audio amplifier's bandwidth and so
will not be passed through.

However the 6Khz frequency will pass through as it is inside the audio
amplifier's bandwidth.

So to eliminate both we must add 7KHz to the sampling frequency, which
means that the new sampling rate to produce a ~CLEAN~ waveform would be
7+7 = 14KHz. Now both the sum and the difference frequencies are out of
the audio bandwidth.
{def}
{pp}
BANDWIDTH is the highest frequency that can be passed by the amplifier.
Thus the effect of the filtering required to try to reduce the ALIASING
errors effectively reduces the output of the higher frequencies.
Once lost these high frequency components cannot be retreived.
{pp}
Because this program was written with both NTSC and PAL systems in mind
the frequency generated is a compromise between both. So therefore the
accuracy is not quite as good as it could be. However this should not be
a problem.
{pp}
{bold}Testing Evaluation:{nobold}{p}
This was tested on an A500 with various memory configurations,
the same A500 switched to 1MB Chip Ram and emulating WB2 using
the A500+ emulator, an A600 with various memory configurations,
the same A600 emulating WB3 with various memory configurations,
an A1200 with various memory configurations.
{pp}
{pp}
{center}{bold}The Test Lead Construction:{nobold}
{left}
{pp}
{pp}
{bold}Parts List:{nobold}
{pp}
1) A length of coaxial cable approximately 1.5 metres, RG58 or UR76.{p}
2) A PHONO or RCA plug.{p}
3) A countersunk head brass screw approximately 1.5" (37mm) long.{p}
4) A matching nut.{p}
5) An insulated crocodile clip.{p}
6) A length of sleeving, (the sleeving off of the coaxial cable will do).{p}
7) An old ballpoint pen case.
{pp}
{bold}Tools:{nobold}
{pp}
1) Soldering iron.{p}
2) Solder.{p}
3) Side cutters.{p}
4) Pliers.{p}
5) File.{p}
6) A hobby saw.{p}
7) PVC tape.{p}
8) Superglue, (be very careful with this).
{pp}
Strip at least 6" to 9" of sleeving off of one end of the coaxial cable.
Do NOT discard this sleeving. Seperate the braid from the inner conductor.
Solder one end of the capacitor to this inner conductor and the other end
to the head of the brass countersunk-head screw.
{pp}
For additional information consult the below diagram.
{pp}
{center}
{image Hardware.iff}
{pp}
{left}
Place the sleeving over the braiding before fitting the crocodile clip
and then wrap some PVC tape around the ~Y~ joint of the cable. Solder
the crocodile clip to the braiding. Dismantle an old ballpoint pen to
obtain the case. Discard all of the inner parts of the pen.
{pp}
Before reassembling the screw into the ballpoint pen case, cut the case
down to a practical length (approximately 3" to 4"). Fit the PHONO (RCA)
plug to the other end of the coaxial cable, inner conductor to the pin,
braid to the outer of the plug.
{pp}
When you have checked this cable and are confident it is electrically good
use the superglue to seal the top of the pen case and the nut. Do NOT get
this glue on you or anything else as it is dangerous. Allow time to dry.
{pp}
{pp}
{central}{bold}Starting The Audio Generator:{nobold}
{left}
{pp}
{pp}
{bold}WARNING:  DO NOT USE WITH VOLTAGES GREATER THAN 12 VOLTS D.C.{nobold}
{pp}
1) Ensure the AMIGA is switched OFF.{p}
2) Connect the cable to LEFT channel phono socket.{p}
3) Connect a blank PHONO/RCA plug to the RIGHT channel phono
socket.{p}
4) Switch on the AMIGA.{p}
5) Start the ~Sin_Square_Gen~ software from its icon.  {italic}(program
found under AIOIssue62/TestGear_data/Sin_Square_Gen){noitalic}{p}
6) Connect up to an audio circuit and start testing.{p}
7) When finished switch OFF the AMIGA and disconnect all of the hardware.
{pp}
{pp}
{center}{bold}Acknowledgements:{nobold}
{pp}
{left}
First of all many thanks to my wife Tricia who allows me to spend many hours
on my computers.
{pp}
Also to David Benn and Herbert Breuer for the ACE/AIDE combination supplied
on an AMIGA FORMAT floppy disk which made it easy to compile this program.
{pp}
And finally to anyone else who I may have neglected or forgotten.
{pp}
{pp}
{fixed}
    Mr Barry Walker,
    70 King George Road,
    Loughborough,
    Leicestershire,
    LE11 2PA,
    England.

    Email to:  wisecracker@tesco.net
{def}
{pp}
BYE.....
{pp}

