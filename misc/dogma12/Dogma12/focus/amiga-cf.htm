<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- created on MacBook(White) 2.26GHz Core2Duo/5Gb/GForce 9400M 256mb/Super/AirPort/MacOSX 10.8 -->
<head>
<meta http-equiv="content-type" content="text/html; charset=windows-1251">
<meta http-equiv="content-language" content="ru">
<meta name="keywords" content="amiga, poweramiga, амига, dogma, догма, magazine, e-zine, журнал, электронный журнал, amif1team, amifone, vinnny, russia, ukraine, amigaone, pegasos, amigaos, morphos, motorola, powerpc, g3, g4, a1200, a4000, cd32, workbench, opus, dopus, back to the future, back for the future">
<meta name="description" content="Догма - русскоязычное периодическое интернет издание посвящённое компьютерной платформе Amiga/Pegasos. Until the End of Time!">
<meta name="author" content="amifone/team Dogma">
<meta name="copyright" content="Copyright © 2002-2012 team Dogma">
<link rel="icon" href="../gfx/main/icon.png" type="image/png">
<link rel="shortcut icon" href="../gfx/main/favicon.ico" type="image/x-icon">
<link rel="stylesheet" type="text/css" href="../style.css">
<title>Догма - электронное Амижное издание</title>
</head>
<body bgcolor="white" link="SlateGrey" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" background="../gfx/main/back.png">

<script language="JavaScript" src="../up.js" charset="UTF-8"></script>

<!-- ---------------------------------- Start ---------------------------------- -->

<div class="shadowtext">A m i g a &nbsp; 1 2 0 0 &nbsp; и &nbsp; C o m p a c t &nbsp; F l a s h</div><br>

<font color="#868686" size="-1">

<p align="center"><img src="../gfx/focus/amiga-cf/amiga-cf_01.jpg" width=640 height=239 border=0></p>

<p align="justify">Вы хотели сделать свою Амигу на комплектующих без движущихся частей? Эта статья описывает использование карты CompactFlash вместо жёсткого диска через адаптер IDE-2-CF. Также в статье рассматриваются общие проблемы, с которыми могут столкнуться амижники, используя CompactFlash.</p>

<p align="center"><font color="black" size="3"><b><i>Compact Flash карта (CF)<br><br>

<font size="2">Что такое CF карта?</font></i></b></font></p>

<p align="justify"><img src="../gfx/focus/amiga-cf/amiga-cf_02.jpg" width=120 height=115 border=0 align=left> Compact Flash карта (CF) это карта флеш-камяти, на которой сохраняются данные даже при выключенном питании. CF карты используют IDE-протокол передачи данных, что вобщем-то нам и нужно, избавляя от каких-либо конвертеров.<br><br>

Есть два типа карт: Type I (3.3мм толщиной, сокращённо CF) и Type II (5мм толщиной, сокращённо CF2). В основном в наших магазинах продаются CF-карты Type I, поэтому всё нижесказанное будет относиться по большей части к ним.</p><br>

<p align="center"><font color="black" size="2"><b><i>Лимит записи на CF.</i></b></font></p>

<p align="justify">У CF-карт, как и у любых других карт флеш-памяти, есть ограничение на количество циклов записи/стирания. Слишком старые карты в расчёт не берём, а новые, такие как SanDisk Ultra II и Extreme III, имеют срок службы около 10000 циклов записи. Для сравнения, на жёстких дисках обеспечивается до 4 миллионов циклов записи.<br><br>
Нам неизвестно что происходит, когда ресурс циклов записи заканчивается. Возможно, запись прекращает работать. Мы не в курсе. Но если ваши программы очень часто что-то записывают на жёсткий диск, то советуем либо переместить все операции на RAM-диск, либо пользоваться для них жёстким диском.</p>
<font color="black"><b>К примеру это могут быть:</b></font><br>
1. Графические редакторы, использующие диск для редактирования изображений.<br>
2. Web-браузеры с включенным кешем.<br>
3. Утилиты тестирования дисков (тесты на запись).<br>
4. Виртуальная память.</p>

<p>Радует, что ограничений на чтение у флеш-карт нет, поэтому если в вашей повседневной работе Амига записывает немного информации на диск, то карта памяти может прослужить более 30 лет.</p>

<p align="center"><font color="black" size="2"><b><i>Разнообразие карт.</i></b></font></p>

<p align="justify"><img src="../gfx/focus/amiga-cf/amiga-cf_03.jpg" width=140 height=104 border=0 align=right hspace="7"> Сейчас существует множество CF-карт. Во время написания этой статьи было опробовано несколько производителей: Kingston, Sandisk, Kodak, DaneElec. Конкретно были протестированы две штуки 16MB Kodak, 512MB SanDisk Ultra II, 1GB Extreme III, 4GB SanDisk Ultra II, 1GB Kingston Elite Pro, 256MB DaneElec. Карта памяти 1GB Kingston так и не заработала нормально. На A1200 она вообще не работала, а на A4000 работала очень нестабильно. 128MB DaneElect выдавала ошибку 'не могу отформатировать дорожку 0', а IDE-индикатор постоянно моргал.<br><br>
Карта 16MB Kodak (которая по сути является SanDisk) работала на A1200, но на A4000 иногда сбоило (через SCSI-IDE контроллер WarpEngine040).<br><br>
Наилучший результат показали карты Sandisks Ultra II и Extreme III.</p>

<p align="center"><font color="black" size="2"><b><i>Нюансы при подготовке работы с картой.</i></b></font></p>

<p align="justify"><a href="../gfx/focus/amiga-cf/amiga-cf_04.png" target="_blank"><img class="top" src="../gfx/focus/amiga-cf/amiga-cf_04.png" width=240 height=142 border=0 align=right hspace="7"></a>Были опробованы несколько компьютеров с CF-картами, и в некоторых случаях система с ошибками видела карту. Самым распространённым случаем можно назвать то, что утилита HDToolbox отображала недостоверную информацию (неверный размер карты, отсутствие производителя, неверное число цилиндров, и так далее). В принципе это случается на старых IDE-контроллерах в A500, или при использовании SCSI-2-IDE моста.<br><br>
Можно конечно попробовать указать количество цилиндров и головок, блоков на цилиндр, но это не обязательно. После определения карты можно перейти к разметке разделов. Далее при разметке обращайте внимание на размер карты, он должен быть правильным.<br><br>
Разметив, сохраните настройки и перезагрузитесь (естественно с какого-нибудь другого загрузочного устройства). Настал черёд форматирования размеченных разделов. Мы рекомендуем использовать FFS.</p>

<p align="center"><font color="black" size="2"><b><i>Амига с CF в PCMCIA не будет загружается.</i></b></font></p>

<p align="justify">Некоторые могут подумать о загрузки с CF-карты, вставленной в PCMCIA-слот в A600/A1200. К сожалению это невозможно, так как кикстарт не рассматривает IDE-устройства в PCMCIA в качестве загрузочного. PCMCIA-устройства могут использоваться только для передачи данных после того, как операционная система загрузит соответствующий драйвер.</p>

<p align="center"><font color="black" size="3"><b><i>От теории к практике.</i></b></font></p>
 
<p>Итак, начнём с установки CF-карты внутрь A1200.</p>

<p align="center"><font color="black" size="2"><b><i>1. Приготовления.</i></b></font></p>

<font color="black" size="2"><b>Для этого понадобится:</b></font><br><br>

<table width=100% border=1>

<tr><td width=116><img class="top" src="../gfx/focus/amiga-cf/amiga-cf_05.jpg" width=116 height=100 border=0></td><td align="justify"><font color="#868686" size="2">Собственно говоря, сама Compact Flash карта. Но ёмкостью не больше 4GB, если только вы не уверены, что IDE-контроллер понимает устройства бОльшего объёма.  Рекомендуем карты серии SanDisk Ultra II/Extreme III series или лучше.</font></td></tr>

<tr><td><img class="top" src="../gfx/focus/amiga-cf/amiga-cf_06.jpg" width=116 height=87 border=0></td><td align="justify"><font color="#868686" size="2">Amiga с IDE-контроллером, или SCSI-2-IDE мостом. В нашем случае это будет обычная A1200.</font></td></tr>

<tr><td><img class="top" src="../gfx/focus/amiga-cf/amiga-cf_07.jpg" width=116 height=87 border=0></td><td align="justify"><font color="#868686" size="2">IDE-2-CF – адаптер 'IDE to Compact Flash' (для эксперимента используем 2.5" размер).</font></td></tr>

<tr><td><img class="top" src="../gfx/focus/amiga-cf/amiga-cf_08.jpg" width=116 height=86 border=0></td><td><font color="#868686" size="2">Двухсторонний скотч, чтобы зафиксировать всю конструкцию.</font></td></tr></table></p>

<p align="center"><font color="black" size="2"><b><i>2. Открываем.</i></b></font></p>

<p>Открываем корпус A1200. Для удобства можно снять металлический защитный кожух.</p>

<p align="center"><font color="black" size="2"><b><i>3. Установка.</i></b></font></p>

<p align="justify">В этом примере используется 2.5" адаптер Compact Flash, который напрямую подсоединяется к A1200-контроллеру без использования дополнительных конвертеров/адаптеров.</p>

<center><img src="../gfx/focus/amiga-cf/amiga-cf_09.jpg" width=640 height=231 border=0></center>

<p align="justify">Вставляем IDE-2-CF-адаптер в IDE-разъём на A1200 (разумеется через IDE-кабель шириной 2.5" и длиной около 3см). Затем вставляем CF-карту в адаптер. Если вы затем эту карту планируете вставить в другой компьютер, то корпус Амиги можно не закрывать.</p>

<p align="center"><font color="black" size="2"><b><i>4. Подготовка, разметка, форматирование.</i></b></font></p>

<p align="justify">Итак, карта установлена, и можно попробовать увидеть её в системе с помощью утилиты HDToolbox. Чтобы определить устройство, возможно сначала потребуется нажать 'Install Drive'. Если проблема не исчезла, попробуйте вручную идентифицировать устройство (точность данных не очень важна).<br><br>
Теперь можно разбить диск на разделы, задать файловую систему, приоритет загрузки, и так далее. Сохраняем настройки и перезагружаемся. Иконка диска 'Unknown' не всегда появляется на рабочем столе, поэтому форматируем получившиеся диски с помощью утилиты Format.</p>

<p align="justify"><font color="black"><b>Примечание:</b></font><br>
Убедитесь, что вы сделали разделы не очень большого размера. По умолчанию файловая система FFS без патчей поддерживает диски размером до 4GB, и разделы не более 2GB каждый.</p>

<p align="center"><font color="black" size="2"><b><i>5. Завершение...</i></b></font></p>

<center><img src="../gfx/focus/amiga-cf/amiga-cf_10.jpg" width=640 height=309 border=0></center>

<p align="justify">Вот собственно и всё. Устанавливаем операционную систему, заканчиваем все манипуляции, после которых уже не потребуется снова открывать корпус компьютера. Можно закрепить IDE2CF адаптер на двухсторонний скотч к металлическому корпусу. Закрываем крышку Амиги, закручиваем винты.</p>

<p align="center"><font color="black" size="2"><b><i>Ещё фотографии.</i></b></font></p>

<table width=100% border=0 align=center><tr><td width=320 align=center>
<img src="../gfx/focus/amiga-cf/amiga-cf_11.jpg" border=0><br><font color="#868686" size="2">2.5" IDE-2-CF адаптер, лицевая сторона.</font></td>
<td width=320 align=center><img src="../gfx/focus/amiga-cf/amiga-cf_12.jpg" border=0><br><font color="#868686" size="2">2.5" IDE-2-CF адаптер, обратная сторона.</font></td></tr>
<tr><td colspan=2></td></tr>
<tr><td align=center><img src="../gfx/focus/amiga-cf/amiga-cf_13.jpg" border=0><br><font color="#868686" size="2">Фиксация двухстороннего скотча.</font></td>
<td align=center><img src="../gfx/focus/amiga-cf/amiga-cf_14.jpg" border=0><br><font color="#868686" size="2">A1200 с вставленной CF-картой.</font></td></tr>
<tr><td colspan=2></td></tr>
<tr><td align=center><img src="../gfx/focus/amiga-cf/amiga-cf_15.jpg" border=0><br><font color="#868686" size="2">(from AmigaKit)</font></td>
<td align=center><img src="../gfx/focus/amiga-cf/amiga-cf_16.jpg" border=0><br><font color="#868686" size="2">(from AmigaKit)</font></td></tr>
<tr><td colspan=2></td></tr>
<tr><td align=center><img src="../gfx/focus/amiga-cf/amiga-cf_17.jpg" border=0><br><font color="#868686" size="2">4MB фаст-памяти, часы, сопроцессор.</font></td>
<td align=center><img src="../gfx/focus/amiga-cf/amiga-cf_18.jpg" border=0><br><font color="#868686" size="2">Собранный вариант.</font></td></tr>
<tr><td colspan=2></td></tr>
<tr><td align=center><img src="../gfx/focus/amiga-cf/amiga-cf_19.jpg" border=0><br><font color="#868686" size="2">SCSI-2-IDE мост.</font><br></td>
<td align=center><img src="../gfx/focus/amiga-cf/amiga-cf_20.jpg" border=0><br><font color="#868686" size="2">CF с наилучшими показателями!<br>Только для быстрых IDE-контроллеров.</font></td></tr></table>

</p>

<div align="right"><font color="black"><b>Автор статьи:</b></font> P. Koster ( <a href="http://amigascene.nl/" target="_blank">AmigaScene.nl</a> )</div>

</font>
<!-- ---------------------------------- End ---------------------------------- -->

<script language="JavaScript" src="../down.js" charset="UTF-8"></script>

</body>
</html>