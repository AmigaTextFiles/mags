<HTML>
<HEAD>
<TITLE>
Догма - электронное Амижное издание
</TITLE>
<meta http-equiv="content-type" content="text/html; charset=windows-1251">
<BODY TEXT="white" bgcolor="black">
</HEAD>
<script language="JavaScript" src="../topalt.js"></script>
<script language="JavaScript" src="../leftalt.js"></script>

<table BACKGROUND="../GFX/fon.jpg" align="center" width="90%" border="0" cellspacing="0" cellpadding="0" bgcolor="black">
<tr>
<td colspan="3"><font color="white">
<CENTER><BR><font size="+1" color="yellow"><b>Directory Opus 5 Magellan II (часть 1)</b></font><BR>
<font size="-1" color="white">Автор -=\<font size="-1" color="yellow">Gray</font>/=-</font><HR></CENTER>
Итак, позвольте на этом закончить с теорией, и перейти к практике.
Как обычно, все начинается с инсталляции. Здесь особых проблем возникнуть не должно.
Но хочу обратить ваше внимание на следующие моменты: во-первых, на вопрос "устанавливать
поддержку AREXX?" настоятельно рекомендую дать положительный ответ. Во-вторых, решите для
себя - как должна быть реализована функция работы ArcDir. В третьих - как ваш Опус должен
запускаться - вместо WB, вместе с WB или вручную. Так же во время установки вам предложат выбрать 
элементы рабочего стола, которые будут присутствовать на нём после запуска. Можете отменить
установку обеих вертикалей. Вещь напрочь бесполезная. 
По завершению инсталляции вам предложат прочитать ReadMe файл на буржуйском языке, который, 
впрочем, не отличается содержательностью, после чего нужно перезапустить систему.
Если вы выбрали один из вариантов автозапуска, то вам потребуется ввести регистрационный 
код продукта, хотя старт возможен и без него. Запустив Опус, и убедившись, что он работает,
начинаем настройку интерфейса. Первое, что я бы порекомендовал - установить русские локалы.
Их можно взять по адресу: <a href="http://amigaroy.narod.ru/down_1.html/Dopus.lha"><font color="green">http://amigaroy.narod.ru/down_1.html/Dopus.lha</font></a>.
Использовать эти локалы имеет смысл по двум причинам. Первая - это единственные из известных мне локалов с
нормальным переводом, второе - они сделаны в кодировке win1251, что, согласитесь, немаловажно.
Спасибо, ROY. Хорошее дело сделал. Если в вашей AmigaOS ранее стояли русские локалы, и основным
языком был выбран русский, то Опус сам переключится на использование русского языка. После 
перезапуска. Теперь мы готовы к творчеству. Вкратце пробежимся по пунктам меню Опуса, и рассмотрим их
назначения. Начнём с самого первого - меню "Опус". Эта альтернатива содержит в себе следующие
компоненты:<BR><BR>
-Задний план    - Имеет статус вкл/выкл. Во включенном состоянии Опус использует для работы весь экран. В выключенном работает в окне.<BR>
-Исполнить команду - Выполняет команду из консоли.<BR>
-О программе - Информация о программе.<BR>
-Помощь      - Она и в Африке помощь.<BR>
-Поиск клавиши - Ищет горячие клавиши и определяет их функции. Реальная полезность  этого пункта туманна...<BR>
-Спрятать - Сворачивает Опус методом, указанным в настройках окружения.<BR>
-Выход - Без комментариев.
<BR><BR>
Следующее меню называется "Окно". В целом, функции меню стандартные. Отличия лишь в добавленных элементах:<BR><BR>
-Редактировать         - Позволяет редактировать формат листинга.<BR>
-Редактировать банк кнопок - Редактирует инструментальную панель листера.<BR>
-Редактировать меню листера - Редактирует меню листера.<BR>
Далее подробно рассмотрим эти пункты меню, а сейчас - идем дальше.
<BR><BR>
Меню "Иконки" так же содержит стандартные элементы, описание которых мы опустим. Обратим же его мы на пункт
-Новая  - Создает новую иконку на рабочем столе, предварительно выбрав тип иконки - каталог, группа, запускаемая.
<BR><BR>
Альтернатива "Кнопки" - позволяет создавать кнопки, в широком смысле этого слова, и всячески ими рулить.<BR><BR>
-Новые - Создаём новые кнопки - текстовые, графические, стартовые... С этим меню нам предстоит поработать...<BR>
-Загрузить - Загружает кнопку или банк кнопок с диска.<BR>
-Загрузить Стартовое меню - Как следует из названия - загружает стартовую кнопку.<BR>
-Записать<BR>
-Записать как  - в пояснениях не нуждаются<BR>
-Закрыть - Закрывает кнопку или банк кнопок<BR>
-Редактировать - редактируем кнопку или банк кнопок.
<BR><BR>
Меню "Настройки" позволяет широко конфигурировать Опус. Более подробно мы рассмотрим функции этого меню, когда начнём
настраивать графический интерфейс Опуса. Пока же просто пробежимся по его содержимому.<BR><BR>
-Часы (вкл\выкл) - Отображать \не отображать часы на титуле экрана<BR>
-Создавать иконки (вкл\выкл) - Добавлять\не добавлять иконки к файлам во время их записи на диск или создании.<BR>
-Общий экран (вкл\выкл) - Использование общего экрана.<BR>
-Рекурсивный фильтр (вкл\выкл) - Использование рекурсивного фильтра.<BR>
-Окружение - Настройка окружения.<BR>
-Тип файлов - Настройка файл-типов и реакции системы на различные манипуляции пользователя с файлами.<BR>
-Пользовательское меню - Настройка меню пользователя.<BR>
-Горячие клавиши - Позволяет создавать комбинации "горячих клавиш", и настраивать реакцию системы на эти комбинации.<BR>
-Команды - Позволяет настраивать реакцию системы на различные события, происходящие в ней. Будь то открытие\закрытие листера, копирование файла, или щелчок мышью.<BR>
-Позиция иконок - Определяет позицию иконок на экране.<BR>
-Тема - Позволяет создавать\сохранять\загружать темы.<BR>
-Загрузить окружение - Загружает сохранённые параметры настройки.<BR>
-Сохранить окружение - Соответственно, сохраняет их.<BR>
-Сохранить план - Сохраняет вид рабочего стола, со всеми элементами, которые на нём находятся, включая кнопки и окна листеров.
<BR><BR>
И последнее - "Меню пользователя". Здесь что-либо описывать смысла не имеет, ибо то, что там есть - чушь, а то, что нам надо -
мы сами сделаем.
<BR><BR>
Ну, пожалуй, начнём.
Выбираем меню "Окружение" альтернативы "Настройки". Перед нами открывается диалоговое окно с параметрами настройки окружения.
<p align="center"><IMG SRC="../GFX/dopus1.gif" border=0 alt="" WIDTH="528" HEIGHT="270"></p>
Как я уже упоминал, Опус может заменять собой WB. Поэтому, нужно определиться - будет он это делать, или нет. Я бы 
советовал забыть про WB, как про страшный сон, ибо на фоне Опуса он смотрится во истину как убожество. Первым делом необходимо
выбрать видеорежим, в котором будет работать Опус. Выбор видеорежима осуществляется в разделе "Режим экрана" меню "Окружения"
альтернативы "Настройки". Выбор видеорежима осуществляется обычным способом, но есть одна тонкость - если вы укажете Опусу
конкретный видеорежим (любой) или параметр "Дубликат Workbench", то он будет работать на своем экране. Если же выберите 
параметр "Использовать Workbench", то Опус будет использовать экран WB, в то время, как сам WB ничего использовать не будет,
то есть Опус вытеснит WB с его экрана. Выставив видеорежим, мы переходим к разделу "верстак" - то есть рабочий стол.
Верхний циклогаджет в правой части окна принимает два значения -"Не показывать иконки устройств"
и "Не показывать только плохие диски". Выбираем первый вариант и отмечаем галками все устройства, доступные в окне под 
циклогаджетом. Тем самым мы убираем с рабочего стола все девайсы. Делать это конечно не обязательно, но предпочтительно.
Зачем засорять и без того не очень большой верстак ненужными иконками? Далее выбираем в нижней части окна функцию 
"Использовать". Выбирайте её всегда, если не уверены в правильности настроек. И только, если вы точно знаете, что делаете,
выбирайте "Записать". После того, как вы выбрали эту функцию, вам останется только закрыть имеющиеся на экране окна и 
инструментальные панели. После чего перед вами предстанет абсолютно чистый экран.
<p align="center"><IMG SRC="../GFX/dopus2.gif" border=0 alt="" WIDTH="688" HEIGHT="563"></p>
Закрепите это состояние выбрав в меню "Настройки" пункты "Сохранить план" и "Сохранить окружение". Теперь даже после
перезагрузки ваш Опус будет иметь такой вид. Важно помнить, что если во время выполнения операции сохранения плана 
на рабочем столе были открыты какие-нибудь окна или кнопки, то они будут загружены при следующем запуске Опуса.
Теперь настало время заняться задним планом. Для начала, нужно его включить. Далее указать какие настройки будут применяться
к нему. Эдесь два варианта - либо это будут настройки WB, либо собственные настройки Опуса. У обоих вариантов свои плюсы и 
минусы. Так, к примеру, настройки WB не позволяют задавать заливку или текстуру для диалогового окна (реквестера), а настройки
Опуса не позволяют использовать для заливки сплошной фон, а только текстуру. Хотя эти ограничения и можно обойти. Кроме того,
у настроек WB есть ещё одно преимущество - они доступны в виде отдельных файлов, и для их вызова не нужно лазить по меню 
настроек. Тут уж как говорится "И для души бальзам ты выбираешь сам...". После того, как с невероятным трудом мы определились
с настройками заднего плана, переходим к иконкам. Для тех, кто сидит на AmigaOS 3.5 или более серьезной, преимущества Опуса
покажутся не столь существенными. Для тех же, кто использует OS 3.1 - весьма приятными окажутся: возможность делать 
иконки без бордюра, разбивать длинные имена иконок и куча разных полезностей, доступных в разделе "Параметры иконок" 
настройки окружения. Поэкспериментировав и сохранив параметры настройки иконок, мы привели наш рабочий стол в более менее
божеский вид. Пора браться за листеры.  
Открываем альтернативу "Окно" и выбираем пункт "Редактировать". Здесь мы выбираем параметры листинга.
Глюк Опуса (а может и не глюк) заключается в том, что для того, чтобы открылся реквестер редактирования, нужно чтобы на 
экране присутствовал хотя бы один открытый листер, и был не списком устройств, а отображал содержимое любого диска. То есть
необходимо открыть листер (двойным щелчком мыши в свободном месте экрана) и выбрать любой из дисков.
В открывшемся реквестере вы можете указать метод сортировки файлов и каталогов, установить фильтр иконок (чтобы в листере 
не отображались файлы " ?#.info "), указать маску для отображаемых и скрываемых файлов, выбрать отображаемую информацию 
(атрибуты, владелец, дата создания, тип файла и так далее). Тем самым вы настроите листер на вывод нужной вам информации в
удобном для вас виде.
Далее начинаем настраивать инструментальную панель листера. Для этого из альтернативы "Окно" выбираем пункт "Редактировать
банк кнопок". Перед вами откроется реквестер редактора банка кнопок, кроме того, в отдельном окне откроется и сам банк
кнопок.
<p align="center"><IMG SRC="../GFX/dopus3.gif" border=0 alt="" WIDTH="688" HEIGHT="563"></p>
Чтобы начать работу, нужно в окне с кнопками щелкнуть по той кнопке, которую мы хотим редактировать. После этого
сама кнопка начнёт мерцать, а в редакторе кнопок откроются поля редактирования. Что можно изменить в банке кнопок? Можно
изменить количество кнопок в ряде, вид кнопок - быть им с рамкой, или без неё, и их расположение. Остальные параметры
настройки ДЛЯ ИНСТРУМЕНТАЛЬНОЙ ПАНЕЛИ ЛИСТЕРА не актуальны, поскольку листер не принимает настройки заливки фона, 
наличие/отсутствие полной окантовки, автозакрытия и автоиконификации.
Далее начинаем работать с каждой из кнопок индивидуально. Выделяем её и выбираем пункт "Редактировать" в реквестере 
редактора. В открывшемся окне мы можем определить условие срабатывания кнопки. Она может быть активирована тремя способами:
щелчком правой кнопки мыши, а так же левой или средней. Для каждого действия реакция настраивается индивидуально. Так же 
для каждого действия задаётся своё графическое изображение. Если этого не сделать, то графическое изображение будет всегда
одним. Чтобы лучше понять всё сказанное - произведём такую настройку:
В окне с кнопками выберем крайнюю левую, которая по умолчанию имеет функцию списка устройств. Изменим её слегка. 
Выбираем редактирование кнопки, затем присваиваем ей изображение, которое нам больше нравится, затем изменяем реакцию этой
кнопки на щелчок левой кнопкой мыши. Для этого выбираем в меню "Функции" пункт "Левая кнопка" и нажимаем 
"Редактирование функции".
<p align="center"><IMG SRC="../GFX/dopus4.gif" border=0 alt="" WIDTH="688" HEIGHT="563"></p>
После чего начинаем менять функцию этой кнопки. По умолчанию этой кнопке присвоена функция - "Команда Опуса - Device list".
Эта функция открывает в текущем окне полный список устройств, включающий в себя все реальные, имеющиеся в наличии диски и
разделы, а так же все логические имена (assign-ы). Допустим, что нам не нужен полный список, а лишь список реальных 
физических устройств. Для этого изменяем строку, описывающую функцию кнопки,  добавляя в неё параметр команды DeviceList - 
Brief. Нажимаем ввод, и клавишу "Использовать". Теперь, если вы сохраните банк кнопок, то при щелчке левой кнопкой мыши
по кнопке списка устройств, вы увидите в окне листера не полный список устройств, а состоящий только из реальных дисков
и разделов. Но иногда бывает нужно иметь и полный список устройств. Как быть? Очень просто! Присваиваем кнопке списка
устройств функцию - отображать полный список устройств при щелчке правой кнопкой мыши. Делаем это по ранее описанному
сценарию. Всё очень просто и удобно. К тому же, в запасе осталась функция щелчка средней кнопкой мыши. (Для счастливых
владельцев трехкнопочных мышей). 
<p align="center"><IMG SRC="../GFX/dopus5.gif" border=0 alt="" WIDTH="688" HEIGHT="563"></p>
Пытливые умы должны были заметить, что описывая функцию, выполняемую при нажатии на кнопку, мы можем не только выбирать
внутреннюю команду Опуса, но и команду AmigaDOS, WorkBench, AREXX и Script. Подробнее мы рассмотрим эти возможности чуть
позже. Сейчас же я хочу чуть более подробно остановиться на внутренних командах Опуса. Наличие их в системе позволяет
очень гибко настроить работу с листером, сделав её более удобной и эффективной. Из наиболее "нужных" команд можно выделить
такие, как вышеописанная команда DeviceList, команды root, parent, all, none, toggle, show, hexread... 
Вообще перечень команд весьма обширен, и что очень приятно, есть из чего выбрать. Это значительно облегчает навигацию в 
системе, и не только. Так, к примеру, наличие команд Parent (переход на один каталог вверх) и root (переход в корневой 
каталог диска), подвешенных к одной кнопке, и вызываемых левой и правой кнопками мыши, делает работу в Опусе очень
приятной. Полное описание команд Опуса будет приведено в конце статьи. Пробуйте, экспериментируйте, творите! 
<BR><BR>
Продолжение в следующем номере.
<BR><BR>
</font></td></tr>
</table>

<script language="JavaScript" src="../downalt.js"></script>
</BODY>
</HTML>
