@database "DKB4091"
@author Roberto Castellano
@(c) "Copyright © 1995 Roberto Castellano"

@INDEX "ApuNews_00.guide/sommario"

@NODE MAIN "DKB4091"
@TOC "ApuNews_00.guide/MAIN"
                                  DKB A4091
                                  ~~~~~~~~~
                                      di
                               Roberto Castellano


 Il  DKB 4091  è il  controller A4091  FAST SCSI-II  progettato a suo tempo
 dalla Commodore (1992) e poi ceduto in licenza alla DKB. Sorvolando  tutte
 le  discussioni sulla sua  travagliata storia, vediamo  un po' cosa si può
 dire di questo prodotto:

@{" Descrizione Tecnica " Link DescrTecnic} ..................... L'Hardware.
@{" Il Software " Link Software} ............................. Nel Dischetto.
@{" Prestazioni" Link Prestazioni} .............................. Un po' di Test.
@{" Due Test con il DiskSpeed" Link DiskSpeedTest} ................ Vediamo cosa dice il DiskSpeed.
@ENDNODE

@NODE DescrTecnic "Descrizione Tecnica"

 Si tratta di  un controller per  Hardisk FAST SCSI-II  dedicato ai modelli
 A3000/A4000  secondo  le  specifiche  del  Bus  ZORRO III. E' una scheda a
 lunghezza intera, dove la seconda metà presenta un supporto metallico  per
 l'alloggiamento di un HardDisk.
 Nella  confezione oltre al  controller sono presenti  una piattina SCSI da
 60cm,  un  cavetto  passante  per  la  spia  di attività dell'Harddisk, un
 cavetto  di  alimentazione,  un  terminatore  attivo,  un  dischetto  e il
 manuale.

 Attenzione,  si  badi  che  il  SuperBuster  rev.  11  non è assolutamente
 presente,  per cui se  necessario si dovrà  provvedere alla sostituzione a
 proprie spese.

 La scheda dispone  anche di un  connettore posteriore in  standard SCSI-2.
 Sotto  il  connettore  esterno  vi  sono  otto  dipswitch  di  regolazione
 accessibili dall'esterno. Di norma devono essere tutti disattivati(off).
 Il  controller  è  gestito  dal  chip  NCR53C710  a  50Mhz,  lo stesso del
 controller  integrato sulla Warp Engine e  della stessa famiglia di quello
 che dovrebbe  essere montato  sul DraCo(NCR53C720).  Sulla carta  dovrebbe
 essere uno dei chip più veloci presenti sul mercato.
 In  definitiva L'A4091  sembra essere  stata costruita  e progettata molto
 accuratamente, presentandosi con un'aspetto molto solido.
@ENDNODE

@NODE Software "Il Software in dotazione"

 Il  disco  fornito  in  dotazione  contiene  la  68040.library, HDtoolbox,
 Setpatch del WB 3.1 e relativo programma di installazione.
 Il  device dell'A4091 è  per default scsi.device,  ma in presenza di altri
 device con lo  stesso nome, tipo  il controller AT-Bus  di A4000 o  quello
 SCSI  di A3000 si rinomina automaticamente in 2nd.scsi.device. In presenza
 di  altre  schede  A4091   la  seconda  assume  automaticamente   il  nome
 3rd.scsi.device.
 Il software di installazione risulta essere di facile impiego.
@ENDNODE

@NODE Prestazioni "Prestazioni del DKB A4091"

 Il  DKB A4091 è stato  montato in un A4000  Tower Special Edition (cioè il
 kit Tower  è stato  autocostruito dal  sottoscritto sulla  base di un case
 Tower Thrust per PC-Compatibili) dotato di Cpu 68040 a 25MHz, 18Mb di RAM,
 Retina  Z3 4Mb e VlabMotion M-JPEG.  L'Harddisk collegato alla scheda è il
 "SOLO"  MICROPOLIS  3243AV  FAST-SCSI-II  da  4Gb,  sebbene  abbia  potuto
 collegare,  solo per un breve periodo,  anche il Seagate Barracuda da 4Gb.
 Tuttavia  al  4000  restava  comunque  collegato  al  controller AT-Bus l'
 Harddisk della Western Digital AC2540H da 540 Mb E-IDE.
 Partendo  dal confronto tra il Micropolis  SCSI-2 e il WesternDigital IDE,
 la  prima  impressione  di  comportamento  con  le  normali operazioni del
 Workbench   non  offrono  molte  emozioni.  Le  differenze  comunque  sono
 riscontrabili immediatamente con applicazioni particolari quali animazioni
 (lette direttamente  dall'Harddisk) o  programmi di  benchmark. Infatti le
 animazioni  in bassa risoluzione, basta provare  con Scala o Viewtek, sono
 visualizzate  sempre  con  una  fluidità  impeccabile,  contriamente  agli
 scampoli di assenza del disco IDE.

 In  ogni caso si badi bene  che il risultato della visualizzazione dipende
 sopratutto dall'animazione stessa,  poichè alcune possono  essere talmente
 complesse   che  l'amiga4000  non  riesce  a  mostrarle  a  25fps  nemmeno
 direttamente dalla memoria su schede grafiche potenti quali la Retina Z3.

 Tuttavia  è  stato  possibile  effettuare  un  volo a piena velocità in un
 canyon  con  "SceneryAnimator"  in  bassa  risoluzione full-overscan a 256
 colori. (L'animazione occupa   + di 25Mb in  formato Anim7/8 e oltre  46Mb
 per la Retina).

 Per  quanto  riguarda    i  programmi  di  Benchmark  ho  provato SysInfo,
 DiskSpeed e SCSISpeed.

 Procedendo per  ordine esaminiamo i  risultati forniti  da:
 @{" SysInfo " Link SysInfo} (pur essendo  non troppo affidabili) ;
 @{" Diskspeed " Link DiskSpeed} ;
 @{" SCSISpeed " Link SCSISpeed} ;

 Gli  stessi test  effettuati con  gli stessi  Hardisk su Warp Engine 68040
 40Mhz 32Mb:

 @{" SysInfo " Link SysInfoWE} (pur essendo  non troppo affidabili) ;
 @{" Diskspeed " Link DiskSpeedWE} ;

 Come  è  possibile  vedere  dalle  2  serie  di  test  effettuate  nelle 2
 configurazioni provate
 la WarpEngine risulta essere molto più veloce della A4091.
 Il  limite massimo  di trasferimento  della DKB  sembra essere  di circa 5
 Mb/s, dovuto quasi sicuramente ai  limiti di velocità di accesso  alle Ram
 da   parte  di  A4000,   dal  momento  che   in  combinazione  con  schede
 acceleratrici + Ram tale limite viene innalzato.
 Infatti il  Micropolys 3243AV  legge secondo  SysInfo   4,6 Mb/s invece di
 3,9Mb/s.

 ---Attenzione  da  prove  eseguite,  la  DKB  A4091  e la FAST-LANE Z3 non
 funzionano appropriatamente con la GVP GFORCE-040 per A3000/A4000.
 (Crash durante la registrazione)---

 Da segnalare che l'accoppiata VlabMotion-A4091 è sconsigliabile, in quanto
 durante i trasferimenti  sebbene il controller  operi in DMA  impedisce al
 computer di accedere continuativamente agli altri dispositivi presenti sul
 Bus.  Infatti, sebbene vengano impiegati degli hardisk ad alte prestazioni
 dedicati come i Micropolys AV, il risultato ottenibile in acquisizione  di
 un filmato è scarso e va bene solo ad uso didattico.
 in  tale configurazione è possibile ottenere  ottimi risultati solo per la
 riproduzione di brevi animazioni realizzate al computer.
 Inoltre possono verificarsi dei problemi con i trasferimenti seriali.

 Conclusioni
 Personalmente la scheda A4091 mi ha deluso.
 Le motivazioni sono dovute essenzialmente al prezzo che sembra oltre modo
 elevato e al problema evidenziato con la VlabMotion.
 A parte questo la scheda funziona molto  bene e durante i 4 mesi di  prova
 non ho riscontrato nessun altro problema.

 @{" Due Test con il DiskSpeed" Link DiskSpeedTest}
@ENDNODE

@NODE SysInfo " SysInfo "

                          --- SysInfo su DKB ---

 Micropolis 3243AV                    3,9Mb/s di picco (3,6-3,8) in media
 Western Digital AC2540               1,7Mb/s di picco (1,5-1,6)  "    "
 Barracuda ST15550N                   6,5Mb/s di picco
 forniva in maniera altalenante in ordine di frequenza (6,4-3,6-1,8) Mb/s

@ENDNODE

@NODE DiskSpeed " DiskSpeed "

                          --- DiskSpeed su DKB---

 con buffer da                         256k    Cpu disp   1Mb    Cpu disp
 Micropolis 3243AV                    2,9Mb/s     84%    3,9Mb/s    83%
 Western Digital AC2540               1,6Mb/s     13%    1,6Mb/s     7%
 Barracuda ST15550N                   4,4Mb/s      ?%    4,8Mb/s     ?%

@ENDNODE

@NODE SCSISpeed " SCSISpeed "

                           --- SCSISpeed su DKB ---

 con buffer da                         256k    Cpu disp   1Mb

 Micropolis 3243AV                    4,8Mb/s      88%   5,1Mb/s
 Western Digital AC2540               1,7Mb/s            1,7Mb/s
 Barracuda ST15550N                   5,0Mb/s            5,2Mb/s

@ENDNODE

@NODE SysInfoWE " SysInfo "

                          --- SysInfo su Warp Engine---

 Micropolis 3243AV                    6,5Mb/s di picco (6,4-6,5) in media
 Barracuda ST15550N                   7,2Mb/s di picco

@ENDNODE

@NODE DiskSpeedWE " DiskSpeed "

                          --- DiskSpeed su Warp Engine---

 con buffer da                         256k      Cpu disp
 Micropolis 3243AV                    3,9Mb/s      90%
 Barracuda ST15550N                   7,7Mb/s      70%

@ENDNODE

@NODE DiskSpeedTest " Due Report del DiskSpeed "

      Ecco di Seguito due report completi del DiskSpeed:

 MKSoft DiskSpeed 4.2  Copyright © 1989-92 MKSoft Development
 ------------------------------------------------------------
 CPU: 68040  AmigaOS Version: 39.106  Normal Video DMA
 Device:  vuoto:    Buffers: 30
 Comments: HardDisk Micropolis 3243AV+DKB A4091 A4000/040 25Mhz 18Mb

 CPU Speed Rating: 3095

 Testing directory manipulation speed.
 File Create:           62 files/sec  |  CPU Available: 52%
 File Open:             95 files/sec  |  CPU Available: 41%
 Directory Scan:       301 files/sec  |  CPU Available: 7%
 File Delete:          247 files/sec  |  CPU Available: 6%

 Seek/Read:            120 seeks/sec  |  CPU Available: 61%

 Testing with a 512 byte, MEMF_FAST, LONG-aligned buffer.
 Create file:       146203 bytes/sec  |  CPU Available: 19%
 Write to file:     163819 bytes/sec  |  CPU Available: 17%
 Read from file:    184785 bytes/sec  |  CPU Available: 9%

 Testing with a 4096 byte, MEMF_FAST, LONG-aligned buffer.
 Create file:       773632 bytes/sec  |  CPU Available: 39%
 Write to file:     973312 bytes/sec  |  CPU Available: 36%
 Read from file:   1115648 bytes/sec  |  CPU Available: 28%

 Testing with a 32768 byte, MEMF_FAST, LONG-aligned buffer.
 Create file:      1619991 bytes/sec  |  CPU Available: 58%
 Write to file:    2344077 bytes/sec  |  CPU Available: 62%
 Read from file:   1648627 bytes/sec  |  CPU Available: 69%

 Testing with a 262144 byte, MEMF_FAST, LONG-aligned buffer.
 Create file:      2621440 bytes/sec  |  CPU Available: 65%
 Write to file:    4260653 bytes/sec  |  CPU Available: 79%
 Read from file:   2843706 bytes/sec  |  CPU Available: 85%

 Average CPU Available: 43%  |  CPU Availability index: 1331


 MKSoft DiskSpeed 4.2  Copyright © 1989-92 MKSoft Development
 ------------------------------------------------------------
 CPU: 68040  AmigaOS Version: 39.106  Normal Video DMA
 Device:  vuoto:    Buffers: 30
 Comments: HardDisk Micropolis 3243AV+DKB A4091 A4000/040 25Mhz 18Mb

 CPU Speed Rating: 3100

 Testing directory manipulation speed.
 File Create:           63 files/sec  |  CPU Available: 52%
 File Open:             95 files/sec  |  CPU Available: 40%
 Directory Scan:       303 files/sec  |  CPU Available: 6%
 File Delete:          246 files/sec  |  CPU Available: 6%

 Seek/Read:            122 seeks/sec  |  CPU Available: 63%

 Testing with a 524288 byte, MEMF_FAST, LONG-aligned buffer.
 Create file:      3338163 bytes/sec  |  CPU Available: 64%
 Write to file:    5177344 bytes/sec  |  CPU Available: 81%
 Read from file:   3272709 bytes/sec  |  CPU Available: 85%

 Testing with a 1048576 byte, MEMF_FAST, LONG-aligned buffer.
 Create file:      1378056 bytes/sec  |  CPU Available: 72%
 Write to file:    5307606 bytes/sec  |  CPU Available: 83%
 Read from file:   3907736 bytes/sec  |  CPU Available: 83%

 Testing with a 2097152 byte, MEMF_FAST, LONG-aligned buffer.
 Create file:       939373 bytes/sec  |  CPU Available: 70%
 Write to file:    3994575 bytes/sec  |  CPU Available: 64%
 Read from file:   3740461 bytes/sec  |  CPU Available: 65%

 Testing with a 262144 byte, MEMF_FAST, LONG-aligned buffer.
 Create file:      2618167 bytes/sec  |  CPU Available: 65%
 Write to file:    4254521 bytes/sec  |  CPU Available: 77%
 Read from file:   2843706 bytes/sec  |  CPU Available: 84%

 Average CPU Available: 62%  |  CPU Availability index: 1922

@ENDNODE
