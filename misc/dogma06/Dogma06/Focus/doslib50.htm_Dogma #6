<HTML>
<HEAD>
<TITLE>
Догма - электронное Амижное издание
</TITLE>
<meta http-equiv="content-type" content="text/html; charset=windows-1251">
<BODY TEXT="white" bgcolor="black">
</HEAD>
<script language="JavaScript" src="../topalt.js"></script>
<script language="JavaScript" src="../leftalt.js"></script>

<table BACKGROUND="../GFX/fon.jpg" align="center" width="90%" border="0" cellspacing="0" cellpadding="0" bgcolor="black">
<tr>
<td colspan="3"><font color="white">
<CENTER><BR><font size="+1" color="yellow"><b>Немного о DOS.Library v50</b></font><BR>
<font size="-1" color="white">Автор -=\<font size="-1" color="yellow">Colin. J. Wenzel</font>/=- CAM #5<BR><font size="-1" color="white">Перевод -=\<font size="-1" color="yellow">amif1team</font>/=-</font></font><HR></CENTER>
С самого начала AmigaDOS была сиротским ребёнком по отношению к операционной системе AmigaOS, но
дни шли и надо было с чего то начинать. Базой для будущей дисковой операционной системы AmigaDOS
стало ядро TRIPOS, которое было выбрано как оптимальный вариант для будущего строительства планов.
TRIPOS был написан на своём собственном языке BCPL, который по своей сути был ни чем иным, как
прародителем современного языка С, который в свою очередь со временем стал неким псевдо-стандартом
как для самой AmigaOS, так и для множества её компонентов. Он как ни кто другой идеально подошёл для
реализации будущего амижного интерфейса.
<BR><BR>
Да, но мы забегаем немного вперёд. Итак, немного позднее почти все компоненты OS были переписаны под
новый ассемблер процессора MC68000, что и вызвало у целого ряда программистов огромные проблемы, так
как всё было завязано на том, что для каждой последующей версии ассемблера им приходилось постоянно
дорабатывать и оптимизировать свой код, дабы скорости программного обеспечения соответствовали возможностям
новых процессоров.
<BR><BR>
Но осознав это, ситуация стала понемногу меняться к лучшему. Так уже вскоре некоторые неотъемлемые части
AmigaOS были переписаны на C, но основная же часть оставалась под "гнётом" MC68000 ассемблера. Что ж,
восстановление истории BCPL & TRIPOS началось, да что тут говорить, оно и сохранилось до сегодняшнего дня,
ярким тому примером служит DOS.library, находящаяся в основе файловой системы.
<BR><BR>
Многое в области развития произошло и во времена правления компании Commodore, именно тогда и произошла
переоценка всех основных ошибок в данной области, которая в будущем и помогла наверстать упущенные
годы.
<BR><BR>
Время шло, мы прошли огромнейший путь от становления старенького 68000 до современных
тенденций компьютерного рынка, пришло время новой эры - эры AmigaOS4!
<BR><BR>
Пришло время посмотреть вперёд, а не оглядываться постоянно назад - пора использовать аппаратную
часть современного рынка. Любой со мной согласится - программное обеспечение не должно зависеть от пережитков старого.
<BR><BR>
Что же мы имеем на сегодняшний момент? Основная и базовая часть AmigaOS почти полностью переписана на C.
За время совершенствования AmigaOS проделана огромнейшая работа по улучшению самого кода, но как это
не смешно звучит, мы опять возвращаемся к истокам - TRIPOS. Стоило ли вообще отходить от его принципов и
изначально заложенного огромнейшего потенциала? Конечно же нет! Жаль что мы не поняли этого раньше!
<BR><BR>
Путь был тернист и долог, так как нужно было возродить среду разработки и документацию по проекту
TRIPOS, дабы лучше понять саму структуру и перенести принципы на современный ряд языка C. В своё время на это ушло
более 9 месяцев кропотливого труда, одна переработка стандартных команд в C: каталоге операционной системы заняла просто
огромнейший отрезок времени.
<BR><BR>
Всё свершилось 7 декабря 2002 года в 3 часа дня по австралийскому времени, именно тогда вышла
первая dos.library версии 50, полностью переработанная и избавленная от тягот TRIPOS - все пути повели в
Workbench. Затем ещё несколько месяцев продолжалась переписка ассемблерного кода на C. Да, ребятам
почти заново создававшим это стоит сказать огромное спасибо - работа стоила результата, так же свой огромный
вклад в общее дело внесли и бетатестеры.
<BR><BR>
В ходе исправлений, доработок и портирования на C в dos.library было осуществлено:<UL>
<LI>новый подход к LoadSeg;
<LI>новый подход к ReadArgs;
<LI>255 байт на полный путь к файлу;
<LI>исправлено множество концептуальных ошибок, в частности устранены проблемы с NULL;
<LI>добавлено множество функций, связанных с датой и временем, в том числе и переходы между летним и зимним;
<LI>огромное число handler теперь непосредственно находятся в самой dos.library;
<LI>встроена работа с адресацией и сегментацией треков;
<LI>также предусмотрена работа "задачной калибровкой", что до сегодняшнего момента вообще не входило в функции dos;
<LI>полноценно реализованы мульти-assigns;
<LI>встроена поддержка PPC и многих других форматов;
<LI>улавливание системных ошибок и полный отчёт о причинах их возникновения.</UL>
Во время периода разработки dos.library использовался SAS/C компилятор, но нам требовалось сделать
PPC-порт, поэтому немного позднее, а именно в мае 2003 года, мы полностью перешли на GCC, чем и
пользуемся по сей день.
<BR><BR>
Что ж, работа продолжается и сейчас, и я верю, что уже скоро мы сможем представить полностью новые
PPC-компоненты. На этой оптимистической ноте я бы и хотел закончить свой маленький экскурс для читателей
нашего журнала CAM - dos.library v50 - это только начало!
<BR><BR>
Для владельцев CD-версии нашего журнала мы предоставляем старый исходник на ассемблере DOS
v40, название файла: "doslib.asm".
<BR><BR>
До встречи!!!
<BR><BR>
</font></td></tr>
</table>

<script language="JavaScript" src="../downalt.js"></script>
</BODY>
</HTML>
