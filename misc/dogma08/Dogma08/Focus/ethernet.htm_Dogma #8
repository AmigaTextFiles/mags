<HTML>
<HEAD>
<TITLE>
Догма - электронное Амижное издание
</TITLE>
<meta http-equiv="content-type" content="text/html; charset=windows-1251">
<BODY TEXT="white" bgcolor="black">
</HEAD>
<script language="JavaScript" src="../topalt.js"></script>
<script language="JavaScript" src="../leftalt.js"></script>

<table BACKGROUND="../GFX/fon.jpg" align="center" width="90%" border="0" cellspacing="0" cellpadding="0" bgcolor="black">
<tr>
<td colspan="3"><font color="white">
<CENTER><BR><font size="+1" color="yellow"><b>Амига & Ethernet</b></font><BR>
<font size="-1" color="white">Автор -=\<font size="-1" color="yellow">Lazybones (lzb/j77)</font>/=-</font><HR></CENTER>
<CENTER><font size="-1" color="yellow"><PRE>
                        #########
                     ####:::    #####        #########
          ######    ###::           ##    ####:::    #####
         ####::##   ##::  #######::   #  ###::           ##
         ###::  ##  ###::##    ###::  #  ##::  #######::   #
         ###::   #   #####     ##::  #   ###::##    ###::  #
          ##::   #             ##:   #    #####     ##::  #
          ##:    #            ##:   #               ##:   #
           ##:   #           ##:   #               ##:   #
           ##:   #          ##:   #               ##:   #
            ##:  #         ##:   #               ##:   #
   ####     ##:  #        ##:   #    born at    ##:   #
 ####:#     ##:  #       ##::   #  3-oct-1997  ##:   #
###:: #     ##:  #       ##::   #             ##:    #
##::  ##   ##:   #       ##::   #             ##:    #
##::   #####:   ##       ###:: ##             ##:    #
 ###:         ###         ######              ###:  ##
   ############                                ######
</PRE></font></CENTER><BR>
Сбылась мечта идиота - у меня появилась Ethernet-карта для моей A1200.
Первым делом была настроена MiamiDX (в соответствии с инструкцией) и
предприняты попытки ping localhost (конечно, не стоит забывать о
c:cardreset 100). Всё прошло успешно, и через некоторое время в мою
квартиру были заведены два кабеля UTP5e - для Амиги и для будущего сервера
для локалки (если кто не в курсе, у нас в доме локальная сеть :)). Амиге
сразу же был присвоен адрес 192.168.0.16 и были предприняты попытки
пинговать остальные машины в сети (которые под WinXP и W2K). Всё прошло как
нельзя лучше, и я начал задумываться, как это всё применять.
<BR><BR>
Первые мысли - меняться файлами, трепаться в чате. Но как это сделать?
Пришлось подумать, поискать по Aminet, обратиться к умным людям на
#amigarus/зверонет. В достаточно простой и не матерной форме мне объяснили,
что сначала можно поставить пакет Samba, для работы в Micro$oft-сетях.
После чего была скачана Samba и smb-handler. Следуя советам из
документации, Самба была поставлена где-то за 30 минут (по крайней мере, на
это ушло не больше часа, включая скачивание пакета по диалапу и
расшаривание музыки и графики). Теперь Амига стала видна остальным
компьютерам. Сразу стало четко видно ограничение Самбы - она не
многопоточна и весьма низкая скорость скачивания с Амиги. Что касаемо
трансфера... В описании cnet.device что-то говорится о трансфере в 200
kbps№ на 030/40MHz и более 800 kbps на 060 при работе со стеком AmiTCP/IP.
Я же использую Miami, про который сказано, что он работает ЗНАЧИТЕЛЬНО
медленнее. На практике скорость закачивания на фтп у меня достигает 160-190
kbps, что довольно таки мало.
<BR><BR>
После установки Маямы и Самбы я задумался о возможности (невозможности?)
общения в локальном чате. Для PC это было решено очень просто - iChat. А
как быть Амиге? Для работы в M$-сетях у неё есть только Самба (и то,
неполноценная). Так же стало ясно, что доступ к моим файлам был сильно
затруднён и был далеко не безглючен. Порыскав на своем винте в поисках
нужного софта, я быстро обнаружил несколько разных нужных мне IRCd и FTPd.
После детального обследования были найдены самые лучшие программы -
rt-irc4.lha и rc-ftpd.lha. Попытки поставить какой-нибудь HTTPd не привели
к успеху - ни один из них не был стабилен (Apache в расчет не берем :)).
Таким образом, в нашей сетке появились irc и ftp серверы.
<BR><BR>
Попутно выяснилось, что smbclient может показывать расшаренные ресурсы
компьютеров в сети, он же может отправлять сообщения другим машинам (чего я
от него так и не смог добиться, но Димыч говорит, что это можно). Так же
можно монтировать устройство smbfs: и лазить по шарам M$-машин. Но как
всегда, не обошлось без ведра дёгтя в нашей ложке мёда - smb-handler
довольно нестабилен, и в любой момент может увести вашу Амигу медитировать.
От Tango я тоже так и не смог добиться нормальной работы (наверное, я плохо
пробовал). После чего я открыл всего лишь один ресурс на Амиге - RAM:,
откуда у меня товарищи писишники могут забирать нужные им файлы (текстики,
картинки) - благо, fast-ram 128 мегабайт. :)
<BR><BR>
В данный момент фтп и ирц серверы перенесены на C366/196ram/20gbhdd
работающий под FreeBSD. На Амиге же остались Маяма, Самба (лень иногда на
фтп заливать что-то, проще на ram_disk) и разные нужные утилитки (Yam,
IBrowse, AWeb, AmFTP, AmIRC, GoPortscan etc).
<BR><BR>
Так же можно отметить, что Амига может работать гейтом для локальной сети,
достаточно лишь включить Gateway в меню TCP/IP, и, насколько я помню Allow
source routing (остальные машины надо тоже настроить, само собой). А так же
в меню LAN-Connect указать, какой из интерфейсов куда направлен. У меня
так: eth0 - lan, ppp0 - internet, ip-nat - internal.
<BR><BR>
Хочу сказать несколько слов про нужные утилитки. Почтовый клиент, браузер,
фтп и ирц клиенты, telnet, вы выбираете для себя сами. У меня же для этих
целей используются Yam, IB, AWeb, AmFTP, ATC, AmIRC, MiamiTelnet,
GoPortscan, NetInfo. Назначение этих программ вы можете узнать из их
документации.
<BR><BR>
<font color="yellow">MiamiTelnet</font> - самый лучший telnet для Амиги. Остальные клиенты либо не
работают, либо работают так, как не надо.
<BR><BR>
<font color="yellow">GoPortscan</font> - удобно смотреть, какие машины в локалке включены, а какие нет.
<BR><BR>
<font color="yellow">NetInfo</font> - смотреть tracert до нужного IP, узнавать IP по Url.
<BR><BR>
<font color="yellow">Yam</font> - лучший (на мой взгляд) почтовый клиент (только pop3)
<BR><BR>
<font color="yellow">IB/AWeb</font> - один умеет одно, другой - другое. приходится использовать оба.
<BR><BR>
<font color="yellow">AmFTP</font> - довольно глючный фтп-клиент. Можно использовать более приличный - ATC.
(f.e. файл Show Craft.exe длиной 2071847 байт он увидел как файл нулевой длины)
<BR><BR>
<font color="yellow">AmIRC</font> - самый лучший irc-клиент.
<BR><BR>
<font color="yellow">StrICQ, Jabberwocky</font> - у меня так и не заработали.
<BR><BR>
<font color="yellow">NewsCoaster</font> - читалка конференций. У меня не работает.
<BR><BR>
<font color="yellow">OpenURL</font> - полезная вещь. запускает браузер, когда кликаешь по урлу в MUI-тексте
<BR><BR>
<font color="yellow">Charon</font> - качалка файлов. Работает крайне нестабильно.
<BR><BR>
<font color="yellow">WGet</font> - качалка файлов. Портирована из *nix'ов. Не пробовал - по
диалапу качается абсолютно всё, никаких обрывов (AmFTP тоже умеет докачивать :).
<BR><BR>
<font color="yellow">GetIt</font> - качалка файлов. Написана на Rexx, ввиду чего работает довольно
стабильно и даже выполняет свою функцию.
<BR><BR>
<font color="yellow">AmiSSL, OpenSSH, SSH</font> - говорят, нужные программы. Но я и без них обхожусь.
<BR><BR>
Существует довольно большое количество других программ, их я рекомендовать
не буду, нужное вам ищите сами.
<BR><BR>
Хотелось бы отметить, что Miami - это полная копия TCP-стека из FreeBSD,
что облегчает изучение этой ОС (если кому-то надо, конечно). Теперь пара
слов о конфигурировании Маямы:<OL>
<LI>Можно поставить gelbes Panel, очень удобная и приятная штука.
<LI>Советую в Database/Hosts прописать все машины из локалки. Ведь
намного удобнее писать ping alex, чем ping 192.168.0.36
</OL>
Рассказывать что-то еще про Маяму, Самбу и прочий сетевой софт я не буду -
это достаточно подробно описано в документации к каждой программе. Только
посоветую отключить SWAT в Самбе - однако, весьма дырявая вещь (спасибо EMP
и ^3BEPb^, что наглядно показали :)
<BR><BR>
(После написания статьи было обнаружено, что конфигурирование Маямы достаточно
подробно описано в PowerAmiga#2).
<BR><BR>
Итак, кратенько отрезюмируем последовательность действий, необходимых для
поимения lan/inet на Амиге:<OL>
<LI>Покупаем Ethernet-карту. PCMCIA - для A600/A1200, PCI - для владельцев
   PCI-слотов, Zorro - владельцам A2K/A3K/A4K. Не любую, само собой, а НУЖНУЮ.
   Критерий нужности определяете себе сами.
<LI>Скачиваем MiamiDX.lzx, gelbesPanel.lha, 3c589.lha, cnetdevice.lha,
   cardreset.lha, smbfs.lha, smb_handler.zip, samba207_w1251.lha,
   Tango.lha, etc и внимательно изучаем документацию.
<LI>Устанавливаем нужные драйвера и cardreset.
<LI>Запускаем MiamiDX и настраиваем её в соответствии со своими
   нуждами (IP свой, гейта, DNS сервера, Samba, etc)
<LI>Игнорируем установку SWAT (901 порт) (ОБЯЗАТЕЛЬНО!!!)
<LI>Ставим нужный софт - IRCd, HTTPd, FTPd, Yam, IB, AmIRC, AmFTP, ATC, etc
<LI>Наслаждаемся своей крутостью.
</OL>
<font color="yellow">Факт1.</font><BR>
Копирование с FreeBSD-сервера на Амигу по фтп идет со скоростью 120-180 kbps
<BR><BR>
<font color="yellow">Факт2.</font><BR>
Запущен telnet на FreeBSD и ftp-сервер на Амиге. Копируем с Амиги на BSD.<BR>
Скорость трансфера от 90 до 120 kbps (при грубом округлении). Отключаем
Самбу, получаем:<BR>
с RAM: Амиги на ПЦ - 150kbps<BR>
с ПЦ на RAM: Амиги - 220kbps
<BR><BR>
Если я чего-то упустил, не правильно сказал, допустил грамматическую (или
какую другую) ошибку - прошу прощения.
Претензии я принимаю на email или на #j77/руснет, #amigarus/зверонет.
<BR><BR>
№ - kbps - kilobytes per second
<p align="center">Прилагаю несколько скриншотов с работающими программами.<BR><BR>
<IMG SRC="../GFX/net_1.png" border=0 alt="IRCd + FTPd" WIDTH="640" HEIGHT="480"><BR><BR>
<IMG SRC="../GFX/net_2.png" border=0 alt="Samba + FTPd" WIDTH="640" HEIGHT="480"><BR><BR>
<IMG SRC="../GFX/net_3.png" border=0 alt="Настройка ipfw :)" WIDTH="640" HEIGHT="480"><BR><BR>
<IMG SRC="../GFX/net_4.png" border=0 alt="Telnet на локальный FreeBSD-сервер" WIDTH="640" HEIGHT="480"><BR><BR>
Данная статья была написана в переод с 1 по 12 января 2004 года.<BR><BR>
</font></td></tr>
</table>

<script language="JavaScript" src="../downalt.js"></script>
</BODY>
</HTML>
