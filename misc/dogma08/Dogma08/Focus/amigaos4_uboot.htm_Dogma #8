<HTML>
<HEAD>
<TITLE>
Догма - электронное Амижное издание
</TITLE>
<meta http-equiv="content-type" content="text/html; charset=windows-1251">
<BODY TEXT="white" bgcolor="black">
</HEAD>
<script language="JavaScript" src="../topalt.js"></script>
<script language="JavaScript" src="../leftalt.js"></script>

<table BACKGROUND="../GFX/fon.jpg" align="center" width="90%" border="0" cellspacing="0" cellpadding="0" bgcolor="black">
<tr>
<td colspan="3"><font color="white">
<CENTER><BR><font size="+1" color="yellow"><b>Uboot - AmigaOne ROM</b></font><BR>
<font size="-1" color="white">Перевод -=\<font size="-1" color="yellow">amif1team</font>/=-</font><HR></CENTER>

Используйте загрузочную конфигурацию файла Kickstart, расположенную на диске.
<BR><BR>
На классической Amiga мы имеем стандартный ROM, содержащий основные библиотеки:
Exec, Dos, Intuition... Поэтому, мы имели возможность использовать ROM до инсталляции
системы с диска, так называемая загрузка "Booting without Startup-Sequence", при этом
имелась возможность использовать основные Shell-команды в качестве "первой помощи".
<BR><BR>
Uboot - AmigaOne ROM, инициализирует аппаратную часть и производит выбор операционных систем.
Для этих целей не требуется никаких дополнительных библиотек из состава AmigaOS, то есть процесс
по своей сути является некой заменой "boot without Startup-Sequence" на классике, хотя естественно
без поддержки основных компонентов (ExecSG, FFS2...), которые находятся на диске
в каталоге SYS:Kickstart. В данном режиме естественно речь не может идти о неких надстройках над
самой системой AmigaOS, хотя есть возможность выбора загрузочной партиции, а в случае необходимости
и замена ошибочных версий библиотек, пропущенных модулей, и т.д.
<BR><BR><font color="yellow">
Конфигурирование kickstart-модуля.
</font><BR><BR>
Вы пытались обновить свою AmigaOS4 и сделали что-то не так? Ваша система больше не запускается?
Нет проблем!
<BR><BR>
Как ушлые Amiga-пользователи, мы естественно сделали копию своих настроек, благо системные возможности позволяют
сделать копию kickstart-модулей в том количестве в котором необходимо.
<BR><BR>
Чтобы понять как оно работает, рассмотрим Kicklayout-файл из каталога SYS:Kickstart. Это простой
текстовый файл, исполняющийся при второй стадии загрузки SLB (Second Level Booter), который с лёгкостью редактируется.
Выглядит всё довольно просто: одна линейка стартует словом "LABEL" указывающая имя конфигурации, а другая
"MODULE" подключает соответствующий модуль. Ну и естественно линейка "EXEC Kickstart/loader",
которую ни в коем случае не стоит изменять, так как данная процедура должна производить мигрирование
подключённых модулей из памяти в запуск самой OS.
<BR><BR><font color="yellow">
 Пример:<UL><LI>LABEL Default
          <LI>EXEC Kickstart/loader
<BR>
          <LI>MODULE Kickstart/kernel
          <LI>MODULE Kickstart/a1ide.device.kmod
          <LI>....и т.д.
</UL></font>
Обычно создаётся несколько конфигурационных файлов, для редактирования Kicklayout-файла.
Как видно с примера, тут мы создали один простой конфигурационный файл, который автоматически
загружается при каждом перезапуске.
<BR><BR>
Вы сможете производить выбор загружаемого конфигурационного файла в меню Uboot и модифицировать при необходимости
в разделе "Configuration". Естественно kicklayout-файл, названный "Default" загружается при перезапуске
автоматом.
<BR><BR><font color="yellow">
Как создать несколько конфигураций?
</font><BR><BR>
На каком-то этапе вы имеете несколько конфигурационных файлов, находящихся в Kicklayout-файле
с прилагающимся списком модулей. Рассмотрим пример, вы скачали и обновили ядро
OS4 и хотите его инсталлировать; для этого вам стоит отредактировать "Default" конфигурацию.
Для этого следует скопировать пару линеек в "Default", и поставить их после основы kicklayout
файла. Рассмотрим пример:
<UL><font color="yellow"><LI>LABEL Default
          <LI>EXEC Kickstart/loader
          <LI>MODULE Kickstart/kernel
          <LI>....и т.д..
<BR><BR><LI>LABEL update
          <LI>EXEC Kickstart/loader
          <LI>MODULE Kickstart/updated-kernel
          <LI>....и т.д..
</font></UL>
Тем самым мы сообщаем A1 Uboot, что при загрузке SLB мы производим обновление (update) конфигурации.
<BR><BR><font color="yellow">
Простой менеджер конфигураций.
</font><BR><BR>
Если вы имеете несколько конфигурационных файлов, вы просто увидите несколько версий вашего
ядра, хранящихся в виде модулей в каталоге Kickstart.
<UL><font color="yellow"><LI>kernel
          <LI>kernelv2
          <LI>kernel-51.0
          <LI>kernel-01-01-2004
          <LI>....и т.д..
</font></UL>
Что несколько осложнит чтение данного каталога и возможно приведёт к некой некорректности в работе.
Выходом является создание отдельного каталога под каждую из конфигураций, а уже их привязку осуществляем следующим образом.
<UL><font color="yellow">
К примеру:<BR>
          <LI>Kickstart (dir)
              <LI>ConfigOK (dir)
                  <LI>module1.kmod
                  <LI>module2.kmod
              <LI>...
              <LI>Default (dir)
                  <LI>module1.kmod
                  <LI>module2.kmod
              <LI>...
              <LI>Debug (dir)
                  <LI>module1.kmod
              <LI>...
</UL>
И напоследок.
</font><BR><BR>
Таким образом, мы решили некоторые возможные проблемы, естественно могут быть и более серьёзные
проблемы, к примеру, ошибки на диске или отказ при загрузке модулей во время действующего процесса SLB.
Для этого я рекомендую всё тщательно перепроверить в стартовом меню - "boot without Startup-Sequence", где устанавливаем
загрузку с OS4 CDROM и устраняем возможные проблемы. Может когда-нибудь мы вернёмся к
стандартизированному ROM...
<BR><BR><font color="yellow">
Автор: Philippe 'Elwood' Ferrucci<BR>
Редакция Intuitionbase Team<BR>
23 июня 2004 
</font><BR><BR>
</font></td></tr>
</table>

<script language="JavaScript" src="../downalt.js"></script>
</BODY>
</HTML>

