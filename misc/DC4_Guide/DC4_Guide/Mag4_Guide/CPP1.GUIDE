@database CPP1.html
@remark Converted with HTML2Guide ©1997 Mark Harman
@wordwrap

@node MAIN "CPP1.html"
@{"b"}C++ Tutorial - Part 1@{"ub"}  

There should be some C++ source code in the Mag4/ drawer under  the name 'DC4_Adventure.C'. It's all text based, and you don't need any off the Amiga Includes. It's very simple, it is a basic character generator for a roleplay (Compile and run it, and you'll soon see what I mean).  

Please note that this is C++ code. Although there isn't anything significantly C++, like object orientated programming, it still requires C++ (although you could get it to compile under  C with minor modifications.  

You can view the code with multiview by clicking here, if you like.  

To keep things easy, I've declared a structure called character to keep all the player stats in. So we have a name, background, etc, and the stats array to store some basic information.  

The character generation is done by chargen(), which returns the character as structure of type character. This is stored as Player when it is called in main(). This means the same function could create lots of different characters, rather than just working on one.  

In chargen(), the character being worked on is called PC (Player Character - not those horrid machines), and can only be accessed within that function. All variables have what is called a scope, that is, they can only be accessed at certain places, determined where (and how) you declare the variable. PC can only be accessed in chargen(), because that is where we declared it. All the arrays like Races[], Professions[], etc, are global; as they were defined outside of any function, they can be accessed by all functions. Player is declared in main(), so can only be accessed in main(). As you can imagine, this may not be ideal and  I may move it to become a global variable sometime.  

In the chargen() function, you will see things like PC.Age. Remember the character structure (the type that PC is)? There is a variable called Age, and we can access it with PC.Age, just like a normal variable.  

getlistresponse(chars List[],int N) displays a list (stored cunningly enough in the List[] array, and gets a response from the player. You may be wondering why I have defined chars as a new structure to hold a string - it is just to make passing to functions easier, as I had trouble with straightforward character  arrays. There is probably an easier way to do it.  

Then there is the roll(int X,int Y,int Z) function. In roleplaying, it is common to see 'Roll X DY +Z', where X is the number of dice you roll, Y is how many sides on each die, and Z is the number you add on at the end. And that's what this function does.  

Of course, I haven't explained it all, but hopefully you should be able to follow it, especially if you have a good book on C/C++ (recommended!) Feel free to use and alter the code as you wish of course! See you in part 2 next issue.  

@{"b"}Mark@{"ub"}   
 
@endnode

