<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
  <HEAD>
    <META name="generator" content="HTML Tidy, see www.w3.org">
    <TITLE>CLI Workshop Teil 4</TITLE>
  </HEAD>

  <BODY text="#000000" bgcolor="#b0b0b0">
    <TABLE width="100%" border="0" cellpadding="0" summary=
    "Beitrag" bgcolor="#000000">
      <TR>
        <TD>
          <MAP name="wks0">
            <AREA shape="rect" coords="460,1,530,22" href=
            "wks.html" alt="zur&uuml;ck">
          </MAP> 

          <CENTER>
            <TABLE width="640" border="2" cellpadding="0" summary=
            "Seitenformat" bgcolor="#0020a7">
              <TR>
                <TD><IMG src="wks.gif" alt="" width="640" height=
                "22" border="0" usemap="#wks0"> </TD>
              </TR>

              <TR>
                <TD>
                  <TABLE border="0" cellpadding="4" summary="Text"
                  bgcolor="#dbdbdb" width="76%" align="center">
                    <TR>
                      <TD>
                        <H2 align="center">Shell-Workshop Teil IV -
                        The last one (?)</H2>

                        <P>Da bin ich wieder und besch&auml;ftige
                        mich diesmal nur noch ein bi&szlig;chen mit
                        ein paar Besonderheiten der Shell und ihres
                        Fensters.</P>

                        <P>Ein wichtiger Teil der Shell ist ein
                        Script, das ganz versteckt im s:
                        Verzeichnis sein Dasein fristet. Es
                        hei&szlig;t "shell-startup".</P>

                        <P>Eigentlich werden darin nur zwei Befehle
                        benutzt. Prompt und Alias. Mit dem Befehl
                        Prompt setzt man den Prompt der Shell fest.
                        Aber was ist das? Nun es ist der Teil einer
                        Shellzeile, der vor dem Cursor steht und
                        der jedesmal erscheint, wenn wir
                        &lt;Return&gt; dr&uuml;cken. Am Anfang
                        einer Shell ist das in der Regel</P>

                        <P>a) unter Kick 1.x "1.SYS:&gt; "<BR>
                        b) ab Kick 2.0 "1.Ram Disk:&gt; "</P>

                        <P>In der Shell-Startup steht aber etwas
                        ganz anderes:</P>

                        <P>PROMPT "%N.%S&gt; "</P>

                        <P>Nun "%N" wird von der Shell durch die
                        Nummer des Shell-Prozesses ersetzt und "%S"
                        immer durch das gerade aktuelle
                        Verzeichnis.</P>

                        <P>W&uuml;rde hier z.B. stehen:</P>

                        <P>PROMPT "1.Ram Disk:&gt; "</P>

                        <P>W&uuml;rde man am Anfang keinen
                        Unterschied merken. Aber die Nummer
                        &auml;ndert sich nicht, selbst wenn es
                        schon die dritte Shell ist, die ich
                        &ouml;ffne, oder wenn ich mit "cd df0:" das
                        aktuelle Laufwerk wechsle steht dort
                        immernoch "Ram Disk:". Dies hat zwar keine
                        Auswirkungen auf die Arbeitsweise der
                        Shell, ist aber f&uuml;r den Benutzer nicht
                        so sch&ouml;n.</P>

                        <P>Der zweite Befehl "Alias" hat auch keine
                        so gro&szlig;e Bedeutung, kann aber
                        f&uuml;r den Benutzer eine unheimliche
                        Erleichterung sein. Die Parameter, die der
                        Befehl erwartet sind relativ einfach:
                        &lt;Name&gt; &lt;auszuf&uuml;hrender
                        Befehl&gt;</P>

                        <P>Genemigen wir uns ein Beispiel aus
                        meiner Shell-Startup. Es dient zum Packen
                        bzw. entpacken von lha-Archiven:</P>

                        <P>alias Entpacke df1:lha_e1.38/lha -2 x []
                        []<BR>
                         alias Packe df1:lha_e1.38/lha -r -n -e -2
                        a [] [] *</P>

                        <P>Normalerweise m&uuml;&szlig;te ich bei
                        jedem Packen schreiben:</P>

                        <P>1.Workbench&gt; df1:lha_e1.38/lha -2 x
                        ram:MeinArchiv df0:</P>

                        <P>Es wird die Diskette in df0: in die Ram
                        Disk ins Archiv MeinArchiv.lha gepackt. Zum
                        Auspacken:</P>

                        <P>1.Workbench&gt; df1:lha_e1.38/lha -r -n
                        -e -2 a ram:MeinArchiv df0: *</P>

                        <P>Das Entpacken geschieht dann analog. Zum
                        Packen mu&szlig; ich nun dank Alias nur
                        schreiben:</P>

                        <P>1.Workbench&gt; Packe ram:MeinArchiv
                        df0:</P>

                        <P>Zum Entpacken:</P>

                        <P>1.Workbench&gt; Entpacke ram:MeinArchiv
                        df0:</P>

                        <P>Ich glaube, da&szlig; man jetzt den Sinn
                        von Alias versteht. Anstatt immer wieder
                        lange Kommandozeilen eingeben, setzt man
                        einmal den Befehle mit Alias fest. Wobei
                        "[]" durch jeweils einen Paramter in der
                        Befehlszeile ersetzt werden (siehe
                        Beispiel).</P>

                        <P>Wenn jemand lha zu Hause hat und damit
                        nicht so ganz zurecht kommt, der kann nicht
                        davon ausgehen, da&szlig; dieses Beispiel
                        vollkommen richtig ist. Ich habe Lha nicht
                        lange nicht benutzt, aber die Eintr&auml;ge
                        aus der Shell-Startup stimmen auf
                        jedenfall. Es kann eigentlich blo&szlig;
                        sein, da&szlig; ich die beiden Parameter
                        vertauscht habe. Aber es soll ja auch nur
                        als Beispiel dienen.</P>

                        <P>Jetzt widme ich mich mal den
                        Escape-Spielchen in Shell-Fenstern. Es gibt
                        mehrere Zeichenfolgen, die, weil sie mit
                        einem Escape beginnen, Escape-Sequenzen
                        genannt werden. Sie k&ouml;nnen in jedem
                        Shell- oder CLI-Fenster mit dem ECHO Befehl
                        benutzt werden.</P>

                        <P>Aber was haben wir davon? Man kann z.B.
                        den Fensterinhalt l&ouml;schen, die
                        Schriftfarbe ver&auml;ndern, kursive, fette
                        oder/und inverse Schrift einstellen. Aber
                        genehmigen wir uns ein Beispiel:</P>

                        <P>1.Workbench&gt; ECHO "*Ec"</P>

                        <P>Jetzt steht der Kursor in der zweiten
                        Zeile und alles was vorher im Shellfenster
                        stand ist gel&ouml;scht. Aber nehmen wir
                        mal die Zeile auseinander: ECHO "*Ec". ECHO
                        ist der Auszuf&uuml;hrende Befehl. Wenn man
                        dann innerhalb der "" *E schreibt, wird das
                        als Escape interpretiert. Und das "c" ist
                        hierbei das Schl&uuml;sselzeichen zum
                        l&ouml;schen des Fensterinhalts.
                        N&auml;chster Versuch:</P>

                        <P>1.Workbench&gt; ECHO "*E[7;33;41m"</P>

                        <P>Nun sollte man inverse Schrift,
                        Schriftfarbe 3 und Hintergrund Farbe 1
                        eingeschaltet haben. Erkl&auml;rung: Wenn
                        mehrere Escape-Sequenzen gleich aufgerufen
                        werden, d.h., da&szlig; sich nur die Zahlen
                        in der Mitte unterscheiden, kann man sie,
                        wie oben durch Semikolon getrennt,
                        schreiben. Daraus erkennen wir,
                        da&szlig;:</P>

                        <P>1.Workbench&gt;
                        ECHO"*E[7m*E[33m*E[41m"</P>

                        <P>genau das gleiche bewirkt.</P>

                        <P>Wenn ich jetzt alle M&ouml;glichkeiten
                        auf diese Weise erkl&auml;ren w&uuml;rde,
                        w&uuml;rde ich nie fertig werden. Also
                        folgt jetzt eine Liste mit den wichtigsten
                        Escape-Sequenzen.</P>

                        <TABLE border="0" summary="">
                          <TR>
                            <TD colspan="5">Escape-Sequenzen :</TD>
                          </TR>

                          <TR>
                            <TD>Escc<BR>
                            Esc[0m<BR>
                            Esc[1m<BR>
                            Esc[22m<BR>
                            Esc[2m<BR>
                            Esc[3m<BR>
                            Esc[23m<BR>
                            Esc[4m<BR>
                            Esc[24m<BR>
                            Esc[30m<BR>
                            Esc[31m<BR>
                            Esc[32m<BR>
                            Esc[33m<BR>
                            Esc[40m<BR>
                            Esc[41m<BR>
                            Esc[42m<BR>
                            Esc[43m<BR>
                            Esc[7m<BR>
                            Esc[8m<BR>
                            Esc[0 p<BR>
                            Esc[nH<BR>
                            Esc[nE<BR>
                            Esc[nT<BR>
                            Esc[Z<BR>
                            Esc[A<BR>
                            Esc[f</TD>

                            <TD>&nbsp;</TD>

                            <TD>:<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :<BR>
                            :</TD>

                            <TD>&nbsp;</TD>

                            <TD>Fensterinhalt l&ouml;schen<BR>
                            Normale Schrift<BR>
                            Fette Schrift<BR>
                            Fette Schrift abschalten<BR>
                            Schriftfarbe null w&auml;hlen<BR>
                            Kursive Schrift<BR>
                            Kursive Schrift abschalten<BR>
                            Schrift unterstreichen<BR>
                            Schrift Unterstreichung abschalten<BR>
                            Schriftfarbe drei w&auml;hlen<BR>
                            Schriftfarbe vier w&auml;hlen<BR>
                            Schriftfarbe null w&auml;hlen<BR>
                            Schriftfarbe eins w&auml;hlen<BR>
                            Hintergrundfarbe drei w&auml;hlen<BR>
                            Hintergrundfarbe vier w&auml;hlen<BR>
                            Hintergrundfarbe eins w&auml;hlen<BR>
                            Hintergrundfarbe zwei w&auml;hlen<BR>
                            Inverse Schrift<BR>
                            Schrift abschalten<BR>
                            Cursor unsichtbar machen<BR>
                            Cursor in die n-te Zeile setzen<BR>
                            n mal wird Enter geschrieben<BR>
                            in n-te Zeile springen<BR>
                            Kein Zeilen vorschub<BR>
                            Zeile zur&uuml;ck<BR>
                            Cursor zum oberen Fensterrand
                            setzen</TD>
                          </TR>
                        </TABLE>

                        <P>&nbsp;</P>

                        <P>In der Regel ist die Gro&szlig;- und
                        Kleinschreibung der Buchstaben egal es gibt
                        aber Ausnahmen, bei denen dann ein anderer
                        Effekt oder gar nichts eintritt. ESC steht
                        hier f&uuml;r die Escape-Taste bzw.
                        f&uuml;r das *E beim Echo-Befehl.</P>

                        <P>Damit schlie&szlig;e ich meinen Workshop
                        jetzt ab und verabschiede mich mit einem
                        Tsch&uuml;&szlig;. F&uuml;r Fragen bin ich
                        weiterhin zu haben. Also nochmal meine
                        Adresse:</P>

                        <P>Dennis M&uuml;ller<BR>
                         Bruchwiesenweg 27<BR>
                        <BR>
                         45891 Gelsenkirchen</P>
                      </TD>
                    </TR>
                  </TABLE>
                </TD>
              </TR>

              <TR>
                <TD><IMG src="wks.gif" alt="" width="640" height=
                "22" border="0" usemap="#wks0"> </TD>
              </TR>
            </TABLE>
          </CENTER>
        </TD>
      </TR>
    </TABLE>
  </BODY>
</HTML>

