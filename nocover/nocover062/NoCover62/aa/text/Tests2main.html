<HTML>
<BODY ALINK=#FFAA00 VLINK=#000077 LINK=#0022CC BGCOLOR=#FFFFFF TEXT=#000000>
<TABLE BORDER=0 WIDTH="100%">
<TR><TD><PRE>
2. Erfahrungsbericht: Dateisystem 'PFS2 v4.2' (von Uwe Mann)

»PFS2 ist ein Filesystem, das &uuml;ber besondere F&auml;higkeiten verf&uuml;gt.
Auf dem Amiga installiert, bleibt es voll kompatibel zum Fastfilesystem.
Am herausragendsten ist, egal was auch passiert, die Datentr&auml;ger Festplatte 
und Diskette bleiben immer validiert.
Das bedeutet:
Wenn w&auml;hrend des Schreibvorgangs der Amiga abst&uuml;rzt,
                                 der Strom ausf&auml;llt,
                                 der Amiga ausgeschaltet wird,
macht das alles nichts!!
Danach bootet der Amiga, als w&auml;re nichts gewesen.
Allerdings ist das gerade abgespeicherte File auch futsch.
Eine weitere Besonderheit ist, wenn man mit DirOpus 4.2 (z.B.)

z.B.    System:.deldir

im Lister eingibt, kann man die letzten 30 gel&ouml;schten Files jederzeit 
retten!

Wer sich dieses neue Filesystem installieren will, sollte genau wissen, was 
er macht! (Datensicherung!!!)

Auf der CD von PFS2 befindet sich das Filesystem in verschiedenen 
Prozessorvarianten (und dar&uuml;ber hinaus auch das Spiel Kang Fu in der 
Vollversion).

Man sollte sich das auch ausf&uuml;hrlich in Deutsch geschriebene Handbuch im
AmigaGuide-Format voher sehr genau durchlesen.

Eine kleine H&uuml;rde ist auch, dass es vom Original-HDTOOLBOX-Programm 
verschiedene PD-Clones gibt, die wohl eine Festplatte formatieren und 
installieren k&ouml;nnen, aber nicht ein v&ouml;llig anderes (neues) Filesystem in 
den RigidDiskBlock (RDB) schreiben k&ouml;nnen und zus&auml;tzlich eine v&ouml;llig andere 
Maske einstellen k&ouml;nnen.
Hat man so ein Teil auf der Workbench, kommt man schon ins Gr&uuml;beln.

Also am besten das Original HDTOOLBOX von der Workbench auf Disk verwenden!

Im Handbuch sind Screenshots von den verschiedenen Arbeitsschritten.
Auch sollte die Maske peinlich genau so eingestellt werden wie im Handbuch
beschrieben, weil sie von den Voreinstellungen vom FFS erheblich abweicht.
Macht man das nicht, braucht man sich nicht &uuml;ber unerkl&auml;rliche und 
merkw&uuml;rdige Programmabst&uuml;rze und Fehlermeldungen zu wundern.
Die Festplatte muss dann nat&uuml;rlich noch im PFS2-Format formatiert werden.

Desweiteren erhalte ich auf meinem A4000/30-50MHz/OS3.1 beim Booten immer 
eine merkw&uuml;rdige Fehlermeldung. Beim Einschalten des Amigas blinkt die 
POWER-LED 6x auf und ich bekomme eine
80000025 07002210          -Fehlermeldung.
Danach bootet der A4000/30 ganz normal weiter.
Ich vermute, dass das FFS im OS3.1-ROM versucht, von der Festplatte zu 
booten und dann feststellt, dass die Harddisk kein Fastfilesystem hat.

Ich habe das Filesystem probehalber auf der Festplatte meines vorherigen 
A1200 mit Blizzard1230-IV-Turbokarte und OS3.0 installiert, dort habe ich 
die Fehlermeldung nicht, und PFS2 ist dort auch rasend schnell.
Beim A4000/30 kann man das nicht gerade behaupten, was auch kein Wunder 
ist, weil man mit einem 68030-Prozessor auf diesen Computer etwas "unter-
Motorolarisiert" ist.
Man braucht auch gar nicht zu versuchen mit ReOrg, DiskSalv oder 
Quarterbacktools auf eine PFS2-HD-Partition zuzugreifen. Diese Partitionen 
werden immer nur als NO DOS erkannt.

Besondere Freude kommt auf, wenn man, so wie ich, au&szlig;er einer Quantum 
Fireball 1.2 GB am internen AT-Bus auch noch einen SCSI-Oktagon-Controller 
hat, auf dem sich neben einer Quantum-Maverick-520-MB-Platte auch noch 4 MB 
Zip-Ram befinden und die auch noch aktiviert sind...

Das sieht auf der Workbench ganz toll aus, wenn au&szlig;er den standardm&auml;&szlig;igen 
16 MB Fast-RAM auch noch diese 4 MB dazukommen, so dass einem etwa 17-18 MB
"freies" Fast-RAM entgegenl&auml;chelt...

Als ich dann eine Datensicherung mit dem Programm Diavolo auf einer PFS2-
Partition machte und Diavolo &uuml;blicherweise den GESAMTEN Arbeitsspeicher 
vereinahmte, hat sich das Programm wohl aufgeh&auml;ngt oder ist praktisch 
stehengeblieben, als es mit dem extrem langsamen 4MB-24Bit-RAM vom Oktagon-
Controller zusammentraf.
Nichts ging mehr.
Also gut, dachte ich, wir haben ja PFS2,mein Amiga und ich....
Reset...
Danach war diese Partition hin. Und machen kann man da auch nichts, siehe 
etwas weiter oben.

Also Finger weg von 24-Bit-RAM, wenn megabytelange Files geschrieben werden 
und der Arbeitsspeicher voll ausgenutzt wird!!

Ich glaube, so etwas Verr&uuml;cktes hat der Programmierer Michiel Pelt, der 
dieses Filesystem &uuml;ber Jahre geschrieben und entwickelt hat, bestimmt
nicht eingeplant.

Wenn Disketten in diesem Filesystem formatiert sind, werden die Files auf 
der Disk ERHEBLICH schneller geschrieben und k&ouml;nnen noch schneller wieder 
gel&ouml;scht werden, das gilt ganz besonders f&uuml;r HD-Disketten.
Die Disketten sollten aber voll durchformatiert werden, anders als im 
Handbuch angegeben, f&uuml;hrte bei mir das Umformatieren mit Schnellformat beim 
Beschreiben der Disk zu einem satten Absturz.

Blocks out off Diskspace
Diese Fehlermeldung soll es in der Version 4.2 eigentlich nicht mehr geben.
Dieser Fehler war derart &uuml;bel, dass ich das Mountfile f&uuml;r PF0 (so hei&szlig;t das 
DF0 in PFS2) aus devs:DOSDrivers nach storage: verschieben musste, denn 
beim Einlegen der "verschrunzten" PFS2-Disk st&uuml;rzte der Amiga sofort ab, 
wenn das PF0 beim Booten schon angemeldet war.
Die Disk war erst wieder zu gebrauchen, als ich sie mit FFS und dann mit 
dem neuen Filesystem PFS2 (als PF0) voll formatierte!!
Schade ist auch, dass es f&uuml;r dieses schnelle Diskfilesystem (noch?)
keinen Bootblock gibt.

Wenn man diese Spezialfehler, die vielleicht auch nur bei mir aufgetreten
sind, ausklammert, bleibt es ein Filesystem, das seinesgleichen sucht,
besonders wenn der Amiga ein paar PS mehr unter der Haube hat.

Ich habe zwei Tests angef&uuml;gt, bei denen man den Geschwindigkeitsunterschied
schon deutlich sehen kann:

Testkonfig.

A4000/30-50MHz (Blizzard 4030), OS 3.1, 
Quantum Fireball 1.2 GB am internen AT-Bus


PFS2 vers. 4.2


MKSoft DiskSpeed 4.2  Copyright &#169; 1989-92 MKSoft Development
------------------------------------------------------------
CPU: 68030  AmigaOS Version: 40.70  Normal Video DMA
Device:  dh0:    Buffers: 70
Comments: DiskSpeed 4.2

CPU Speed Rating: 2447

Testing directory manipulation speed.
File Create:          185 files/sec  |  CPU Available: 6%
File Open:            260 files/sec  |  CPU Available: 0%
Directory Scan:      1578 files/sec  |  CPU Available: 0%
File Delete:          259 files/sec  |  CPU Available: 0%

Seek/Read:            525 seeks/sec  |  CPU Available: 31%


Amiga OS3.1 FFS

MKSoft DiskSpeed 4.2  Copyright &#169; 1989-92 MKSoft Development
------------------------------------------------------------
CPU: 68030  AmigaOS Version: 40.70  Normal Video DMA
Device:  dh0:    Buffers: 30
Comments: DiskSpeed 4.2

CPU Speed Rating: 2451

Testing directory manipulation speed.
File Create:           45 files/sec  |  CPU Available: 68%
File Open:            147 files/sec  |  CPU Available: 32%
Directory Scan:       635 files/sec  |  CPU Available: 2%
File Delete:          377 files/sec  |  CPU Available: 3%

Seek/Read:            128 seeks/sec  |  CPU Available: 71%


Uwe Mann &lt;Uwe.Mann@t-online.de&gt;«

</PRE></TD></TR>
</TABLE>
</BODY>
</HTML>
</PRE></TD></TR>
</TABLE>
</BODY>
</HTML>
