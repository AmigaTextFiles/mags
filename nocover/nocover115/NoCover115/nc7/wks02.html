<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
    <HEAD>
    <META NAME="GENERATOR" CONTENT="HANDMADE">
    <TITLE>Cracking the Shell - Part two</TITLE>
    </HEAD>

    <BODY TEXT="#000000" LINK="#0000FF" ALINK="#FF0000" VLINK="#0000FF" BGCOLOR="#B0B0B0">
    <TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" SUMMARY="" BGCOLOR="#000000">
    <TR>
        <TD>
        <MAP NAME="wks0">
        <AREA SHAPE="RECT" COORDS="460,1,550,22" HREF="wks.html" ALT="zur&uuml;ck">
        </MAP>
        <TABLE ALIGN="CENTER" WIDTH="640" BORDER="2" CELLPADDING="0" SUMMARY="" BGCOLOR="#800000">
        <TR>
            <TD><IMG SRC="wks.gif" ALT="" WIDTH="640" HEIGHT="22" BORDER="0" USEMAP="#wks0"></TD>
        </TR>
        <TR>
            <TD>
            <BR>
            <H1 ALIGN="CENTER"><B><FONT COLOR="#FFFF00">Cracking the Shell<BR>
            Part two</FONT></B></H1>
            <BR>
            <BR>
            <TABLE ALIGN="CENTER" BORDER="0" CELLPADDING="10" SUMMARY="" BGCOLOR="#C0C0C0" WIDTH="80%">
            <TR>
                <TD>
                <BR>
                <BR>
                <TABLE ALIGN="CENTER" SUMMARY="" BORDER="0" CELLPADDING="0" WIDTH="640">
                <TR>
                     <TD ALIGN="CENTER"><IMG SRC="wks01.png" ALT="Logo"></TD>
                </TR>
                </TABLE
                <BR>
                <BR>
                <PRE>
 **V1.10

                  ---------------------------------
                 {  Cracking the Shell - Part two  }
                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

 [*]--| NewShelll |-------------------------------------------[#][#]
 |  ,,,,,,,,,,,,,,,,,,                                             |
 | * 1.1 Kursfahrplan *                                            |
 |  `````````````````                                              |
 |    [1.) - Einf&uuml;hrung            ]    3.) - Menusystem           |
 |    [   - die wichtigsten Befehle]        - Skriptdateien Nr.2   |
 |                                                                 |
 |--&gt; 2.) - Skriptdateien    &lt;--        4.) - Entr&uuml;peln der W&uuml;rgb. |
 |--&gt;     - eigene Bootdisk  &lt;--            - PD-Tools             |
 |                                                                 |
 |                                                                 |
 |   .........................                                     |
 |  /     to be continued    /   ...&Auml;nderungen vorenthalten...     |
 |  '''''''''''''''''''''''''                                      |
 |                                                                 |
 | &gt;wORK:Games/AMBERSTAR                                           |
 *---------------------------------------------------------------[/]
  ______________________________
 |
 *  Vorraussetzungen: AMIGA MIT OS2.0 ODER H&Ouml;HER.
    ^^^^^^^^^^^^^^^^^ H&Ouml;CHSTWAHRSCHEINLICH FUNKTIONIEREN ALLE
                      BEISPIELE AUCH AUF 1.3, ICH KONNTE ES
                      ABER NICHT AUSPROBIEREN (KEIN 1.3 AMIGA
                      VORHANDEN)                                    *
                                                                   |
                                  ----------------------------------


 Die in diesem  Workshop  beschriebenen  Verfahren  und  Anleitungen
 sowie  die  gegebenen  Informationen  sind  allein  zu  Lehrzwecken
 erstellt. Ich kann  keine  Haftung  f&uuml;r  fehlerhafte  Angaben  oder
 daraus resultierende Folgen &uuml;bernehmen. Alle Beispiele sind auf 2.0
 gepr&uuml;ft. Wenn sich dennoch  Fehler  eingeschlossen  haben,  (wetten
 das)bitte benachrichtigen ! Trotz allem viel Spa&szlig; !
 Die fehlerfreien Versions gibts kostenlos bei mir +(LD+Porto)

                                  *   *
                                    +


"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
1.0                       -=Skriptdateien=-
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

Skriptdateien (vielmals f&auml;lschlich .BAT-chdateien genannt) sind ganz
normale ASCII-Dateien (American Standart Code for Information Inter-
change) wie sie mit jedem Editor (z.B. ED, auf jeder WB) erzeugt wer-
den k&ouml;nnen. Dises Format hat sich auf allen Computerplattformen zu
einem Standartformat entwickelt. So k&ouml;nnen sie z.B. als Umsteiger
vom PC auf den Amiga Ihre alten ASCII-Texte nach der Konvertierung
mit z.B. CROSSDOS auf Ihren neuen Compi 'r&uuml;berretten.
Diese Skriptdateien enthalten Befehlsfolgen normaler DOS-Befehle,
wie sie z.B. im ROM oder in C: stehen. Da die DOS-Befehle nichts
anderes sind als normale Programme (Dpaint, WP), k&ouml;nnen diese na-
t&uuml;rlich auch aufgerufen werden.


Einfache Kontrollstrukturen sind selbstverst&auml;ndlich auch m&ouml;glich.
So k&ouml;nnen sie relativ einfach Men&uuml;s realiseren, das Vorhandensein
einer Datei bestimmen, oder zwischen 2  Ereigissen mit Y/N w&auml;hlen.


"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
1.1                -=Erstellen von Skriptdateien=-
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

1.) &Ouml;ffnen sie eine Shell auf der Sicherheitskopie Ihrer Workbench


2.) Starten sie den Editor mit:
    run ed sys:s/testscript (*)
    \_/ \/ \______________/-&gt; Name der ASCII-Datei, die erstellt wird
     |  |
     |  |--&gt; ED ist der Name des Editors
     |
     |
    Das "Run" ist n&ouml;tig, um das danach folgende Programm von der
    Shell zu l&ouml;sen (ein neuer Task wird gestartet). Fehlt das "Run"
    ist die Shell f&uuml;r Benutzereingaben bis zur Beendigung des ge-
    starteten Programms blockiert. Versuchen Sie's! Lassen sie
    "Run" weg und tippen sie "dir" ins reaktivierte Shell-Window
    (einfach in den Bereich des Windows klicken). Nothing happens!
    Erst nachdem Sie den Editor verlassen haben, surrt (wenn sie
    eine Platte haben) oder schleicht (wenn Sie auf 17kb/s-Disk
    Drives angewiesen sind - irgendwoher kenne ich das :-) die
    Directory an den typisch ger&ouml;tet-geschwollenen Useraugen
    vorbei. Da kommt richtiges Single-Tasking-MSDOS-feeling auf!
    Nostalgie live!


    (*) Sys -&gt; Datentr&auml;ger von dem gebootet wurde (Normalfall
               Platte oder WorkBench-Disk)

        S   -&gt; Scripts - Verzeichnis f&uuml;r Script-Dateien


3.) Der Editor antwortet mit `creating new file` und sie erhalten
    ein leeres Window. Geben sie ein:

    echo " komplettes Verzeichnis von df0: "
    dir df0: all
    echo " ferig. "

    Dann suchen sie die "Esc" Taste (ca 13,5 cm vom unterem Rand
    und 21,7 cm vom Intel-Outside-Aufkleber entfernt - Geodreieck
    bereithalten! :-)
    tippen hinter dem "Command-*" x (f&uuml;r eXit - Der Editor wird
    verlassen (ach!) und wenn ihr Guru einen guten Tag hat, schreibt
    Ed Ihnen sogar die Datei in `S` !)


4.) Tippen sie `cd sys:s` -&gt; Das aktuelle Verzeichnis wird ge&auml;ndert.
    `list`

     .                                 |
     .                                 v
     startup-sequence   xxxbytes      -s--rwed    Datum  Uhrzeit
     testscript         xxxbytes      ----rwed    Datum  Uhrzeit
     .
     .

     Die 3. Spalte ist interessant: hier stehen die schon ange-
     sprochenen Protection - Flags. Sie geben den Status einer
     Datei an (wesentlich besser als die MSDOS-&Uuml;bliche Stanzung
     ins 8.+3 Format), z.B. nicht l&ouml;schbar, nicht lesbar oder
     eben "Skript-Datei". Mehr dazu sp&auml;ter.

     tippen Sie: `protect testscript +s`
                  \_____/ \________/ \/---&gt; zu setzendes Flag
                     |        |
                     |        |---&gt; Name der Datei
                     |
                     |---&gt; Befehl zum &auml;ndern des Datei-Status


"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
1.2                  -=Verwenden von S-Dateien=-
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

     Jetzt k&ouml;nnen Sie das Ergebnis sofort &uuml;berpr&uuml;fen. LISTen sie
     das Verzeichnis erneut --&gt; siehe da, under Skript hat ein `s`.
     Dies ist n&ouml;tig, damit unsere Datei vom System als Skript
     anerkannt wird und genauso wie jeder andere Befehl verwended
     werden kann. Testen wir es!

         tippen Sie:
     --&gt; cd sys:
         (Im Prompt m&uuml;&szlig;te jetzt "Name der Bootdisk":&gt; stehen)
     --&gt; testskript
         (Na, was sag ich..)


"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
2.0                    -=Die eigene Bootdisk=-
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

Jetzt wird's spannend! Sicherlich viele von Ihnen wollten schon immer
gute PD-Soft, usw... selbstartent auf Disk bannen. Es ist sehr viel
einfacher als man denkt:
1.) Die Disk formatieren
2.) Wichtige Dateien kopieren, Verzeichnisse anlegen
3.) Bootblock installieren
4.) Startdatei erstellen. fertig

(Bei diesem Beispiel gehe ich von der Minimalkonfiguration 1LW aus)

Nehmen Sie eine frische Disk zu Hand.
Geben Sie in der Shell ein:


---&gt; format drive df0: name firstDisk
     \____/ \_______/  \____________/ --&gt; Diskname
  na was wohl   |
                |
                |-&gt; hier k&ouml;nnte auch `df1` `dh0` :-))) usw stehen

Legen Sie auf Anweisung die neue Disk ein.
Folgen Sie den Anweisungen in den Requestern!
(Um Diskettenwechsel zu ersparen geben sie ein:
 -&gt; resident c:copy pure add
 -&gt; resident c:makedire pure add
 -&gt; resident c:install pure add
 -&gt; resident c:ed pure add
    (mit pure add machen sie bestimmte Kommandos residentf&auml;hig))


---&gt; makedir firstdisk:s firstdisk:c
     \____/  \_________/ \_________/-&gt; Die Namen der neuen dirs
       |
       |-&gt; Kommando, um neue dirs zu erstellen.

---&gt; copy from sys:c/loadwb to firstdisk:c/
     ^                 \/
     |                 |-&gt; optional, gilt auch f&uuml;r `from`.
     |-&gt; d&uuml;rfte klar sein.

---&gt; run ed firstdisk:s/startup-sequence
                      \________________/
                               |
                   Diese Datei ist die Startdatei.
              Sie mu&szlig; unbedingt im S-Verzeichnis stehen.
   Sie enth&auml;lt wichtige Befehle, die beim booten ausgef&uuml;hrt werden.


geben Sie ein: loadwb
dann `Esc` und x.

     Installieren Sie den Bootblock.
     Dieser nimmt die ersten beiden Bl&ouml;cke 0 und 1 einer Disk
     ein, ist 2kb gro&szlig; und signalisiert dem Betriebsystem, ob
     er eine Disk starten soll oder nicht. Im Bootblock k&ouml;nnen
     Programme und sogar Spiele (!!) untergebracht werden.

---&gt; install firstdisk:

so, fertig ist die Bootdisk! Probieren sie es aus!

                </PRE>
                <BR>
                <BR>
                </TD>
            </TR>
            </TABLE>
            <BR>
            <BR>
            </TD>
        </TR>
        <TR>
            <TD><IMG SRC="wks.gif" ALT="" WIDTH="640" HEIGHT="22" BORDER="0" USEMAP="#wks0"></TD>
        </TR>
        </TABLE>
        </TD>
    </TR>
    </TABLE>
    </BODY>
</HTML>

