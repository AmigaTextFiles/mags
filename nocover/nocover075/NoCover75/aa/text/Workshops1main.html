<HTML>
<BODY ALINK=#FFAA00 VLINK=#000077 LINK=#0022CC BGCOLOR=#FFFFFF TEXT=#000000>
<TABLE BORDER=0 WIDTH="100%">
<TR><TD><PRE>
Workshops / Hintergrundberichte / Buchvorstellungen
---------------------------------------------------

1. Workshop: Aufbau eines Netzwerks mit AmigaOS und Linux (v. Uwe Pannecke)

»Beam me up, terminal


Ein Mini-Netzwerk


1. Datenaustausch im Rechnerverbund

Die Zeiten, in denen nur in jedem 50. bundesdeutschen Haushalt ein Rechner 
sein Dasein fristete, scheint nach j&uuml;ngsten statistischen Erhebungen 
endg&uuml;ltig vorbei zu sein. Ebenso findet man gar nicht mehr so selten mehr 
als einen Computer in einer Wohnung. Nicht mal so selten summt der Rechner 
des/der Alten, nur durch eine Zimmerwand getrennt vom Computer des Steppkes 
oder der Steppkeline vor sich hin. Und egal, welches Betriebssystem auf den 
einzelnen Rechnern f&uuml;r die Abst&uuml;rze sorgt, viele Daten, ob nun Bilder, 
Texte, Musikst&uuml;cke oder was auch immer, h&auml;tte man gern schnell einmal 
ausgetauscht, ohne deshalb gleich einen Kurzlehrgang als Diskjockey 
absolvieren zu m&uuml;ssen. Da liegt es nat&uuml;rlich nahe, an eine Rechnerkopplung 
zu denken. Die sicher universellste L&ouml;sung w&auml;re ein Verbund &uuml;ber 
Netzwerkkarten. F&uuml;r den Wintel-PC sind selbige an beinahe jeder Ecke f&uuml;r 
eine Apfel und ein Ei zu ergattern, f&uuml;r den Amiga sieht es da nicht ganz so 
rosig aus. Zwei Amiga-Netzwerkkarten f&uuml;r die Amiga-Kopplung st&uuml;rzen so 
manchen User in leichte bis schwere finanzielle N&ouml;te.
Sollen nicht unbedingt gigabyte-weise Daten in m&ouml;glichst hoher 
Geschwindigkeit transferiert werden, kann auch mit einfachsten Mitteln ein 
Mini-Netzwerk &uuml;ber die parallele oder serielle Schnittstelle eingerichtet 
werden.
Im folgenden soll ein Beispiel in Form einer Nullmodem-Verbindung mit Hilfe 
zweier Terminal-Programme zwischen  AmigaOS und Linux beschrieben werden. 
Gleicherma&szlig;en l&auml;&szlig;t sich die Vorgehensweise auch auf beliebige weitere 
Betriebssysteme &uuml;bertragen.


2. Hardware

Je nach gew&uuml;nschter Verbindungsstelle wird ein sogenanntes Nullmodem-Kabel 
entweder f&uuml;r die parallele oder die serielle Schnittstelle ben&ouml;tigt. Die 
parallele Schnittstelle bietet zwar eine deutlich h&ouml;here Geschwindigkeit, 
da aber oftmals an selbiger bereits ein Drucker angeschlossen ist, soll in 
diesem Beitrag eine serielle Verbindung der beiden Rechner betrachtet 
werden. Die erste H&uuml;rde, die es zu nehmen gilt, ist das Nullmodem-Kabel f&uuml;r 
die seriellen Schnittstellen. Wenn Euch nicht unbekannt ist, an welcher 
Seite ein L&ouml;tkolben warm wird, k&ouml;nnt Ihr dieses Kabel selbst 
zusammenbasteln. In diversen Programmpaketen zur Par- und SerNet-Verbindung 
zweier Amigas im Aminet finden sich oft recht ausf&uuml;hrliche Anleitungen. 
Eine sehr gut geeignete, weil ausf&uuml;hrlich und in deutscher Sprache 
verfasste Anleitung findet Ihr unter [1]. Dort sind die zu verbindenden 
Kontakte der beiden seriellen Stecker detailliert beschrieben. Neben den 
beiden Steckern wird ein zumindest sieben-adriges Kabel, das bis zu etwa 4 
bis 5 m lang sein kann, ben&ouml;tigt.
Ist Euch die Sache mit der eigenh&auml;ndigen L&ouml;tarbeit zu windig und die CIA-
Chips f&uuml;r Selbstversuche zu schade, bietet jedes gr&ouml;&szlig;ere Kaufhaus ein 
passendes Kabel f&uuml;r ca. 20 DM zum Kauf an. Achtet beim Kauf unbedingt 
darauf, da&szlig; es sich tats&auml;chlich um ein Nullmodem-Kabel f&uuml;r die 
Daten&uuml;bertragung &uuml;ber die serielle Schnittstelle handelt. Dies muss 
deutlich auf der Verpackung zu lesen sein. Da diese Kabel zumeist mit 9-
poligen Steckverbindern angeboten werden, der Amiga aber nur &uuml;ber eine 
eingebaute 25-polige Buchse verf&uuml;gt, ist zus&auml;tzlich noch ein Adapter von 9- 
auf 25-polig vonn&ouml;ten. Sollte in Eurem Amiga eine I/O-Erweiterung wie etwa 
die MultifaceCard f&uuml;r zus&auml;tzlichen Stromverbrauch sorgen, steht meist 
bereits ein neunpoliger Anschlu&szlig; auf diesen Karten zur Verf&uuml;gung und ihr 
k&ouml;nnt auf den Adapter verzichten. 


3. Software

Die beste elektrische Verbindung zwischen den beiden Rechnern n&uuml;tzt nicht 
allzu viel, wenn keine Software den Datenaustausch organisiert. Eine f&uuml;r 
diese Zwecke gut geeignete Programm-Kategorie sind die Terminal-Programme, 
welche f&uuml;r die jeweiligen Betriebssysteme oft in gro&szlig;er Auswahl zur 
Verf&uuml;gung stehen. Beispielhaft sind nachfolgend zwei Programme aus dem 
Terminal-Pool herausgegriffen.


3.1 AmigaOS

Seit einer ganzen Reihe von Jahren tummelt sich auf dem Amiga ein, oder 
wohl besser DAS Terminalprogramm, vom keinem geringeren als Olaf Barthel 
erstellt und mit viel Phantasie als "Term" bezeichnet. Term ist Giftware, 
d.h. Olaf Barthel erwartet bei intensivem Gebrauch seines Programmes ein 
wenig Gift, &auml;hm Mitgift, also irgendein kleines Geschenk. Ihr findet Term 
u.a. im Aminet [2] in der Version 4.7. F&uuml;r eine vollst&auml;ndige Installation 
ben&ouml;tigt Ihr die Pakete "term_main.lha", "term_libs.lha", "term_extras.lha" 
und "term_locale.lha".
Mit "term_deutsch.lha" steht Euch eine sehr ausf&uuml;hrliche und vor allem 
lesenswerte deutsche Dokumentation zur Verf&uuml;gung, das Paket "term_030.lha" 
enth&auml;lt eine f&uuml;r 68030-CPU optimierte Programmversion. Sind alle 
Programmpakete entpackt und Term in einer Schublade Eurer Amiga-Festplatte 
installiert, kommt der entscheidende Teil: die Konfiguration. L&auml;&szlig;t man das 
erste mal die Maus &uuml;ber die einzelnen Men&uuml;-Punkte wandern, wird man von der 
fast un&uuml;berschaubaren Vielzahl an Einstellm&ouml;glichkeiten, gerade auch im 
Konfigurationsmenu, f&ouml;rmlich erschlagen.

Screenshot:
<IMG SRC="../extra/Term1.png" ALT="Screenshot">

Lasst Euch davon nicht abschrecken, sondern schreitet mutig zur Tat. Ein 
elementarer Men&uuml;-Punkt ist "Einst./Schnittstelle...". Neben der Baudrate, 
also der &Uuml;bertragungsgeschwindigkeit, die bei eingebauter serieller 
Schnittstelle und einer 68030-CPU aufw&auml;rts wohl gerade noch mit maximal 
57600 bps reibungslos funktionieren d&uuml;rfte, bei zus&auml;tzlicher 
Schnittstellen-Karte (im vorliegenden Fall eine MultiFaceCard III) und 
gleicher CPU durchaus auch noch 115200 bps verkraftet, m&uuml;ssen die 
&uuml;bertragenen Bits pro Zeichen (hier 8), die verwendete &Uuml;bertragungsparit&auml;t 
(hier Keine), eingesetzte Stoppbits (hier 1) und das 
Daten&uuml;bermittlungsprotokoll (hier RTS/CTS/pr&uuml;fe DSR) in der Karteikarte 
"Parameter" mindestens eingestellt bzw. notiert werden. Denn das auf dem 
zweiten Rechner arbeitende Terminalprogramm braucht diese Informationen, um 
sich mit seinem Gegen&uuml;ber verst&auml;ndigen zu k&ouml;nnen.

Screenshot:
<IMG SRC="../extra/Term2.png" ALT="Screenshot">

Unter dem Karteireiter "Schnittstelle" ist selbige passend einzustellen. 
Die interne serielle Schnittstelle wird standardm&auml;&szlig;ig &uuml;ber "serial.device" 
angesprochen. Da im vorliegenden Fall eine MultifaceCard zum Einsatz kommt,
ist hier der passende Schnittstellentreiber das "duart.device". Die 
Treibernummer w&auml;re bei der amigaeigenen seriellen Schnittstelle die "0", 
bei zus&auml;tzlichen Schnittstellenkarten sind hier unterschiedliche Werte, je 
nach Anzahl und gerade verwendeter Schnittstelle (hier "1" f&uuml;r die zweite 
serielle Schnittstelle der MultiFacecard III) einzustellen.

Screenshot:
<IMG SRC="../extra/Term3.png" ALT="Screenshot">

Die Modemeinstellungen unter "Einst./Modem..." k&ouml;nnen oft unver&auml;ndert 
bleiben. Sinnvoll ist vor einem ersten Test die Wahl geeigneter 
Verzeichnisse, aus denen Daten gesendet oder empfangene Daten abgespeichert 
werden sollen. Der Men&uuml;-Punkt "Einst./Dateipfade..." bietet die passenden 
Wahlm&ouml;glichkeiten.

Screenshot:
<IMG SRC="../extra/Term4.png" ALT="Screenshot">

Jetzt sollten die get&auml;tigten Einstellungen noch f&uuml;r eine dauerhafte Nutzung 
abgespeichert werden. "Term" ist nun f&uuml;r seinen ersten Einsatz pr&auml;pariert.


3.2 Linux     

Ein f&uuml;r unsere Zwecke gut geeignetes und wohl jeder Distribution 
beiliegendes Terminalprogramm ist "Minicom" [3], welches &uuml;ber Jahre von 
verschiedenen Autoren wie Miquel van Smoorenburg und Jukka Lathinen 
entwickelt bzww. verbessert wurde. Die Bedienung dieses Programmes erfolgt 
komplett &uuml;ber die Tastatur. Was f&uuml;r den Amigianer auf den ersten Blick wie 
Anachronismus erscheint, geht wider Erwarten nach kurzer Eingew&ouml;hnungsphase 
flott von der Hand.
Vor der ersten Benutzung "Minicoms" steht nat&uuml;rlich ebenso die 
Konfiguration. Mit der Eingabe "minicom -s" in z.B ein XTerm-Fenster wird 
die Konfiguration gestartet.

Screenshot:
<IMG SRC="../extra/Minicom1.png" ALT="Screenshot">

Als erstes legen wir die Verzeichnisse fest, in den empfangene Daten 
abgespeichert und zu sendende Daten gesucht werden.

Screenshot:
<IMG SRC="../extra/Minicom2.png" ALT="Screenshot">

Der Menu-Punkt "File transfer protocols" kann unver&auml;ndert bleiben, 
unbedingt notwendig jedoch ist "Serial port setup". Nach Eingabe eines "A" 
l&auml;&szlig;t sich die seriellen Schnittstelle w&auml;hlen, wobei "/dev/ttyS0" f&uuml;r die 
erste, "/dev/ttyS1" f&uuml;r die zweite Schnittstelle steht. Mit "E" kann dann 
die passende Schnittstellen-Geschwindigkeit, Parit&auml;t und die Bits per 
Zeichen entsprechend der bei "Term" getroffenen Wahl angepasst werden. Da 
"Term" mit 115200 Bps und 8 Datenbits ohne Parit&auml;t konfiguriert wurde, 
sorgt die Tastenkombination "H" und "O" f&uuml;r die ad&auml;quaten Werte bei 
"minicom".

Screenshot:
<IMG SRC="../extra/Minicom3.png" ALT="Screenshot">

Die Anwahl des Punktes "Save setup as dfl" veranla&szlig;t Minicom, die 
get&auml;tigten Einstellungen als Default-Werte abzuspeichern. Beim n&auml;chsten 
Start reicht dann die Eingabe "minicom", um das Terminalprogramm 
arbeitsbereit zu haben.


4. Datentranfer

Jetzt wird es spannend.  Der erste Datentransfer soll vom Amiga zum Linux-
Rechner laufen. Wir starten "minicom" durch die Eingabe seines Namens in 
einem XTerm- oder Rxvt-Fenster. Jetzt ist es an der Zeit, "Term" mit einem 
Doppelklick auf sein Icon in einen arbeitsf&auml;higen Zustand zu versetzen. 
Nach einer kurzen Initialisierungsphase kann die Daten&uuml;bertragung starten: 
Die Anwahl des Men&uuml;-Punktes "&Uuml;bertr./Bin&auml;r-Datei(en) senden..." &ouml;ffnet 
einen Datei-Requester, in dem eine zu &uuml;bertragende Datei gew&auml;hlt wird. Ein 
Klick auf "OK" veranla&szlig;t nun "Term", die Daten auf die Reise zu schicken. 
"Minicom" erkennt selbst&auml;ndig, da&szlig; ihm jemand Daten schickt und nimmt 
selbige in Empfang.

Screenshot:
<IMG SRC="../extra/DatenempfangMinicom.png" ALT="Screenshot">
 
Sollen Daten vom Linux-Rechner &uuml;ber "minicom" verschickt werden, sorgt die 
Tastenkombination "Alt" + "s" im "minicom"-Fenster f&uuml;r die Wahlm&ouml;glichkeit 
eines &Uuml;bertragungsprotokolls. Getrost kann das voreingestellte ZModem-
Protokoll mit ENTER best&auml;tigt werden. Sofort bietet "minicom" die im zuvor 
festgelegten Upload-Verzeichnis befindlichen Daten zur Selektion an. Hat 
man seine Wahl (mit den Cursortasten scrollend, die eigntliche Auswahl mit 
der Space-Taste) getroffen, sorgt wiederum ein ENTER für eine Datenstrom in 
Richtung Amiga.

Screenshot:
<IMG SRC="../extra/DatenempfangTerm.png" ALT="Screenshot">

In beiden Terminalprogrammen kann der Datentransfer anschaulich mitverfolgt 
werden.  


5. Fazit

Ohne gro&szlig;en finanziellen und baulichen Aufwand lassen sich zwei Rechner 
beliebiger Betriebssysteme &uuml;ber die serielle Schnittstelle verbinden. Mit 
einem Terminalprogramm auf jeder Seite ist schon nach wenigen Minuten eine 
stabile und zuverl&auml;ssige, wenn auch der Schnittstelle entsprechend 
gem&auml;chliche Datenreise zwischen den Rechnern realisiert.
  

[1] im Aminet unter /comm/net/ProNET34.lha
[2] im Aminet unter /comm/term/term_xxx.lha 
[3] http://www.freshmeat.net/


Uwe Pannecke &lt;Uwe.Pannecke@t-online.de&gt;«

</PRE></TD></TR>
</TABLE>
</BODY>
</HTML>
</PRE></TD></TR>
</TABLE>
</BODY>
</HTML>
