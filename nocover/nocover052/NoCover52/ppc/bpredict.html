<html>
<head>
  <title>MagicSNs PowerPC ASM Coding Tutorial</title>
  <meta name="Generator" content="GuideML V1.5">
  <meta http-equiv="Content-Type" content="text/html">
</head>
<body>
<a href="main.html">CONTENTS</a> | <a href="bcmp.html">PREV</a> | <a href="count.html">NEXT</a>
<hr>
<pre>

<b>Branch Prediction</b>

The PowerPC has Branch Prediction, which means it can predict, in which direction
a branch will PROBABLY go. If this comes true, then, you will enhance the speed
of your code (yes, this is a special RISC feature !!!). The code will run correctly
also if the predictions are wrong, though. But if they are correct, it will run
FASTER. It won't run much faster, though, unless really consequently used (like
an optimizer of a compiler would do...). Probably one of the optimization techniques
only a real compiler can use really effectively. But, anyways... here it is (there
are other optimization techniques that also can be used for &quot;human&quot; coders, on
which i will provide information later):

On default, the jump prediction mechanism assumes:

* conditioned branches, which jump to an address in LR or CTRL will be predicted
  that they will NOT be taken
* conditioned branches, that branch backward, will be assumed TO BE TAKEN
* conditioned branches, that branch forward, will be assumed to NOT be taken

Now it is possible that the prediction is wrong. Because of that you can manually
modify the branch prediction. If you add a + to the command, the branch will probably
be taken, if you add a -, probably not.

Remember: Even if you do NOT think about branch prediction, your code wil STILL RUN
(which is NOT the case for all RISC CPUs, but luckily for the PPC).

Examples:

blt- label
beq+ test

</pre>
</body>
</html>
